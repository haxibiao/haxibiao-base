function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}"undefined"!=typeof window&&function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Hls=e():t.Hls=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function a(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||t,a),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new a:delete t._events[e]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,i,a,o){var s=r?r+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,a),!0;case 6:return u.fn.call(u.context,e,n,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,c=[],u=o.length;s<u;s++)(o[s].fn!==e||i&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&l(this,e)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,n){var i,r,a,o,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,r=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):e;var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=r.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(d)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},"./node_modules/webworkify-webpack/index.js":function(t,e,n){function i(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var i=n(n.s=ENTRY_MODULE);return i.default||i}var r="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+r+").*?\\)";function o(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,e,i){var s={};s[i]=[];var l=e.toString(),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var u,d=c[1],f=new RegExp("(\\\\n|\\W)"+o(d)+a,"g");u=f.exec(l);)"dll-reference"!==u[3]&&s[i].push(u[3]);for(f=new RegExp("\\("+o(d)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+a,"g");u=f.exec(l);)t[u[2]]||(s[i].push(u[1]),t[u[2]]=n(u[1]).m),s[u[2]]=s[u[2]]||[],s[u[2]].push(u[4]);for(var p,h=Object.keys(s),m=0;m<h.length;m++)for(var g=0;g<s[h[m]].length;g++)p=s[h[m]][g],isNaN(1*p)||(s[h[m]][g]=1*s[h[m]][g]);return s}function l(t){return Object.keys(t).reduce(function(e,n){return e||t[n].length>0},!1)}t.exports=function(t,e){e=e||{};var r={main:n.m},a=e.all?{main:Object.keys(r.main)}:function(t,e){for(var n={main:[e]},i={main:[]},r={main:{}};l(n);)for(var a=Object.keys(n),o=0;o<a.length;o++){var c=a[o],u=n[c].pop();if(r[c]=r[c]||{},!r[c][u]&&t[c][u]){r[c][u]=!0,i[c]=i[c]||[],i[c].push(u);for(var d=s(t,t[c][u],c),f=Object.keys(d),p=0;p<f.length;p++)n[f[p]]=n[f[p]]||[],n[f[p]]=n[f[p]].concat(d[f[p]])}}return i}(r,t),o="";Object.keys(a).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;a[t][e];)e++;a[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a[t].map(function(e){return JSON.stringify(e)+": "+r[t][e].toString()}).join(",")+"});\n"}),o=o+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a.main.map(function(t){return JSON.stringify(t)+": "+r.main[t].toString()}).join(",")+"}))(self);";var c=new window.Blob([o],{type:"text/javascript"});if(e.bare)return c;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),d=new window.Worker(u);return d.objectURL=u,d}},"./src/crypt/decrypter.js":function(t,e,n){"use strict";n.r(e);var i=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),r=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();var a=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},e.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],f=new Uint32Array(256),p=0,h=0,m=0;for(m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=h^h<<1^h<<2^h<<3^h<<4;g=g>>>8^255&g^99,t[p]=g,e[g]=p;var v=f[p],y=f[v],b=f[y],_=257*f[g]^16843008*g;i[p]=_<<24|_>>>8,r[p]=_<<16|_>>>16,a[p]=_<<8|_>>>24,o[p]=_,_=16843009*b^65537*y^257*v^16843008*p,l[g]=_<<24|_>>>8,c[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,d[g]=_,p?(p=v^f[f[f[b^v]]],h^=f[f[h]]):p=h=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a,o,s,l,c=this.ksRows=4*(r+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),f=this.sBox,p=this.rcon,h=this.invSubMix,m=h[0],g=h[1],v=h[2],y=h[3];for(a=0;a<c;a++)a<r?s=u[a]=e[a]:(l=s,a%r==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=p[a/r|0]<<24):r>6&&a%r==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),u[a]=s=(u[a-r]^l)>>>0);for(o=0;o<c;o++)a=c-o,l=3&o?u[a]:u[a-4],d[o]=o<4||a<=4?l:m[f[l>>>24]]^g[f[l>>>16&255]]^v[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,n,i){for(var r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w=this.keySize+6,x=this.invKeySchedule,T=this.invSBox,k=this.invSubMix,C=k[0],E=k[1],S=k[2],A=k[3],R=this.uint8ArrayToUint32Array_(n),L=R[0],D=R[1],O=R[2],I=R[3],P=new Int32Array(t),N=new Int32Array(P.length),M=this.networkToHostOrderSwap;e<P.length;){for(f=M(P[e]),p=M(P[e+1]),h=M(P[e+2]),m=M(P[e+3]),l=f^x[0],c=m^x[1],u=h^x[2],d=p^x[3],g=4,v=1;v<w;v++)r=C[l>>>24]^E[c>>16&255]^S[u>>8&255]^A[255&d]^x[g],a=C[c>>>24]^E[u>>16&255]^S[d>>8&255]^A[255&l]^x[g+1],o=C[u>>>24]^E[d>>16&255]^S[l>>8&255]^A[255&c]^x[g+2],s=C[d>>>24]^E[l>>16&255]^S[c>>8&255]^A[255&u]^x[g+3],l=r,c=a,u=o,d=s,g+=4;r=T[l>>>24]<<24^T[c>>16&255]<<16^T[u>>8&255]<<8^T[255&d]^x[g],a=T[c>>>24]<<24^T[u>>16&255]<<16^T[d>>8&255]<<8^T[255&l]^x[g+1],o=T[u>>>24]<<24^T[d>>16&255]<<16^T[l>>8&255]<<8^T[255&c]^x[g+2],s=T[d>>>24]<<24^T[l>>16&255]<<16^T[c>>8&255]<<8^T[255&u]^x[g+3],g+=3,N[e]=M(r^L),N[e+1]=M(s^D),N[e+2]=M(o^O),N[e+3]=M(a^I),L=f,D=p,O=h,I=m,e+=4}return i?(y=N.buffer,b=y.byteLength,(_=b&&new DataView(y).getUint8(b-1))?y.slice(0,b-_):y):N.buffer},e.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),o=n("./src/errors.ts"),s=n("./src/utils/logger.js"),l=n("./src/events.js"),c=n("./src/utils/get-self-scope.js"),u=Object(c.getSelfScope)(),d=function(){function t(t,e,n){var i=(void 0===n?{}:n).removePKCS7Padding,r=void 0===i||i;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=r,r)try{var a=u.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}var e=t.prototype;return e.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.decrypt=function(t,e,n,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var c=this.decryptor;c||(this.decryptor=c=new a),c.expandKey(e),o(c.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new r(u,e)),this.fastAesKey.expandKey().then(function(r){new i(u,n).decrypt(t,r).catch(function(i){l.onWebCryptoError(i,t,e,n,o)}).then(function(t){o(t)})}).catch(function(i){l.onWebCryptoError(i,t,e,n,o)})}},e.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},e.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.default=d},"./src/demux/demuxer-inline.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/events.js"),r=n("./src/errors.ts"),a=n("./src/crypt/decrypter.js"),o=n("./src/polyfills/number.js"),s=n("./src/utils/logger.js"),l=n("./src/utils/get-self-scope.js");function c(t,e){return 255===t[e]&&240==(246&t[e+1])}function u(t,e){return 1&t[e+1]?7:9}function d(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function f(t,e){return!!(e+1<t.length&&c(t,e))}function p(t,e){if(f(t,e)){var n=u(t,e);if(e+n>=t.length)return!1;var i=d(t,e);if(i<=n)return!1;var r=e+i;if(r===t.length||r+1<t.length&&c(t,r))return!0}return!1}function h(t,e,n,a,o){if(!t.samplerate){var l=function(t,e,n,a){var o,l,c,u,d,f=navigator.userAgent.toLowerCase(),p=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&e[n+2])>>>6),!((l=(60&e[n+2])>>>2)>h.length-1))return u=(1&e[n+2])<<2,u|=(192&e[n+3])>>>6,s.logger.log("manifest codec:"+a+",ADTS data:type:"+o+",sampleingIndex:"+l+"["+h[l]+"Hz],channelConfig:"+u),/firefox/i.test(f)?l>=6?(o=5,d=new Array(4),c=l-3):(o=2,d=new Array(2),c=l):-1!==f.indexOf("android")?(o=2,d=new Array(2),c=l):(o=5,d=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?c=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===u||/vivaldi/i.test(f))||!a&&1===u)&&(o=2,d=new Array(2)),c=l)),d[0]=o<<3,d[0]|=(14&l)>>1,d[1]|=(1&l)<<7,d[1]|=u<<3,5===o&&(d[1]|=(14&c)>>1,d[2]=(1&c)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:h[l],channelCount:u,codec:"mp4a.40."+o,manifestCodec:p};t.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}(e,n,a,o);t.config=l.config,t.samplerate=l.samplerate,t.channelCount=l.channelCount,t.codec=l.codec,t.manifestCodec=l.manifestCodec,s.logger.log("parsed codec:"+t.codec+",rate:"+l.samplerate+",nb channel:"+l.channelCount)}}function m(t){return 9216e4/t}function g(t,e,n,i,r){var a=function(t,e,n,i,r){var a,o,s=t.length;if(a=u(t,e),o=d(t,e),(o-=a)>0&&e+a+o<=s)return{headerLength:a,frameLength:o,stamp:n+i*r}}(e,n,i,r,m(t.samplerate));if(a){var o=a.stamp,s=a.headerLength,l=a.frameLength,c={unit:e.subarray(n+s,n+s+l),pts:o,dts:o};return t.samples.push(c),{sample:c,length:l+s}}}var v=n("./src/demux/id3.js"),y=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(v.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(p(t,e))return s.logger.log("ADTS sync word found !"),!0;return!1},e.append=function(t,e,n,i){for(var r=this._audioTrack,a=v.default.getID3Data(t,0)||[],l=v.default.getTimeStamp(a),c=Object(o.isFiniteNumber)(l)?90*l:9e4*e,u=0,d=c,p=t.length,m=a.length,y=[{pts:d,dts:d,data:a}];m<p-1;)if(f(t,m)&&m+5<p){h(r,this.observer,t,m,r.manifestCodec);var b=g(r,t,m,c,u);if(!b){s.logger.log("Unable to parse AAC frame");break}m+=b.length,d=b.sample.pts,u++}else v.default.isHeader(t,m)?(a=v.default.getID3Data(t,m),y.push({pts:d,dts:d,data:a}),m+=a.length):m++;this.remuxer.remux(r,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),b=n("./src/demux/mp4demuxer.js"),_={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var a=this.parseHeader(e,n);if(a&&n+a.frameLength<=e.length){var o=i+r*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:e.subarray(n,n+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(s),{sample:s,length:a.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==n&&0!==r&&15!==r&&3!==a){var s=3===n?3-i:3===i?3:4,l=1e3*_.BitratesMap[14*s+r-1],c=3===n?0:2===n?1:2,u=_.SamplingRateMap[3*c+a],d=t[e+3]>>6==3?1:2,f=_.SamplesCoefficients[n][i],p=_.BytesInSlot[i],h=8*f*p;return{sampleRate:u,channelCount:d,frameLength:parseInt(f*l/u+o,10)*p,samplesPerFrame:h}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4;n&&n.frameLength&&(i=n.frameLength);var r=e+i;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},w=_,x=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&s.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){var e,n=8,i=8;for(e=0;e<t;e++)0!==i&&(i=(n+this.readEG()+256)%256),n=0===i?n:i},e.readSPS=function(){var t,e,n,i,r,a,o,s=0,l=0,c=0,u=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),f(5),m(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=p();if(3===b&&m(1),v(),v(),m(1),h())for(a=3!==b?8:12,o=0;o<a;o++)h()&&y(o<6?16:64)}v();var _=p();if(0===_)p();else if(1===_)for(m(1),g(),g(),e=p(),o=0;o<e;o++)g();v(),m(1),n=p(),i=p(),0===(r=f(1))&&m(1),m(1),h()&&(s=p(),l=p(),c=p(),u=p());var w=[1,1];if(h()&&h())switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-r)*(i+1)*16-(r?2:4)*(c+u),pixelRatio:w}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),T=function(){function t(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new a.default(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},e.decryptAacSample=function(t,e,n,i){var r=t[e].unit,a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),r.set(a,16),i||s.decryptAacSamples(t,e+1,n)})},e.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},e.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},e.decryptAvcSample=function(t,e,n,i,r,a){var o=this.discardEPB(r.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(t,e,n+1,i)})},e.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;!(n>=r.length);n++){var a=r[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,a,o),!o)return}}}},t}(),k={video:1,audio:2,id3:3,text:4},C=function(){function t(t,e,n,i){this.observer=t,this.config=n,this.typeSupported=i,this.remuxer=e,this.sampleAes=null,this.pmtUnknownTypes={}}var e=t.prototype;return e.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new T(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0)&&(n&&s.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:k[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},e.resetInitSegment=function(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},e.resetTimeStamp=function(){},e.append=function(e,n,a,o){var l,c,u,d,f,p=e.length,h=!1;this.pmtUnknownTypes={},this.contiguous=a;var m=this.pmtParsed,g=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=g.pid,_=v.pid,w=y.pid,x=this._pmtId,T=g.pesData,k=v.pesData,C=y.pesData,E=this._parsePAT,S=this._parsePMT.bind(this),A=this._parsePES,R=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),O=this._parseID3PES.bind(this),I=t._syncOffset(e);for(p-=(p+I)%188,l=I;l<p;l+=188)if(71===e[l]){if(c=!!(64&e[l+1]),u=((31&e[l+1])<<8)+e[l+2],(48&e[l+3])>>4>1){if((d=l+5+e[l+4])===l+188)continue}else d=l+4;switch(u){case b:c&&(T&&(f=A(T))&&R(f,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(d,l+188)),T.size+=l+188-d);break;case _:c&&(k&&(f=A(k))&&(v.isAAC?L(f):D(f)),k={data:[],size:0}),k&&(k.data.push(e.subarray(d,l+188)),k.size+=l+188-d);break;case w:c&&(C&&(f=A(C))&&O(f),C={data:[],size:0}),C&&(C.data.push(e.subarray(d,l+188)),C.size+=l+188-d);break;case 0:c&&(d+=e[d]+1),x=this._pmtId=E(e,d);break;case x:c&&(d+=e[d]+1);var P=S(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=P.avc)>0&&(g.pid=b),(_=P.audio)>0&&(v.pid=_,v.isAAC=P.isAAC),(w=P.id3)>0&&(y.pid=w),h&&!m&&(s.logger.log("reparse from beginning"),h=!1,l=I-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(f=A(T))?(R(f,!0),g.pesData=null):g.pesData=T,k&&(f=A(k))?(v.isAAC?L(f):D(f),v.pesData=null):(k&&k.size&&s.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=k),C&&(f=A(C))?(O(f),y.pesData=null):y.pesData=C,null==this.sampleAes?this.remuxer.remux(v,g,y,this._txtTrack,n,a,o):this.decryptAndRemux(v,g,y,this._txtTrack,n,a,o)},e.decryptAndRemux=function(t,e,n,i,r,a,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,n,i,r,a,o)})}else this.decryptAndRemuxAvc(t,e,n,i,r,a,o)},e.decryptAndRemuxAvc=function(t,e,n,i,r,a,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,n,i,r,a,o)})}else this.remuxer.remux(t,e,n,i,r,a,o)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},e._trackUnknownPmt=function(t,e,n){var i=this.pmtUnknownTypes[t]||0;return 0===i&&(this.pmtUnknownTypes[t]=0,e.call(s.logger,n)),this.pmtUnknownTypes[t]++,i},e._parsePMT=function(t,e,n,i){var r,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(a=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){this._trackUnknownPmt(t[e],s.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!i){this._trackUnknownPmt(t[e],s.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:n?-1===o.audio&&(o.audio=a,o.isAAC=!1):this._trackUnknownPmt(t[e],s.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(t[e],s.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(t[e],s.logger.log,"Unknown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o},e._parsePES=function(t){var e,n,i,r,a,o,l,c,u=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((e=d[0])[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;if(192&(n=e[7])&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&n?o-(l=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(s.logger.warn(Math.round((o-l)/9e4)+"s delta between PTS and DTS, align them"),o=l):l=o),c=(r=e[8])+9,t.size<=c)return null;t.size-=c,a=new Uint8Array(t.size);for(var p=0,h=d.length;p<h;p++){var m=(e=d[p]).byteLength;if(c){if(c>m){c-=m;continue}e=e.subarray(c),m-=c,c=0}a.set(e,u),u+=m}return i&&(i-=r+3),{data:a,pts:o,dts:l,len:i}}return null},e.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;if(isNaN(t.pts)){if(!i)return void e.dropped++;var r=n[i-1];t.pts=r.pts,t.dts=r.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&s.logger.log(t.pts+"/"+t.dts+":"+t.debug)},e._parseAVCPES=function(t,e){var n,i,r,a=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,u=this.pushAccesUnit.bind(this),d=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,l&&s.length&&!o.audFound&&(u(l,o),l=this.avcSample=d(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:i=!0,l||(l=a.avcSample=d(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(c&&s.length>4){var f=new x(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:i=!0,l||(l=a.avcSample=d(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,(n=new x(a.discardEPB(e.data))).readUByte();for(var p=0,h=0,m=!1,g=0;!m&&n.bytesAvailable>1;){p=0;do{p+=g=n.readUByte()}while(255===g);h=0;do{h+=g=n.readUByte()}while(255===g);if(4===p&&0!==n.bytesAvailable){if(m=!0,181===n.readUByte())if(49===n.readUShort())if(1195456820===n.readUInt())if(3===n.readUByte()){var y=n.readUByte(),b=31&y,_=[y,n.readUByte()];for(r=0;r<b;r++)_.push(n.readUByte()),_.push(n.readUByte()),_.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:t.pts,bytes:_})}}else if(5===p&&0!==n.bytesAvailable){if(m=!0,h>16){var w=[];for(r=0;r<16;r++)w.push(n.readUByte().toString(16)),3!==r&&5!==r&&7!==r&&9!==r||w.push("-");var T=h-16,k=new Uint8Array(T);for(r=0;r<T;r++)k[r]=n.readUByte();a._insertSampleInOrder(a._txtTrack.samples,{pts:t.pts,payloadType:p,uuid:w.join(""),userDataBytes:k,userData:Object(v.utf8ArrayToStr)(k.buffer)})}}else if(h<n.bytesAvailable)for(r=0;r<h;r++)n.readUByte()}break;case 7:if(i=!0,c=!0,!o.sps){var C=(n=new x(e.data)).readSPS();o.width=C.width,o.height=C.height,o.pixelRatio=C.pixelRatio,o.sps=[e.data],o.duration=a._duration;var E=e.data.subarray(1,4),S="avc1.";for(r=0;r<3;r++){var A=E[r].toString(16);A.length<2&&(A="0"+A),S+=A}o.codec=S}break;case 8:i=!0,o.pps||(o.pps=[e.data]);break;case 9:i=!1,o.audFound=!0,l&&u(l,o),l=a.avcSample=d(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&i&&l.units.push(e)}),e&&l&&(u(l,o),this.avcSample=null)},e._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},e._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var i=e.units;t=i[i.length-1]}return t},e._parseAVCNALu=function(t){var e,n,i,r,a=0,o=t.byteLength,s=this._avcTrack,l=s.naluState||0,c=l,u=[],d=-1;for(-1===l&&(d=0,r=31&t[0],l=0,a=1);a<o;)if(e=t[a++],l)if(1!==l)if(e)if(1===e){if(d>=0)i={data:t.subarray(d,a-l-1),type:r},u.push(i);else{var f=this._getLastNalUnit();if(f&&(c&&a<=4-c&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-c)),(n=a-l-1)>0)){var p=new Uint8Array(f.data.byteLength+n);p.set(f.data,0),p.set(t.subarray(0,n),f.data.byteLength),f.data=p}}a<o?(d=a,r=31&t[a],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;if(d>=0&&l>=0&&(i={data:t.subarray(d,o),type:r,state:l},u.push(i)),0===u.length){var h=this._getLastNalUnit();if(h){var m=new Uint8Array(h.data.byteLength+t.byteLength);m.set(h.data,0),m.set(t,h.data.byteLength),h.data=m}}return s.naluState=l,u},e.discardEPB=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},e._parseAACPES=function(t){var e,n,a,o,l,c,u,d=this._audioTrack,p=t.data,v=t.pts,y=this.aacOverFlow,b=this.aacLastPTS;if(y){var _=new Uint8Array(y.byteLength+p.byteLength);_.set(y,0),_.set(p,y.byteLength),p=_}for(a=0,l=p.length;a<l-1&&!f(p,a);a++);if(a&&(a<l-1?(c="AAC PES did not start with ADTS header,offset:"+a,u=!1):(c="no ADTS header found in AAC PES",u=!0),s.logger.warn("parsing error:"+c),this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:u,reason:c}),u))return;if(h(d,this.observer,p,a,this.audioCodec),n=0,e=m(d.samplerate),y&&b){var w=b+e;Math.abs(w-v)>1&&(s.logger.log("AAC: align PTS for overlapping frames by "+Math.round((w-v)/90)),v=w)}for(;a<l;){if(f(p,a)){if(a+5<l){var x=g(d,p,a,v,n);if(x){a+=x.length,o=x.sample.pts,n++;continue}}break}a++}y=a<l?p.subarray(a,l):null,this.aacOverFlow=y,this.aacLastPTS=o},e._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,r=0,a=t.pts;r<n;)if(w.isHeader(e,r)){var o=w.appendFrame(this._audioTrack,e,r,a,i);if(!o)break;r+=o.length,i++}else r++},e._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),E=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=v.default.getID3Data(t,0);if(i&&void 0!==v.default.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(w.probe(t,e))return s.logger.log("MPEG Audio sync word found !"),!0;return!1},e.append=function(t,e,n,i){for(var r=v.default.getID3Data(t,0)||[],a=v.default.getTimeStamp(r),o=void 0!==a?90*a:9e4*e,s=r.length,l=t.length,c=0,u=0,d=this._audioTrack,f=[{pts:o,dts:o,data:r}];s<l;)if(w.isHeader(t,s)){var p=w.appendFrame(d,t,s,o,c);if(!p)break;s+=p.length,u=p.sample.pts,c++}else v.default.isHeader(t,s)?(r=v.default.getID3Data(t,s),f.push({pts:u,dts:u,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:f,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),S=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),A=Math.pow(2,32)-1,R=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,a=r;r--;)i+=n[r].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),r=0,i=8;r<a;r++)e.set(n[r],i),i+=n[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(A+1)),r=Math.floor(n%(A+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(A+1)),r=Math.floor(n%(A+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,r,a=[],o=[];for(n=0;n<e.sps.length;n++)r=(i=e.sps[n]).byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)r=(i=e.pps[n]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(o))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,r=e.width,a=e.height,o=Math.floor(i/(A+1)),s=Math.floor(i%(A+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),r=e.id,a=Math.floor(n/(A+1)),o=Math.floor(n%(A+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,r,a,o,s,l,c=e.samples||[],u=c.length,d=12+16*u,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<u;i++)a=(r=c[i]).duration,o=r.size,s=r.flags,l=r.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,f)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}(),L=9e4;function D(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=!1);var r=t*e*n;return i?Math.round(r):r}function O(t,e){return void 0===e&&(e=!1),D(t,1e3,1/L,e)}function I(t,e){return void 0===e&&(e=1),D(t,L,1/e)}var P=I(10),N=I(.2),M=null;function F(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}var j,B=function(){function t(t,e,n,i){if(this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===M){var r=navigator.userAgent.match(/Chrome\/(\d+)/i);M=r?parseInt(r[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},e.resetInitSegment=function(){this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,n=t.reduce(function(t,n){var i=n.pts-t;return i<-4294967296?(e=!0,F(t,n.pts)):i>0?t:n.pts},t[0].pts);return e&&s.logger.debug("PTS rollover detected"),n},e.remux=function(t,e,n,r,a,o,l){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var c=t.samples.length,u=e.samples.length,d=a,f=a;if(c&&u){var p=this.getVideoStartPts(e.samples),h=(F(t.samples[0].pts,p)-p)/e.inputTimeScale;d+=Math.max(0,h),f+=Math.max(0,-h)}if(c){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var m,g=this.remuxAudio(t,d,o,l);if(u)g&&(m=g.endPTS-g.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,f,o,m)}else if(u){var v=this.remuxVideo(e,f,o,0,l);v&&t.codec&&this.remuxEmptyAudio(t,d,o,v)}}n.samples.length&&this.remuxID3(n,a),r.samples.length&&this.remuxText(r,a),this.observer.trigger(i.default.FRAG_PARSED)},e.generateIS=function(t,e,n){var a,o,l=this.observer,c=t.samples,u=e.samples,d=this.typeSupported,f="audio/mp4",p={},h={tracks:p},m=void 0===this._initPTS;if(m&&(a=o=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(d.mpeg?(f="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")),p.audio={container:f,codec:t.codec,initSegment:!t.isAAC&&d.mpeg?new Uint8Array:R.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(a=o=c[0].pts-Math.round(t.inputTimeScale*n))),e.sps&&e.pps&&u.length){var g=e.inputTimeScale;if(e.timescale=g,p.video={container:"video/mp4",codec:e.codec,initSegment:R.initSegment([e]),metadata:{width:e.width,height:e.height}},m){var v=this.getVideoStartPts(u),y=Math.round(g*n);o=Math.min(o,F(u[0].dts,v)-y),a=Math.min(a,v-y),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:a})}}else m&&p.audio&&this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:a});Object.keys(p).length?(l.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,m&&(this._initPTS=a,this._initDTS=o)):l.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.remuxVideo=function(t,e,n,a){var o,l,c,u,d,f=t.timescale,p=t.samples,h=[],m=p.length,g=this._initPTS,v=8,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,_=0,w=!1,x=this.nextAvcDts;if(0!==m){if(!n)x=e*f-(p[0].pts-F(p[0].dts,p[0].pts));for(var T=0;T<m;T++){var k=p[T];k.pts=F(k.pts-g,x),k.dts=F(k.dts-g,x),k.dts>k.pts&&(_=Math.max(Math.min(_,k.pts-k.dts),-1*N)),k.dts<p[T>0?T-1:T].dts&&(w=!0)}w&&p.sort(function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||i||t.id-e.id}),u=p[0].dts,d=p[m-1].dts;var C=Math.round((d-u)/(m-1));if(_<0){if(_<-2*C){s.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+O(-C,!0)+" ms");for(var E=_,S=0;S<m;S++)p[S].dts=E=Math.max(E,p[S].pts-C),p[S].pts=Math.max(E,p[S].pts)}else{s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+O(_,!0)+" ms to overcome this issue");for(var A=0;A<m;A++)p[A].dts=p[A].dts+_}u=p[0].dts,d=p[m-1].dts}if(n){var L=u-x,D=L>C;if(D||L<-1){D?s.logger.warn("AVC: "+O(L,!0)+" ms ("+L+"dts) hole between fragments detected, filling it"):s.logger.warn("AVC: "+O(-L,!0)+" ms ("+L+"dts) overlapping between fragments detected"),u=x;var I=p[0].pts-L;p[0].dts=u,p[0].pts=I,s.logger.log("Video: First PTS/DTS adjusted: "+O(I,!0)+"/"+O(u,!0)+", delta: "+O(L,!0)+" ms")}}M&&M<75&&(u=Math.max(0,u));for(var P=0,j=0,B=0;B<m;B++){for(var U=p[B],$=U.units,q=$.length,H=0,z=0;z<q;z++)H+=$[z].data.length;j+=H,P+=q,U.length=H,U.dts=Math.max(U.dts,u),U.pts=Math.max(U.pts,U.dts,0),y=Math.min(U.pts,y),b=Math.max(U.pts,b)}d=p[m-1].dts;var G=j+4*P+8;try{l=new Uint8Array(G)}catch(t){return void this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating video mdat "+G})}var K=new DataView(l.buffer);K.setUint32(0,G),l.set(R.types.mdat,4);for(var V=0;V<m;V++){for(var W,Y=p[V],X=Y.units,Q=0,J=0,Z=X.length;J<Z;J++){var tt=X[J],et=tt.data,nt=tt.data.byteLength;K.setUint32(v,nt),v+=4,l.set(et,v),v+=nt,Q+=4+nt}if(V<m-1)o=p[V+1].dts-Y.dts;else{var it=this.config,rt=Y.dts-p[V>0?V-1:V].dts;if(it.stretchShortVideoTrack){var at=it.maxBufferHole,ot=Math.floor(at*f),st=(a?y+a*f:this.nextAudioPts)-Y.pts;st>ot?((o=st-rt)<0&&(o=rt),s.logger.log("It is approximately "+O(st,!1)+" ms to the next segment; using duration "+O(o,!1)+" ms for the last video frame.")):o=rt}else o=rt}W=Math.round(Y.pts-Y.dts),h.push({size:Q,duration:o,cts:W,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:Y.key?2:1,isNonSync:Y.key?0:1}})}this.nextAvcDts=d+o;var lt=t.dropped;if(t.nbNalu=0,t.dropped=0,h.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ct=h[0].flags;ct.dependsOn=2,ct.isNonSync=0}t.samples=h,c=R.moof(t.sequenceNumber++,u,t),t.samples=[];var ut={data1:c,data2:l,startPTS:y/f,endPTS:(b+o)/f,startDTS:u/f,endDTS:this.nextAvcDts/f,type:"video",hasAudio:!1,hasVideo:!0,nb:h.length,dropped:lt};return this.observer.trigger(i.default.FRAG_PARSING_DATA,ut),ut}},e.remuxAudio=function(t,e,n,a){var o,l,c,u,d,f,p=t.inputTimeScale,h=t.timescale,m=p/h,g=(t.isAAC?1024:1152)*m,v=this._initPTS,y=!t.isAAC&&this.typeSupported.mpeg,b=y?0:8,_=t.samples,w=[],x=this.nextAudioPts;if(n|=_.length&&x&&(a&&Math.abs(e-x/p)<.1||Math.abs(_[0].pts-x-v)<20*g),_.forEach(function(t){t.pts=t.dts=F(t.pts-v,e*p)}),0!==(_=_.filter(function(t){return t.pts>=0})).length){if(n||(x=a?Math.max(0,e*p):_[0].pts),t.isAAC)for(var T=this.config.maxAudioFramesDrift,k=0,C=x;k<_.length;){var E=_[k],A=E.pts,L=A-C;if(L<=-T*g)n||k>0?(s.logger.warn("Dropping 1 audio frame @ "+O(C,!0)/1e3+"s due to "+O(L,!0)+" ms overlap."),_.splice(k,1)):(s.logger.warn("Audio frame @ "+O(A,!0)/1e3+"s overlaps nextAudioPts by "+O(L,!0)+" ms."),C=A+g,k++);else if(L>=T*g&&L<P&&C){var D=Math.round(L/g);s.logger.warn("Injecting "+D+" audio frames @ "+O(C,!0)/1e3+"s due to "+O(L,!0)+" ms gap.");for(var I=0;I<D;I++){var N=Math.max(C,0);(l=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),l=E.unit.subarray()),_.splice(k,0,{unit:l,pts:N,dts:N}),C+=g,k++}E.pts=E.dts=C,C+=g,k++}else Math.abs(L),E.pts=E.dts=C,C+=g,k++}for(var M=_.length,j=0;M--;)j+=_[M].unit.byteLength;for(var B=0,U=_.length;B<U;B++){var $=_[B],q=$.unit,H=$.pts;if(void 0!==f&&o)o.duration=Math.round((H-f)/m);else{var z=H-x,G=0;if(n&&t.isAAC&&z){if(z>0&&z<P)G=Math.round((H-x)/g),s.logger.log(O(z,!0)+" ms hole between AAC samples detected,filling it"),G>0&&((l=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(l=q.subarray()),j+=G*l.length);else if(z<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+O(x,!0)+" ms / "+O(H,!0)+" ms / "+O(-z,!0)+" ms"),j-=q.byteLength;continue}H=x}if(d=H,!(j>0))return;j+=b;try{c=new Uint8Array(j)}catch(t){return void this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}y||(new DataView(c.buffer).setUint32(0,j),c.set(R.types.mdat,4));for(var K=0;K<G;K++)(l=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),l=q.subarray()),c.set(l,b),b+=l.byteLength,o={size:l.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(o)}c.set(q,b);var V=q.byteLength;b+=V,o={size:V,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(o),f=H}var W=0;if((M=w.length)>=2&&(W=w[M-2].duration,o.duration=W),M){this.nextAudioPts=x=f+m*W,t.samples=w,u=y?new Uint8Array:R.moof(t.sequenceNumber++,d/m,t),t.samples=[];var Y=d/p,X=x/p,Q={data1:u,data2:c,startPTS:Y,endPTS:X,startDTS:Y,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:M};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Q),Q}return null}},e.remuxEmptyAudio=function(t,e,n,i){var r=t.inputTimeScale,a=r/(t.samplerate?t.samplerate:r),o=this.nextAudioPts,l=(void 0!==o?o:i.startDTS*r)+this._initDTS,c=i.endDTS*r+this._initDTS,u=1024*a,d=Math.ceil((c-l)/u),f=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),f){for(var p=[],h=0;h<d;h++){var m=l+h*u;p.push({unit:f,pts:m,dts:m})}t.samples=p,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.remuxID3=function(t,e){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,a=this._initPTS,o=this._initDTS,s=0;s<n;s++){var l=t.samples[s];l.pts=F(l.pts-a,e*r)/r,l.dts=F(l.dts-o,e*r)/r}this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:t.samples}),t.samples=[]}},e.remuxText=function(t,e){var n=t.samples.length,r=t.inputTimeScale,a=this._initPTS;if(n){for(var o=0;o<n;o++){var s=t.samples[o];s.pts=F(s.pts-a,e*r)/r}t.samples.sort(function(t,e){return t.pts-e.pts}),this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t}(),U=function(){function t(t){this.observer=t}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.remux=function(t,e,n,r,a,o,s,l){var c=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),c.trigger(i.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:u,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),c.trigger(i.default.FRAG_PARSED)},t}(),$=Object(l.getSelfScope)();try{j=$.performance.now.bind($.performance)}catch(t){s.logger.debug("Unable to use Performance API on this environment"),j=$.Date.now}var q=function(){function t(t,e,n,i){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=i}var e=t.prototype;return e.destroy=function(){var t=this.demuxer;t&&t.destroy()},e.push=function(t,e,n,r,o,s,l,c,u,d,f,p){var h=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a.default(this.observer,this.config));var g=j();m.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var a=j();h.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:a}}),h.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,o,s,l,c,u,d,f,p)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,o,s,l,c,u,d,f,p)},e.pushDecrypted=function(t,e,n,a,o,s,l,c,u,d,f,p){var h=this.demuxer,m=this.remuxer;if(!h||l||c){for(var g,v=this.observer,_=this.typeSupported,w=this.config,x=[{demux:C,remux:B},{demux:b.default,remux:U},{demux:y,remux:B},{demux:E,remux:B}],T=0,k=x.length;T<k&&!(g=x[T]).demux.probe(t);T++);if(!g)return void v.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});m&&m instanceof g.remux||(m=new g.remux(v,w,_,this.vendor)),h&&h instanceof g.demux||(h=new g.demux(v,m,w,_),this.probe=g.demux.probe),this.demuxer=h,this.remuxer=m}(l||c)&&(h.resetInitSegment(n,a,o,d),m.resetInitSegment()),l&&(h.resetTimeStamp(p),m.resetTimeStamp(p)),"function"==typeof h.setDecryptData&&h.setDecryptData(e),h.append(t,s,u,f)},t}();e.default=q},"./src/demux/demuxer-worker.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/demux/demuxer-inline.js"),r=n("./src/events.js"),a=n("./src/utils/logger.js"),o=n("./node_modules/eventemitter3/index.js");e.default=function(t){var e=new o.EventEmitter;e.trigger=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i.default(e,o.typeSupported,s,o.vendor),Object(a.enableLogs)(s.debug),n("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(r.default.FRAG_DECRYPTED,n),e.on(r.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(r.default.FRAG_PARSED,n),e.on(r.default.ERROR,n),e.on(r.default.FRAG_PARSING_METADATA,n),e.on(r.default.FRAG_PARSING_USERDATA,n),e.on(r.default.INIT_PTS_FOUND,n),e.on(r.default.FRAG_PARSING_DATA,function(e,n){var i=[],r={event:e,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(r,i)})}},"./src/demux/id3.js":function(t,e,n){"use strict";n.r(e),n.d(e,"utf8ArrayToStr",function(){return s});var i,r=n("./src/utils/get-self-scope.js"),a=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,r=0;t.isHeader(e,n);){r+=10,r+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(r+=10),n+=r}if(r>0)return e.subarray(i,i+r)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var r=n[i];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:n,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var r=t._readSize(e,n+6),a=(n+=10)+r;n+8<a;){var o=t._getFrameData(e.subarray(n)),s=t._decodeFrame(o);s&&i.push(s),n+=o.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0);n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var a=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:a}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0);n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var a=t._utf8ArrayToStr(e.data);return{key:e.type,data:a}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var n=o();if(n){var i=n.decode(t);if(e){var r=i.indexOf("\0");return-1!==r?i.substring(0,r):i}return i.replace(/\0/g,"")}for(var a,s,l,c=t.length,u="",d=0;d<c;){if(0===(a=t[d++])&&e)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=t[d++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=t[d++],l=t[d++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&l)<<0)}}return u},t}();function o(){var t=Object(r.getSelfScope)();return i||void 0===t.TextDecoder||(i=new t.TextDecoder("utf-8")),i}var s=a._utf8ArrayToStr;e.default=a},"./src/demux/mp4demuxer.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/utils/logger.js"),r=n("./src/events.js"),a=Math.pow(2,32)-1,o=function(){function t(t,e){this.observer=t,this.remuxer=e}var e=t.prototype;return e.resetTimeStamp=function(t){this.initPTS=t},e.resetInitSegment=function(e,n,i,a){if(e&&e.byteLength){var o=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:a?e:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:a?e:null}),o.video&&(s.video={container:"video/mp4",codec:i,initSegment:a?e:null})),this.observer.trigger(r.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,r,a,o,s,l,c=[];if(e.data?(s=e.start,a=e.end,e=e.data):(s=0,a=e.byteLength),!n.length)return null;for(i=s;i<a;)l=(r=t.readUint32(e,i))>1?i+r:a,t.bin2str(e.subarray(i+4,i+8))===n[0]&&(1===n.length?c.push({data:e,start:i+8,end:l}):(o=t.findBox({data:e,start:i+8,end:l},n.slice(1))).length&&(c=c.concat(o))),i=l;return c},t.parseSegmentIndex=function(e){var n,i=t.findBox(e,["moov"])[0],r=i?i.end:null,a=0,o=t.findBox(e,["sidx"]);if(!o||!o[0])return null;n=[];var s=(o=o[0]).data[0];a=0===s?8:16;var l=t.readUint32(o,a);a+=4;a+=0===s?8:16,a+=2;var c=o.end+0,u=t.readUint16(o,a);a+=2;for(var d=0;d<u;d++){var f=a,p=t.readUint32(o,f);f+=4;var h=2147483647&p;if(1===(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var m=t.readUint32(o,f);f+=4,n.push({referenceSize:h,subsegmentDuration:m,info:{duration:m/l,start:c,end:c+h-1}}),c+=h,a=f+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:u,references:n,moovEndOffset:r}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var a=r.data[r.start],o=0===a?12:20,s=t.readUint32(r,o),l=t.findBox(e,["mdia","mdhd"])[0];if(l){o=0===(a=l.data[l.start])?12:20;var c=t.readUint32(l,o),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var d={soun:"audio",vide:"video"}[t.bin2str(u.data.subarray(u.start+8,u.start+12))];if(d){var f=t.findBox(e,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var p=t.bin2str(f.data.subarray(f.start+12,f.start+16));i.logger.log("MP4Demuxer:"+d+":"+p+" found")}n[s]={timescale:c,type:d},n[d]={timescale:c,id:s}}}}}}),n},t.getStartDTS=function(e,n){var i,r,a;return i=t.findBox(n,["moof","traf"]),r=[].concat.apply([],i.map(function(n){return t.findBox(n,["tfhd"]).map(function(i){var r,a;return r=t.readUint32(i,4),a=e[r].timescale||9e4,t.findBox(n,["tfdt"]).map(function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map(function(n){return t.findBox(n,["tfhd"]).map(function(r){var o=t.readUint32(r,4),s=e[o].timescale||9e4;t.findBox(n,["tfdt"]).map(function(e){var n=e.data[e.start],r=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,r-i*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=i*s,r=Math.max(r,0);var o=Math.floor(r/(a+1)),l=Math.floor(r%(a+1));t.writeUint32(e,4,o),t.writeUint32(e,8,l)}})})})},e.append=function(e,n,i,a){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var c=t.getStartDTS(o,e);this.initPTS=l=c-n,this.observer.trigger(r.default.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(o,e,l),s=t.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,s,i,a,e)},e.destroy=function(){},t}();e.default=o},"./src/errors.ts":function(t,e,n){"use strict";var i,r;n.r(e),n.d(e,"ErrorTypes",function(){return i}),n.d(e,"ErrorDetails",function(){return r}),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(i||(i={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException"}(r||(r={}))},"./src/events.js":function(t,e,n){"use strict";n.r(e);e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return Ke});var i={};n.r(i),n.d(i,"newCue",function(){return Jt});var r,a,o=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/errors.ts"),l=n("./src/polyfills/number.js"),c=n("./src/events.js"),u=n("./src/utils/logger.js"),d={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},f=function(){function t(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){},e.onHandlerDestroyed=function(){},e.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(d[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},e.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},e.onEvent=function(t,e){this.onEventGeneric(t,e)},e.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){u.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();!function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(a||(a={}));var p=n("./src/demux/mp4demuxer.js");function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m,g=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}var e,n,i;return e=t,(n=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(o.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&h(e.prototype,n),i&&h(e,i),t}();function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}!function(t){t.AUDIO="audio",t.VIDEO="video"}(m||(m={}));var y=function(){function t(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((t={})[m.AUDIO]=!1,t[m.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var e,n,i,r=t.prototype;return r.setByteRange=function(t,e){var n=t.split("@",2),i=[];1===n.length?i[0]=e?e.byteRangeEndOffset:0:i[0]=parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i},r.addElementaryStream=function(t){this._elementaryStreams[t]=!0},r.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},r.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},r.setDecryptDataFromLevelKey=function(t,e){var n=t;return(null==t?void 0:t.method)&&t.uri&&!t.iv&&((n=new g(t.baseuri,t.reluri)).method=t.method,n.iv=this.createInitializationVector(e)),n},e=t,(n=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&u.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(l.isFiniteNumber)(this.programDateTime))return null;var t=Object(l.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&v(e.prototype,n),i&&v(e,i),t}();function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _=function(){function t(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}var e,n,i;return e=t,(n=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(l.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&b(e.prototype,n),i&&b(e,i),t}(),w=/^(\d+)x(\d+)$/,x=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,T=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.enumeratedString=function(t){return this[t]},e.decimalResolution=function(t){var e=w.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(x.lastIndex=0;null!==(e=x.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}(),k={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function C(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var E=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,S=/#EXT-X-MEDIA:(.*)/g,A=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),R=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,L=/\.(mp4|m4s|m4v|m4a)$/i,D=function(){function t(){}return t.findGroup=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}},t.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return o.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var i,r=[],a={},o=!1;function s(t,e){["video","audio"].forEach(function(n){var i=t.filter(function(t){return function(t,e){var n=k[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)});if(i.length){var r=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[n+"Codec"]=r.length>0?r[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}for(E.lastIndex=0;null!=(i=E.exec(e));)if(i[1]){var l={},c=l.attrs=new T(i[1]);l.url=t.resolve(i[2],n);var u=c.decimalResolution("RESOLUTION");u&&(l.width=u.width,l.height=u.height),l.bitrate=c.decimalInteger("AVERAGE-BANDWIDTH")||c.decimalInteger("BANDWIDTH"),l.name=c.NAME,s([].concat((c.CODECS||"").split(/[ ,]+/)),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=t.convertAVC1ToAVCOTI(l.videoCodec)),r.push(l)}else if(i[3]){var d=new T(i[3]);d["DATA-ID"]&&(o=!0,a[d["DATA-ID"]]=d)}return{levels:r,sessionData:o?a:null}},t.parseMasterPlaylistMedia=function(e,n,i,r){var a;void 0===r&&(r=[]);var o=[],s=0;for(S.lastIndex=0;null!==(a=S.exec(e));){var l=new T(a[1]);if(l.TYPE===i){var c={attrs:l,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE,type:i,default:"YES"===l.DEFAULT,autoselect:"YES"===l.AUTOSELECT,forced:"YES"===l.FORCED,lang:l.LANGUAGE};if(l.URI&&(c.url=t.resolve(l.URI,n)),r.length){var u=t.findGroup(r,c.groupId);c.audioCodec=u?u.codec:r[0].codec}o.push(c)}}return o},t.parseLevelPlaylist=function(t,e,n,i,r){var a,o,s,c=0,d=0,f=new _(e),p=0,h=null,m=new y,v=null;for(A.lastIndex=0;null!==(a=A.exec(t));){var b=a[1];if(b){m.duration=parseFloat(b);var w=(" "+a[2]).slice(1);m.title=w||null,m.tagList.push(w?["INF",b,w]:["INF",b])}else if(a[3]){if(Object(l.isFiniteNumber)(m.duration)){var x=c++;m.type=i,m.start=d,s&&(m.levelkey=s),m.sn=x,m.level=n,m.cc=p,m.urlId=r,m.baseurl=e,m.relurl=(" "+a[3]).slice(1),O(m,h),f.fragments.push(m),h=m,d+=m.duration,m=new y}}else if(a[4]){var k=(" "+a[4]).slice(1);h?m.setByteRange(k,h):m.setByteRange(k)}else if(a[5])m.rawProgramDateTime=(" "+a[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),null===v&&(v=f.fragments.length);else{if(!(a=a[0].match(R))){u.logger.warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<a.length&&void 0===a[o];o++);var C=(" "+a[o+1]).slice(1),E=(" "+a[o+2]).slice(1);switch(a[o]){case"#":m.tagList.push(E?[C,E]:[C]);break;case"PLAYLIST-TYPE":f.type=C.toUpperCase();break;case"MEDIA-SEQUENCE":c=f.startSN=parseInt(C);break;case"TARGETDURATION":f.targetduration=parseFloat(C);break;case"VERSION":f.version=parseInt(C);break;case"EXTM3U":break;case"ENDLIST":f.live=!1;break;case"DIS":p++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":p=parseInt(C);break;case"KEY":var S=new T(C),D=S.enumeratedString("METHOD"),I=S.URI,P=S.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(S.KEYFORMAT||"identity")){u.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}D&&(s=new g(e,I),I&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(s.method=D,s.key=null,s.iv=P));break;case"START":var N=new T(C).decimalFloatingPoint("TIME-OFFSET");Object(l.isFiniteNumber)(N)&&(f.startTimeOffset=N);break;case"MAP":var M=new T(C);m.relurl=M.URI,M.BYTERANGE&&m.setByteRange(M.BYTERANGE),m.baseurl=e,m.level=n,m.type=i,m.sn="initSegment",f.initSegment=m,(m=new y).rawProgramDateTime=f.initSegment.rawProgramDateTime;break;default:u.logger.warn("line parsed but not handled: "+a)}}}return(m=h)&&!m.relurl&&(f.fragments.pop(),d-=m.duration),f.totalduration=d,f.averagetargetduration=d/f.fragments.length,f.endSN=c-1,f.startCC=f.fragments[0]?f.fragments[0].cc:0,f.endCC=p,!f.initSegment&&f.fragments.length&&f.fragments.every(function(t){return L.test(t.relurl)})&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(m=new y).relurl=f.fragments[0].relurl,m.baseurl=e,m.level=n,m.type=i,m.sn="initSegment",f.initSegment=m,f.needSidxRanges=!0),v&&function(t,e){for(var n=t[e],i=e-1;i>=0;i--){var r=t[i];r.programDateTime=n.programDateTime-1e3*r.duration,n=r}}(f.fragments,v),f},t}();function O(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):(null==e?void 0:e.programDateTime)&&(t.programDateTime=e.endProgramDateTime),Object(l.isFiniteNumber)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}var I=window.performance,P=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MANIFEST_LOADING,c.default.LEVEL_LOADING,c.default.AUDIO_TRACK_LOADING,c.default.SUBTITLE_TRACK_LOADING)||this).loaders={},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.canHaveQualityLevels=function(t){return t!==r.AUDIO_TRACK&&t!==r.SUBTITLE_TRACK},i.mapContextToLevelType=function(t){switch(t.type){case r.AUDIO_TRACK:return a.AUDIO;case r.SUBTITLE_TRACK:return a.SUBTITLE;default:return a.MAIN}},i.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n};var o=i.prototype;return o.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,i=e.loader,r=new(n||i)(e);return t.loader=r,this.loaders[t.type]=r,r},o.getInternalLoader=function(t){return this.loaders[t.type]},o.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},o.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},o.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},o.onManifestLoading=function(t){this.load({url:t.url,type:r.MANIFEST,level:0,id:null,responseType:"text"})},o.onLevelLoading=function(t){this.load({url:t.url,type:r.LEVEL,level:t.level,id:t.id,responseType:"text"})},o.onAudioTrackLoading=function(t){this.load({url:t.url,type:r.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},o.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:r.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},o.load=function(t){var e=this.hls.config;u.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,i,a,o,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===t.url)return u.logger.trace("playlist request ongoing"),!1;u.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case r.MANIFEST:n=e.manifestLoadingMaxRetry,i=e.manifestLoadingTimeOut,a=e.manifestLoadingRetryDelay,o=e.manifestLoadingMaxRetryTimeout;break;case r.LEVEL:n=0,o=0,a=0,i=e.levelLoadingTimeOut;break;default:n=e.levelLoadingMaxRetry,i=e.levelLoadingTimeOut,a=e.levelLoadingRetryDelay,o=e.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t);var c={timeout:i,maxRetry:n,retryDelay:a,maxRetryDelay:o},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u.logger.debug("Calling internal loader delegate for URL: "+t.url),s.load(t,c,d),!0},o.loadsuccess=function(t,e,n,i){if(void 0===i&&(i=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,i);if(this.resetInternalLoader(n.type),"string"!=typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var r=t.data;e.tload=I.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,i):this._handleMasterPlaylist(t,e,n,i):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",i)},o.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},o.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},o._handleMasterPlaylist=function(t,e,n,r){var a=this.hls,o=t.data,s=i.getResponseUrl(t,n),l=D.parseMasterPlaylist(o,s),d=l.levels,f=l.sessionData;if(d.length){var p=d.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),h=D.parseMasterPlaylistMedia(o,s,"AUDIO",p),m=D.parseMasterPlaylistMedia(o,s,"SUBTITLES"),g=D.parseMasterPlaylistMedia(o,s,"CLOSED-CAPTIONS");if(h.length){var v=!1;h.forEach(function(t){t.url||(v=!0)}),!1===v&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(u.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}a.trigger(c.default.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:m,captions:g,url:s,stats:e,networkDetails:r,sessionData:f})}else this._handleManifestParsingError(t,n,"no level found in manifest",r)},o._handleTrackOrLevelPlaylist=function(t,e,n,a){var o=this.hls,u=n.id,d=n.level,f=n.type,p=i.getResponseUrl(t,n),h=Object(l.isFiniteNumber)(u)?u:0,m=Object(l.isFiniteNumber)(d)?d:h,g=i.mapContextToLevelType(n),v=D.parseLevelPlaylist(t.data,p,m,g,h);if(v.tload=e.tload,v.fragments.length){if(f===r.MANIFEST){var y={url:p,details:v};o.trigger(c.default.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:p,stats:e,networkDetails:a,sessionData:null})}if(e.tparsed=I.now(),v.needSidxRanges){var b=v.initSegment.url;this.load({url:b,isSidxRequest:!0,type:f,level:d,levelDetails:v,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=v,this._handlePlaylistLoaded(t,e,n,a)}else o.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:p,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},o._handleSidxRequest=function(t,e){if("string"==typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var n=p.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var i=n.references,r=e.levelDetails;i.forEach(function(t,e){var n=t.info;if(r){var i=r.fragments[e];0===i.byteRange.length&&i.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}}),r&&r.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},o._handleManifestParsingError=function(t,e,n,i){this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:i})},o._handleNetworkError=function(t,e,n,i){var a,o;void 0===n&&(n=!1),void 0===i&&(i=null),u.logger.info("A network error occured while loading a "+t.type+"-type playlist");var l=this.getInternalLoader(t);switch(t.type){case r.MANIFEST:a=n?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case r.LEVEL:a=n?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case r.AUDIO_TRACK:a=n?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var d={type:s.ErrorTypes.NETWORK_ERROR,details:a,fatal:o,url:t.url,loader:l,context:t,networkDetails:e};i&&(d.response=i),this.hls.trigger(c.default.ERROR,d)},o._handlePlaylistLoaded=function(t,e,n,a){var o=n.type,s=n.level,l=n.id,u=n.levelDetails;if(u&&u.targetduration)if(i.canHaveQualityLevels(n.type))this.hls.trigger(c.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:e,networkDetails:a});else switch(o){case r.AUDIO_TRACK:this.hls.trigger(c.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:e,networkDetails:a});break;case r.SUBTITLE_TRACK:this.hls.trigger(c.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:e,networkDetails:a})}else this._handleManifestParsingError(t,n,"invalid target duration",a)},i}(f);var N=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.FRAG_LOADING)||this).loaders={},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){var e=this.loaders;for(var n in e){var i=e[n];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders,r=this.hls.config,a=r.fLoader,o=r.loader;e.loaded=0;var s,c,d,f=i[n];f&&(u.logger.warn("abort previous fragment loader for type: "+n),f.abort()),f=i[n]=e.loader=r.fLoader?new a(r):new o(r),s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var p=e.byteRangeStartOffset,h=e.byteRangeEndOffset;Object(l.isFiniteNumber)(p)&&Object(l.isFiniteNumber)(h)&&(s.rangeStart=p,s.rangeEnd=h),c={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(s,c,d)},r.loadsuccess=function(t,e,n,i){void 0===i&&(i=null);var r=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(c.default.FRAG_LOADED,{payload:r,frag:a,stats:e,networkDetails:i})},r.loaderror=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},r.loadtimeout=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},r.loadprogress=function(t,e,n,i){void 0===i&&(i=null);var r=e.frag;r.loaded=t.loaded,this.hls.trigger(c.default.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:i})},i}(f);var M=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.KEY_LOADING)||this).loaders={},n.decryptkey=null,n.decrypturl=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){for(var e in this.loaders){var n=this.loaders[e];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n];if(e.decryptdata){var r=e.decryptdata.uri;if(r!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;if(i&&(u.logger.warn("abort previous key loader for type:"+n),i.abort()),!r)return void u.logger.warn("key uri is falsy");e.loader=this.loaders[n]=new a.loader(a),this.decrypturl=r,this.decryptkey=null;var o={url:r,frag:e,responseType:"arraybuffer"},s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(o,s,l)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(c.default.KEY_LOADED,{frag:e}))}else u.logger.warn("Missing decryption data on fragment in onKeyLoading")},r.loadsuccess=function(t,e,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,delete this.loaders[i.type],this.hls.trigger(c.default.KEY_LOADED,{frag:i})):u.logger.error("after key load, decryptdata unset")},r.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},r.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},i}(f);var F="NOT_LOADED",j="APPENDING",B="PARTIAL",U="OK",$=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.BUFFER_APPENDED,c.default.FRAG_BUFFERED,c.default.FRAG_LOADED)||this).bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=e.config,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,f.prototype.destroy.call(this),t.prototype.destroy.call(this)},r.getBufferedFrag=function(t,e){var n=this.fragments,i=Object.keys(n).filter(function(i){var r=n[i];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var a=r.body;return a.startPTS<=t&&t<=a.endPTS});if(0===i.length)return null;var r=i.pop();return n[r].body},r.detectEvictedFragments=function(t,e){var n=this;Object.keys(this.fragments).forEach(function(i){var r=n.fragments[i];if(r&&r.buffered){var a=r.range[t];if(a)for(var o=a.time,s=0;s<o.length;s++){var l=o[s];if(!n.isTimeBuffered(l.startPTS,l.endPTS,e)){n.removeFragment(r.body);break}}}})},r.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(n){if(t.hasElementaryStream(n)){var r=e.timeRanges[n];i.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}}))},r.getBufferedTimes=function(t,e,n){for(var i,r,a=[],o=!1,s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,r=n.end(s)+this.bufferPadding,t>=i&&e<=r){a.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<r&&e>i)a.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),o=!0;else if(e<=i)break}return{time:a,partial:o}},r.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},r.getPartialFragment=function(t){var e,n,i,r=this,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=r.fragments[s];r.isPartial(l)&&(n=l.body.startPTS-r.bufferPadding,i=l.body.endPTS+r.bufferPadding,t>=n&&t<=i&&(e=Math.min(t-n,i-t),o<=e&&(a=l.body,o=e)))}),a},r.getState=function(t){var e=this.getFragmentKey(t),n=this.fragments[e],i=F;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?B:U:j),i},r.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},r.isTimeBuffered=function(t,e,n){for(var i,r,a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,r=n.end(a)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1},r.onFragLoaded=function(t){var e=t.frag;Object(l.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},r.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)})},r.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},r.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},r.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},r.removeAllFragments=function(){this.fragments=Object.create(null)},i}(f),q={search:function(t,e){for(var n=0,i=t.length-1,r=null,a=null;n<=i;){var o=e(a=t[r=(n+i)/2|0]);if(o>0)n=r+1;else{if(!(o<0))return a;i=r-1}}return null}},H=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var i,r=t.buffered,a=[];for(i=0;i<r.length;i++)a.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(a,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){t.sort(function(t,e){var n=t.start-e.start;return n||e.end-t.end});var i=[];if(n)for(var r=0;r<t.length;r++){var a=i.length;if(a){var o=i[a-1].end;t[r].start-o<n?t[r].end>o&&(i[a-1].end=t[r].end):i.push(t[r])}else i.push(t[r])}else i=t;for(var s,l=0,c=e,u=e,d=0;d<i.length;d++){var f=i[d].start,p=i[d].end;if(e+n>=f&&e<p)c=f,l=(u=p)-e;else if(e+n<f){s=f;break}}return{len:l,start:c,end:u,nextStart:s}},t}(),z=n("./node_modules/eventemitter3/index.js"),G=n("./node_modules/webworkify-webpack/index.js"),K=n("./src/demux/demuxer-inline.js");function V(){return window.MediaSource||window.WebKitMediaSource}var W=n("./src/utils/get-self-scope.js");var Y=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.trigger=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,[t,t].concat(n))},i}(z.EventEmitter),X=Object(W.getSelfScope)(),Q=V()||{isTypeSupported:function(){return!1}},J=function(){function t(t,e){var n=this;this.hls=t,this.id=e;var i=this.observer=new Y,r=t.config,a=function(e,i){(i=i||{}).frag=n.frag,i.id=n.id,t.trigger(e,i)};i.on(c.default.FRAG_DECRYPTED,a),i.on(c.default.FRAG_PARSING_INIT_SEGMENT,a),i.on(c.default.FRAG_PARSING_DATA,a),i.on(c.default.FRAG_PARSED,a),i.on(c.default.ERROR,a),i.on(c.default.FRAG_PARSING_METADATA,a),i.on(c.default.FRAG_PARSING_USERDATA,a),i.on(c.default.INIT_PTS_FOUND,a);var o={mp4:Q.isTypeSupported("video/mp4"),mpeg:Q.isTypeSupported("audio/mpeg"),mp3:Q.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){var d;u.logger.log("demuxing in webworker");try{d=this.w=G("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(e){t.trigger(c.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:o,vendor:l,id:e,config:JSON.stringify(r)})}catch(t){u.logger.warn("Error in worker:",t),u.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&X.URL.revokeObjectURL(d.objectURL),this.demuxer=new K.default(i,o,r,l),this.w=void 0}}else this.demuxer=new K.default(i,o,r,l)}var e=t.prototype;return e.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.push=function(t,e,n,i,r,a,o,s){var c=this.w,d=Object(l.isFiniteNumber)(r.startPTS)?r.startPTS:r.start,f=r.decryptdata,p=this.frag,h=!(p&&r.cc===p.cc),m=!(p&&r.level===p.level),g=p&&r.sn===p.sn+1,v=!m&&g;if(h&&u.logger.log(this.id+":discontinuity detected"),m&&u.logger.log(this.id+":switch detected"),this.frag=r,c)c.postMessage({cmd:"demux",data:t,decryptdata:f,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:d,discontinuity:h,trackSwitch:m,contiguous:v,duration:a,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,f,e,n,i,d,h,m,v,a,o,s)}},e.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":X.URL.revokeObjectURL(this.w.objectURL);break;case c.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},t}();function Z(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}}function tt(t,e,n){var i=t[e],r=t[n],a=r.startPTS;if(Object(l.isFiniteNumber)(a))n>e?(i.duration=a-i.start,i.duration<0&&u.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-a,r.duration<0&&u.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"));else if(n>e){var o=i.cc===r.cc;r.start=i.start+(o&&i.minEndPTS?i.minEndPTS-i.start:i.duration)}else r.start=Math.max(i.start-r.duration,0)}function et(t,e,n,i,r,a){var o=n,s=i;if(Object(l.isFiniteNumber)(e.startPTS)){var c=Math.abs(e.startPTS-n);Object(l.isFiniteNumber)(e.deltaPTS)?e.deltaPTS=Math.max(c,e.deltaPTS):e.deltaPTS=c,o=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),s=Math.min(i,e.endPTS),i=Math.max(i,e.endPTS),r=Math.min(r,e.startDTS),a=Math.max(a,e.endDTS)}var u=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=o,e.endPTS=i,e.minEndPTS=s,e.startDTS=r,e.endDTS=a,e.duration=i-n;var d,f,p,h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;for(d=h-t.startSN,(f=t.fragments)[d]=e,p=d;p>0;p--)tt(f,p,p-1);for(p=d;p<f.length-1;p++)tt(f,p,p+1);return t.PTSKnown=!0,u}function nt(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var n,i=0;if(it(t,e,function(t,r){i=t.cc-r.cc,Object(l.isFiniteNumber)(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,n=r),e.PTSKnown=!0}),e.PTSKnown){if(i){u.logger.log("discontinuity sliding from playlist, take drift into account");for(var r=e.fragments,a=0;a<r.length;a++)r[a].cc+=i}n?et(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):function(t,e){var n=e.startSN-t.startSN,i=t.fragments,r=e.fragments;if(n<0||n>i.length)return;for(var a=0;a<r.length;a++)r[a].start+=i[n].start}(t,e),e.PTSKnown=t.PTSKnown}}function it(t,e,n){if(t&&e)for(var i=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,o=i;o<=r;o++){var s=t.fragments[a+o],l=e.fragments[o];if(!s||!l)break;n(s,l,o)}}function rt(t,e,n){var i=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),r=i/2;return t&&e.endSN===t.endSN&&(i=r),n&&(i=Math.max(r,i-(window.performance.now()-n))),Math.round(i)}var at={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}};function ot(t,e){e.fragments.forEach(function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}),e.PTSKnown=!0}function st(t,e,n){!function(t,e,n){if(function(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}(t,n,e)){var i=function(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var r=function(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}(n,i[0].cc);if(r&&(!r||r.startPTS))return r;u.logger.log("No frag in previous level to align on")}else u.logger.log("No fragments to align")}(n.details,e);i&&(u.logger.log("Adjusting PTS using last level due to CC increase within current level"),ot(i.start,e))}}(t,n,e),!n.PTSKnown&&e&&function(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var n=e.fragments[0].programDateTime,i=t.fragments[0].programDateTime,r=(i-n)/1e3+e.fragments[0].start;Object(l.isFiniteNumber)(r)&&(u.logger.log("adjusting PTS using programDateTime delta, sliding:"+r.toFixed(3)),ot(r,t))}}(n,e.details)}function lt(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(l.isFiniteNumber)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<t.length;++i){var r=t[i];if(dt(e,n,r))return r}return null}function ct(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=null;if(t?r=e[t.sn-e[0].sn+1]:0===n&&0===e[0].start&&(r=e[0]),r&&0===ut(n,i,r))return r;var a=q.search(e,ut.bind(null,n,i));return a||r}function ut(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function dt(t,e,n){var i=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-i>t}var ft=function(){function t(t,e,n,i){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=i,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var e=t.prototype;return e.poll=function(t){var e=this.config,n=this.media,i=this.stalled,r=n.currentTime,a=n.seeking,o=this.seeking&&!a,s=!this.seeking&&a;if(this.seeking=a,r===t){if((s||o)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var l=H.bufferInfo(n,r,0),c=l.len>0,d=l.nextStart||0;if(c||d){if(a){var f=l.len>2,p=!d||d-r>2&&!this.fragmentTracker.getPartialFragment(r);if(f||p)return;this.moved=!1}if(!this.moved&&this.stalled){var h=Math.max(d,l.start||0)-r;if(h>0&&h<=2)return void this._trySkipBufferHole(null)}var m=self.performance.now();if(null!==i){var g=m-i;!a&&g>=250&&this._reportStall(l.len);var v=H.bufferInfo(n,r,e.maxBufferHole);this._tryFixBufferStall(v,g)}else this.stalled=m}}}else if(this.moved=!0,null!==i){if(this.stallReported){var y=self.performance.now()-i;u.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(y)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var n=this.config,i=this.fragmentTracker,r=this.media.currentTime,a=i.getPartialFragment(r);if(a&&this._trySkipBufferHole(a))return;t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(u.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,u.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,n=this.hls,i=this.media,r=i.currentTime,a=0,o=0;o<i.buffered.length;o++){var l=i.buffered.start(o);if(r+e.maxBufferHole>=a&&r<l){var d=Math.max(l+.05,i.currentTime+.1);return u.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+d),this.moved=!0,this.stalled=null,i.currentTime=d,t&&n.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+d,frag:t}),d}a=i.buffered.end(o)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,i=n.currentTime,r=(this.nudgeRetry||0)+1;if(this.nudgeRetry=r,r<t.nudgeMaxRetry){var a=i+r*t.nudgeOffset;u.logger.warn("Nudging 'currentTime' from "+i+" to "+a),n.currentTime=a,e.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else u.logger.error("Playhead still not moving while enough data buffered @"+i+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();var pt=function(t){var e,n;function i(e){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return(n=t.call.apply(t,[this,e].concat(r))||this)._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},r.hasInterval=function(){return!!this._tickInterval},r.hasNextTick=function(){return!!this._tickTimer},r.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},r.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},r.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},r.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},r.doTick=function(){},i}(f);var ht={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},mt=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.doTick=function(){},r.startLoad=function(){},r.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ht.STOPPED},r._streamEnded=function(t,e){var n=this.fragCurrent,i=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var r=i.getState(n);return r===B||r===U}return!1},r.onMediaSeeking=function(){var t=this.config,e=this.media,n=this.mediaBuffer,i=this.state,r=e?e.currentTime:null,a=H.bufferInfo(n||e,r,this.config.maxBufferHole);if(u.logger.log("media seeking to "+(Object(l.isFiniteNumber)(r)?r.toFixed(3):r)),i===ht.FRAG_LOADING){var o=this.fragCurrent;if(0===a.len&&o){var s=t.maxFragLookUpTolerance,c=o.start-s,d=o.start+o.duration+s;r<c||r>d?(o.loader&&(u.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ht.IDLE):u.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===ht.ENDED&&(0===a.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=ht.IDLE);e&&(this.lastCurrentTime=r),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=r),this.tick()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=ht.STOPPED,this.fragmentTracker=null},r.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},i}(pt);function gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var vt,yt=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.LEVEL_LOADED,c.default.LEVELS_UPDATED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_LOAD_EMERGENCY_ABORTED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.AUDIO_TRACK_SWITCHING,c.default.AUDIO_TRACK_SWITCHED,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED)||this).fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state=ht.STOPPED,i.stallReported=!1,i.gapController=null,i.altAudio=!1,i.audioOnly=!1,i.bitrateTest=!1,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o,d,f=i.prototype;return f.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(n.config.testBandwidth?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(u.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=ht.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=ht.STOPPED},f.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},f.doTick=function(){switch(this.state){case ht.BUFFER_FLUSHING:this.fragLoadError=0;break;case ht.IDLE:this._doTickIdle();break;case ht.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=ht.IDLE);break;case ht.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(u.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ht.IDLE);break;case ht.ERROR:case ht.STOPPED:case ht.FRAG_LOADING:case ht.PARSING:case ht.PARSED:case ht.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},f._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,a=this.levels[r];if(a){var o,s=a.bitrate;o=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,o=Math.min(o,e.maxMaxBufferLength);var l=i<e.maxBufferHole?Math.max(2,e.maxBufferHole):e.maxBufferHole,d=H.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,l),f=d.len;if(!(f>=o)){u.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var p=a.details;if(!p||p.live&&this.levelLastLoaded!==r)this.state=ht.WAITING_LEVEL;else{if(this._streamEnded(d,p)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(c.default.BUFFER_EOS,h),void(this.state=ht.ENDED)}this._fetchPayloadOrEos(i,d,p)}}}}},f._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=(this.level,n.fragments),a=r.length;if(0!==a){var o,s=r[0].start,l=r[a-1].start+r[a-1].duration,c=e.end;if(n.initSegment&&!n.initSegment.data)o=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void u.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(o=this._ensureFragmentAtLivePoint(n,c,s,l,i,r)))return}else c<s&&(o=r[0]);o||(o=this._findFragment(s,i,a,r,c,l,n)),o&&(o.encrypted?this._loadKey(o,n):this._loadFragment(o,n,t,c))}},f._ensureFragmentAtLivePoint=function(t,e,n,i,r,a){var o,s=this.hls.config,c=this.media,d=1/0;if(void 0!==s.liveMaxLatencyDuration?d=s.liveMaxLatencyDuration:Object(l.isFiniteNumber)(s.liveMaxLatencyDurationCount)&&(d=s.liveMaxLatencyDurationCount*t.targetduration),e<Math.max(n-s.maxFragLookUpTolerance,i-d)){var f=this.liveSyncPosition=this.computeLivePosition(n,t);e=f,c&&!c.paused&&c.readyState&&c.duration>f&&f>c.currentTime&&(u.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),c.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&e>i&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown&&r)if(t.hasProgramDateTime)u.logger.log("live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),o=lt(a,r.endProgramDateTime,s.maxFragLookUpTolerance);else{var p=r.sn+1;if(p>=t.startSN&&p<=t.endSN){var h=a[p-t.startSN];r.cc===h.cc&&(o=h,u.logger.log("live playlist, switching playlist, load frag with next SN: "+o.sn))}o||(o=q.search(a,function(t){return r.cc-t.cc}))&&u.logger.log("live playlist, switching playlist, load frag with same CC: "+o.sn)}return o},f._findFragment=function(t,e,n,i,r,a,o){var s,l=this.hls.config;r<a?s=ct(e,i,r,r>a-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance):s=i[n-1];if(s){var c=s.sn-o.startSN,d=e&&s.level===e.level,f=i[c-1],p=i[c+1];if(e&&s.sn===e.sn)if(d&&!s.backtracked)if(s.sn<o.endSN){var h=e.deltaPTS;h&&h>l.maxBufferHole&&e.dropped&&c?(s=f,u.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=p,this.fragmentTracker.getState(s)!==U&&u.logger.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(p&&p.backtracked?(u.logger.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(u.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,f?(s=f).backtracked=!0:c&&(s=null)))}return s},f._loadKey=function(t,e){u.logger.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level),this.state=ht.KEY_LOADING,this.hls.trigger(c.default.KEY_LOADING,{frag:t})},f._loadFragment=function(t,e,n,i){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,"initSegment"!==t.sn&&(this.startFragRequested=!0),Object(l.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===F||r===B?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,u.logger.log("Loading "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(n.toFixed(3))+", bufferEnd: "+parseFloat(i.toFixed(3))),this.hls.trigger(c.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new J(this.hls,"main")),this.state=ht.FRAG_LOADING):r===j&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},f.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,a.MAIN)},f.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},f._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),H.isBuffered(n,e)?t=this.getBufferedFrag(e):H.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(c.default.FRAG_CHANGED,{frag:i});var r=i.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(c.default.LEVEL_SWITCHED,{level:r}),this.fragPlaying=i}}},f.immediateLevelSwitch=function(){if(u.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused)||e.pause():t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},f.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,t.currentTime>0&&H.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},f.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=this.getBufferedFrag(t.currentTime);if(n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)e=0;else{var i=this.hls.nextLoadLevel,r=this.levels[i],a=this.fragLastKbps;e=a&&this.fragCurrent?this.fragCurrent.duration*r.bitrate/(1e3*a)+1:0}var o=this.getBufferedFrag(t.currentTime+e);if(o){var s=this.followingBufferedFrag(o);if(s){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null;var c=Math.max(o.endPTS,s.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,s.duration));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},f.flushMainBuffer=function(t,e){this.state=ht.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(c.default.BUFFER_FLUSHING,n)},f.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new ft(n,e,this.fragmentTracker,this.hls)},f.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},f.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(l.isFiniteNumber)(e)&&u.logger.log("media seeked to "+e.toFixed(3)),this.tick()},f.onManifestLoading=function(){u.logger.log("trigger BUFFER_RESET"),this.hls.trigger(c.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},f.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&u.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},f.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],a=e.totalduration,o=0;if(u.logger.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live||r.details&&r.details.live){var s=r.details;s&&e.fragments.length>0?(nt(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&Object(l.isFiniteNumber)(o)?u.logger.log("live playlist sliding:"+o.toFixed(3)):(u.logger.log("live playlist - outdated PTS, unknown sliding"),st(this.fragPrevious,i,e))):(u.logger.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,st(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=n,this.hls.trigger(c.default.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=e.startTimeOffset;Object(l.isFiniteNumber)(d)?(d<0&&(u.logger.log("negative start time offset "+d+", count from end of last fragment"),d=o+a+d),u.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):e.live?(this.startPosition=this.computeLivePosition(o,e),u.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ht.WAITING_LEVEL&&(this.state=ht.IDLE),this.tick()},f.onKeyLoaded=function(){this.state===ht.KEY_LOADING&&(this.state=ht.IDLE,this.tick())},f.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,i=this.levels,r=this.media,a=t.frag;if(this.state===ht.FRAG_LOADING&&e&&"main"===a.type&&a.level===e.level&&a.sn===e.sn){var o=t.stats,s=i[e.level],l=s.details;if(this.bitrateTest=!1,this.stats=o,u.logger.log("Loaded "+e.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+e.level),a.bitrateTest&&n.nextLoadLevel)this.state=ht.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),n.trigger(c.default.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=ht.IDLE,o.tparsed=o.tbuffered=window.performance.now(),l.initSegment.data=t.payload,n.trigger(c.default.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else{u.logger.log("Parsing "+e.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+e.level+", cc "+e.cc),this.state=ht.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var d=!(r&&r.seeking)&&(l.PTSKnown||!l.live),f=l.initSegment?l.initSegment.data:[],p=this._getAudioCodec(s);(this.demuxer=this.demuxer||new J(this.hls,"main")).push(t.payload,f,p,s.videoCodec,e,l.totalduration,d)}}this.fragLoadError=0},f.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ht.PARSING){var i,r,a=t.tracks;if(this.audioOnly=a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio,r=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(u.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",u.logger.log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=t.id}for(i in(r=a.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(c.default.BUFFER_CODECS,a),a){r=a[i],u.logger.log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},f.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===ht.PARSING){var r=this.levels[this.level],a=n;if(Object(l.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&a.addElementaryStream(m.AUDIO),!0===t.hasVideo&&a.addElementaryStream(m.VIDEO),u.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)u.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=r.details;if(!o||a.sn!==o.startSN)return u.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=ht.IDLE,this.fragPrevious=a,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();u.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var s=et(r.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(c.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(n){n&&n.length&&e.state===ht.PARSING&&(e.appended=!0,e.pendingBuffering=!0,d.trigger(c.default.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))}),this.tick()}},f.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ht.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=ht.PARSED,this._checkAppendedParsed())},f.onAudioTrackSwitching=function(t){var e=this.altAudio,n=!!t.url,i=t.id;if(!n){if(this.mediaBuffer!==this.media){u.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(u.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ht.IDLE}var a=this.hls;e&&a.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:i})}},f.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(u.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},f.onBufferCreated=function(t){var e,n,i=t.tracks,r=!1;for(var a in i){var o=i[a];"main"===o.id?(n=a,e=o,"video"===a&&(this.videoBuffer=i[a].buffer)):r=!0}r&&e?(u.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},f.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==ht.PARSING&&e!==ht.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},f._checkAppendedParsed=function(){if(!(this.state!==ht.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;u.logger.log("main buffered : "+at.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(c.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=ht.IDLE}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},f.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&H.isBuffered(this.media,this.media.currentTime)&&H.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);u.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ht.FRAG_LOADING_WAITING_RETRY}else u.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ht.ERROR;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==ht.ERROR&&(t.fatal?(this.state=ht.ERROR,u.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ht.WAITING_LEVEL||(this.state=ht.IDLE));break;case s.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==ht.PARSING&&this.state!==ht.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ht.IDLE):(u.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},f._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,u.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},f._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},f.onFragLoadEmergencyAborted=function(){this.state=ht.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},f.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;if(t){var e=this.audioOnly?m.AUDIO:m.VIDEO;this.fragmentTracker.detectEvictedFragments(e,t.buffered)}this.state=ht.IDLE,this.fragPrevious=null},f.onLevelsUpdated=function(t){this.levels=t.levels},f.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},f._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=this.startPosition;if(e!==n&&n>=0){if(t.seeking)return void u.logger.log("could not seek to "+n+", already seeking at "+e);var i=(t.buffered.length?t.buffered.start(0):0)-n;i>0&&i<this.config.maxBufferHole&&(u.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),u.logger.log("seek to target start position "+n+" from current time "+e+". ready state "+t.readyState),t.currentTime=n}},f._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(u.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},r=i,(o=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u.logger.log("main stream-controller: "+e+"->"+t),this.hls.trigger(c.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}])&&gt(r.prototype,o),d&&gt(r,d),i}(mt);function bt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _t=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MANIFEST_LOADED,c.default.LEVEL_LOADED,c.default.AUDIO_TRACK_SWITCHED,c.default.FRAG_LOADED,c.default.ERROR)||this).canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,vt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,l=i.prototype;return l.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},l.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},l.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},l.stopLoad=function(){this.canload=!1},l.onManifestLoaded=function(t){var e,n=[],i=[],r={},a=null,o=!1,l=!1;if(t.levels.forEach(function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,l=l||!!t.audioCodec,vt&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(a=r[t.bitrate])?a.url.push(t.url):(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&Z(a||t,"audio",e.AUDIO),e.SUBTITLES&&Z(a||t,"text",e.SUBTITLES))}),o&&l&&(n=n.filter(function(t){return!!t.videoCodec})),n=n.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||C(e,"audio"))&&(!n||C(n,"video"))}),t.audioTracks&&(i=t.audioTracks.filter(function(t){return!t.audioCodec||C(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),n.length>0){e=n[0].bitrate,n.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=n;for(var d=0;d<n.length;d++)if(n[d].bitrate===e){this._firstLevel=d,u.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}var f=l&&!o;this.hls.trigger(c.default.MANIFEST_PARSED,{levels:n,audioTracks:i,firstLevel:this._firstLevel,stats:t.stats,audio:l,video:o,altAudio:!f&&i.some(function(t){return!!t.url})})}else this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},l.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){u.logger.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,n.trigger(c.default.LEVEL_SWITCHING,i)}var r=e[t],a=r.details;if(!a||a.live){var o=r.urlId;n.trigger(c.default.LEVEL_LOADING,{url:r.url[o],level:t,id:o})}}else n.trigger(c.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},l.onError=function(t){if(t.fatal)t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,i=!1;switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,i=!0;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case s.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,i)}},l.recoverLevel=function(t,e,n,i){var r,a,o,s=this,l=this.hls.config,c=t.details,d=this._levels[e];if(d.loadError++,d.fragmentError=i,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return u.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},a),t.levelRetry=!0,this.levelRetryCount++,u.logger.warn("level controller, "+c+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(n||i)&&((r=d.url.length)>1&&d.loadError<r?(d.urlId=(d.urlId+1)%r,d.details=void 0,u.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(o=0===e?this._levels.length-1:e-1,u.logger.warn("level controller, "+c+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):i&&(u.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},l.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},l.onLevelLoaded=function(t){var e=this,n=t.level,i=t.details;if(n===this.currentLevelIndex){var r=this._levels[n];if(r.fragmentError||(r.loadError=0,this.levelRetryCount=0),i.live){var a=rt(r.details,i,t.stats.trequest);u.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},a)}else this.clearTimer()}},l.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var i=-1,r=0;r<n.audioGroupIds.length;r++)if(n.audioGroupIds[r]===e){i=r;break}i!==n.urlId&&(n.urlId=i,this.startLoad())}},l.loadLevel=function(){if(u.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,i=t.url[n];u.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(c.default.LEVEL_LOADING,{url:i,level:e,id:n})}}},l.removeLevel=function(t,e){var n=this.levels.filter(function(n,i){return i!==t||n.url.length>1&&void 0!==e&&(n.url=n.url.filter(function(t,n){return n!==e}),n.urlId=0,!0)}).map(function(t,e){var n=t.details;return n&&n.fragments&&n.fragments.forEach(function(t){t.level=e}),t});this._levels=n,this.hls.trigger(c.default.LEVELS_UPDATED,{levels:n})},r=i,(a=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&bt(r.prototype,a),o&&bt(r,o),i}(f),wt=n("./src/demux/id3.js");function xt(t,e){var n;try{n=new Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function Tt(t){if(null==t?void 0:t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}var kt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.FRAG_PARSING_METADATA,c.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,n.media=void 0,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){f.prototype.destroy.call(this)},r.onMediaAttached=function(t){this.media=t.media,this.media},r.onMediaDetaching=function(){Tt(this.id3Track),this.id3Track=void 0,this.media=void 0},r.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return xt(n,this.media),n}return this.media.addTextTrack("metadata","id3")},r.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=wt.default.getID3Frames(n[r].data);if(a){var o=Math.max(n[r].pts,0),s=r<n.length-1?n[r+1].pts:e.endPTS;s||(s=e.start+e.duration),s-o<=0&&(s=o+.25);for(var l=0;l<a.length;l++){var c=a[l];if(!wt.default.isTimeStampFrame(c)){var u=new i(o,s,"");u.value=c,this.id3Track.addCue(u)}}}}},r.onLiveBackBufferReached=function(t){var e=t.bufferEnd,n=this.id3Track;if(n&&n.cues&&n.cues.length){var i=function(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];for(var n=0,i=t.length-1;n<=i;){var r=Math.floor((i+n)/2);if(e<t[r].endTime)i=r-1;else{if(!(e>t[r].endTime))return t[r];n=r+1}}return t[n].endTime-e<e-t[i].endTime?t[n]:t[i]}(n.cues,e);if(i)for(;n.cues[0]!==i;)n.removeCue(n.cues[0])}},i}(f);var Ct=function(){function t(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var e=t.prototype;return e.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),Et=function(){function t(t,e,n,i){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ct(e),this.fast_=new Ct(n)}var e=t.prototype;return e.sample=function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/n;this.fast_.sample(n,i),this.slow_.sample(n,i)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}();function St(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var At=window.performance,Rt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.FRAG_LOADING,c.default.FRAG_LOADED,c.default.FRAG_BUFFERED,c.default.ERROR)||this).lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,d=i.prototype;return d.destroy=function(){this.clearTimer(),f.prototype.destroy.call(this)},d.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,i,r=this.hls,a=r.config,o=e.level;r.levels[o].details.live?(n=a.abrEwmaFastLive,i=a.abrEwmaSlowLive):(n=a.abrEwmaFastVoD,i=a.abrEwmaSlowVoD),this._bwEstimator=new Et(r,i,n,a.abrEwmaDefaultEstimate)}},d._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var i=n.loader;if(!i||i.stats&&i.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var r=i.stats;if(e&&r&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var a=At.now()-r.trequest,o=Math.abs(e.playbackRate);if(a>500*n.duration/o){var s=t.levels,l=Math.max(1,r.bw?r.bw/8:1e3*r.loaded/a),d=s[n.level];if(!d)return;var f=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,p=r.total?r.total:Math.max(r.loaded,Math.round(n.duration*f/8)),h=e.currentTime,m=(p-r.loaded)/l,g=(H.bufferInfo(e,h,t.config.maxBufferHole).end-h)/o;if(g<2*n.duration/o&&m>g){var v,y=t.minAutoLevel;for(v=n.level-1;v>y;v--){var b=s[v].realBitrate?Math.max(s[v].realBitrate,s[v].bitrate):s[v].bitrate;if(n.duration*b/(6.4*l)<g)break}void 0<m&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+m.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=v,this._bwEstimator.sample(a,r.loaded),i.abort(),this.clearTimer(),t.trigger(c.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:r}))}}}}},d.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(l.isFiniteNumber)(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,r=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},d.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!0!==e.aborted&&"main"===n.type&&Object(l.isFiniteNumber)(n.sn)&&(!n.bitrateTest||e.tload===e.tbuffered)){var i=e.tparsed-e.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},d.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){clearInterval(this.timer),this.timer=null},d._findBestLevel=function(t,e,n,i,r,a,o,s,l){for(var c=r;c>=i;c--){var d=l[c];if(d){var f=d.details,p=f?f.totalduration/f.fragments.length:e,h=!!f&&f.live,m=void 0;m=c<=t?o*n:s*n;var g=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,v=g*p/m;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(m)+"/"+g+"/"+p+"/"+a+"/"+v),m>g&&(!v||h&&!this.bitrateTestDelay||v<a))return c}}return-1},r=i,(a=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,a=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,c=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,f=(H.bufferInfo(a,l,i.maxBufferHole).end-l)/c,p=this._findBestLevel(o,s,d,r,e,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(0===f){var v=this.bitrateTestDelay;if(v)h=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-v,u.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),m=g=1}return p=this._findBestLevel(o,s,d,r,e,f+h,m,g,n),Math.max(p,0)}}])&&St(r.prototype,a),o&&St(r,o),i}(f);var Lt=V(),Dt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHING,c.default.MEDIA_DETACHING,c.default.MANIFEST_PARSED,c.default.BUFFER_RESET,c.default.BUFFER_APPENDING,c.default.BUFFER_CODECS,c.default.BUFFER_EOS,c.default.BUFFER_FLUSHING,c.default.LEVEL_PTS_UPDATED,c.default.LEVEL_UPDATED)||this)._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){u.logger.log("media source opened"),n.hls.trigger(c.default.MEDIA_ATTACHED,{media:n.media});var t=n.mediaSource;t&&t.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){u.logger.log("media source closed")},n._onMediaSourceEnded=function(){u.logger.log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var t=n.sourceBuffer.audio;u.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+n.audioTimestampOffset),t.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var e=n.parent,i=n.segments.reduce(function(t,n){return n.parent===e?t+1:t},0),r={},a=n.sourceBuffer;for(var o in a){var s=a[o];if(!s)throw Error("handling source buffer update end error: source buffer for "+o+" uninitilized and unable to update buffered TimeRanges.");r[o]=s.buffered}n.hls.trigger(c.default.BUFFER_APPENDED,{parent:e,pending:i,timeRanges:r}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),0===i&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(t){u.logger.error("sourceBuffer error:",t),n.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.config=e.config,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){f.prototype.destroy.call(this)},r.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(!i)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(i.timestampOffset-t.start)>.1){var r=i.updating;try{i.abort()}catch(t){u.logger.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(u.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},r.onManifestParsed=function(t){var e=2;(t.audio&&!t.video||!t.altAudio)&&(e=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e,u.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&Lt){var n=this.mediaSource=new Lt;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},r.onMediaDetaching=function(){u.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){u.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):u.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(c.default.MEDIA_DETACHED)},r.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},r.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.onBufferCodecs=function(t){var e=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach(function(n){e.pendingTracks[n]=t[n]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},r.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var i in t)if(!e[i]){var r=t[i];if(!r)throw Error("source buffer exists for track "+i+", however track does not");var a=r.levelCodec||r.codec,o=r.container+";codecs="+a;u.logger.log("creating sourceBuffer("+o+")");try{var l=e[i]=n.addSourceBuffer(o);l.addEventListener("updateend",this._onSBUpdateEnd),l.addEventListener("error",this._onSBUpdateError),this.tracks[i]={buffer:l,codec:a,id:r.id,container:r.container,levelCodec:r.levelCodec}}catch(t){u.logger.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(c.default.BUFFER_CREATED,{tracks:this.tracks})},r.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},r.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var n=this.sourceBuffer[e];n&&!n.ended&&(n.ended=!0,u.logger.log(e+" sourceBuffer now EOS"))}this.checkEos()},r.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(i){if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}}u.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){u.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},r.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,n=this.sourceBuffer,i=Object.keys(n),r=e-Math.max(t,this._levelTargetDuration),a=i.length-1;a>=0;a--){var o=i[a],s=n[o];if(s){var l=s.buffered;l.length>0&&r>l.start(0)&&this.removeBufferRange(o,s,0,r)&&this.hls.trigger(c.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r})}}else u.logger.error("flushLiveBackBuffer called without attaching media")}},r.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},r.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var i=this.sourceBuffer[n];if(i&&!0===i.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(u.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(l.isFiniteNumber)(t))&&(u.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n){var r=n[i];r&&(e+=r.buffered.length)}}catch(t){u.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(c.default.BUFFER_FLUSHED)}},r.doAppending=function(){var t=this.config,e=this.hls,n=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(!this.media||this.media.error)return this.segments=[],void u.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var r=n.shift();if(r)try{var a=i[r.type];if(!a)return void this._onSBUpdateEnd();if(a.updating)return void n.unshift(r);a.ended=!1,this.parent=r.parent,a.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0}catch(i){u.logger.error("error while trying to append buffer:"+i.message),n.unshift(r);var o={type:s.ErrorTypes.MEDIA_ERROR,parent:r.parent,details:"",fatal:!1};22===i.code?(this.segments=[],o.details=s.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,o.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(u.logger.log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0)),e.trigger(c.default.ERROR,o)}}}},r.flushBuffer=function(t,e,n){var i=this.sourceBuffer;if(!Object.keys(i).length)return!0;var r="null";if(this.media&&(r=this.media.currentTime.toFixed(3)),u.logger.log("flushBuffer,pos/start/end: "+r+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return u.logger.warn("abort flushing too many retries"),!0;var a=i[n];if(a){if(a.ended=!1,a.updating)return u.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,a,t,e))return this.flushBufferCounter++,!1}return u.logger.log("buffer flushed"),!0},r.removeBufferRange=function(t,e,n,i){try{for(var r=0;r<e.buffered.length;r++){var a=e.buffered.start(r),o=e.buffered.end(r),s=Math.max(a,n),l=Math.min(o,i);if(Math.min(l,o)-s>.5){var c="null";return this.media&&(c=this.media.currentTime.toString()),u.logger.log("sb remove "+t+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+c),e.remove(s,l),!0}}}catch(t){u.logger.warn("removeBufferRange failed",t)}return!1},i}(f);function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var It=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.FPS_DROP_LEVEL_CAPPING,c.default.MEDIA_ATTACHING,c.default.MANIFEST_PARSED,c.default.LEVELS_UPDATED,c.default.BUFFER_CODECS,c.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n.clientRect=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,s=i.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(t){i.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},s.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},s.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onLevelsUpdated=function(t){this.levels=t.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},s.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return i.isLevelAllowed(r,e.restrictedLevels)&&r<=t});return this.clientRect=null,i.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e},i.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},i.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i,r,a=t.length-1,o=0;o<t.length;o+=1){var s=t[o];if((s.width>=e||s.height>=n)&&(i=s,!(r=t[o+1])||i.width!==r.width||i.height!==r.height)){a=o;break}}return a},r=i,o=[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}],(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*i.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*i.contentScaleFactor}}])&&Ot(r.prototype,a),o&&Ot(r,o),i}(f);var Pt=window.performance,Nt=function(t){var e,n;function i(e){return t.call(this,e,c.default.MEDIA_ATTACHING)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},r.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},r.checkFPS=function(t,e,n){var i=Pt.now();if(e){if(this.lastTime){var r=i-this.lastTime,a=n-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/r,l=this.hls;if(l.trigger(c.default.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var d=l.currentLevel;u.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=d)&&(d-=1,l.trigger(c.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},r.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},i}(f),Mt=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var e=t.prototype;return e.destroy=function(){this.abort(),this.loader=null},e.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t,e=this.context;t=this.loader=new window.XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},e.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,i=this.stats,r=this.context,a=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(window.performance.now(),i.trequest)),4===n){var o=e.status;if(o>=200&&o<300){var s,l;i.tload=Math.max(i.tfirst,window.performance.now()),l="arraybuffer"===r.responseType?(s=e.response).byteLength:(s=e.responseText).length,i.loaded=i.total=l;var c={url:e.responseURL,data:s};this.callbacks.onSuccess(c,i,r,e)}else i.retry>=a.maxRetry||o>=400&&o<499?(u.logger.error(o+" while loading "+r.url),this.callbacks.onError({code:o,text:e.statusText},r,e)):(u.logger.warn(o+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.loadtimeout=function(){u.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}();function Ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var jt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.AUDIO_TRACK_LOADED,c.default.AUDIO_TRACK_SWITCHED,c.default.LEVEL_LOADED,c.default.ERROR)||this)._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,l=i.prototype;return l.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},l.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(c.default.AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},l.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)u.logger.warn("Invalid audio track id:",t.id);else{if(u.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},l.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},l.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},l.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(u.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},l._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)u.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)u.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];u.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,i=e.type,r=e.id;this.hls.trigger(c.default.AUDIO_TRACK_SWITCHING,{id:r,type:i,url:n}),this._loadTrackDetailsIfNeeded(e)}},l.doTick=function(){this._updateTrack(this._trackId)},l._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},l._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],i=null;if(n&&(i=n.name),this._selectDefaultTrack){var r=e.filter(function(t){return t.default});r.length?e=r:u.logger.warn("No default audio tracks defined")}var a=!1,o=function(){e.forEach(function(e){a||t.audioGroupId&&e.groupId!==t.audioGroupId||i&&i!==e.name||(t._setAudioTrack(e.id),a=!0)})};o(),a||(i=null,o()),a||(u.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},l._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live)&&!!n},l._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;u.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(c.default.AUDIO_TRACK_LOADING,{url:e,id:n})}},l._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,u.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},l._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,i=e.language,r=e.groupId;u.logger.warn("Loading failed on audio track id: "+t+", group-id: "+r+', name/language: "'+n+'" / "'+i+'"');for(var a=t,o=0;o<this.tracks.length;o++){if(!this.trackIdBlacklist[o])if(this.tracks[o].name===n){a=o;break}}a!==t?(u.logger.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):u.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+i+'"')},r=i,(a=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}])&&Ft(r.prototype,a),o&&Ft(r,o),i}(pt);function Bt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ut=window.performance,$t=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.AUDIO_TRACKS_UPDATED,c.default.AUDIO_TRACK_SWITCHING,c.default.AUDIO_TRACK_LOADED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.BUFFER_RESET,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED,c.default.INIT_PTS_FOUND)||this).fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state=ht.STOPPED,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i.waitingVideoCC=null,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,d=i.prototype;return d.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[n]=i,this.videoTrackCC=n,u.logger.log("InitPTS for cc: "+n+" found from main: "+i),this.state===ht.WAITING_INIT_PTS&&this.tick())},d.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(u.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=ht.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=ht.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=ht.STOPPED},d.doTick=function(){var t,e,n,i=this.hls,r=i.config;switch(this.state){case ht.ERROR:case ht.PAUSED:case ht.BUFFER_FLUSHING:break;case ht.STARTING:this.state=ht.WAITING_TRACK,this.loadedmetadata=!1;break;case ht.IDLE:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,d=t<r.maxBufferHole?Math.max(2,r.maxBufferHole):r.maxBufferHole,f=H.bufferInfo(o,t,d),p=H.bufferInfo(s,t,d),h=f.len,m=f.end,g=this.fragPrevious,v=Math.min(r.maxBufferLength,r.maxMaxBufferLength),y=Math.max(v,p.len),b=this.audioSwitch,_=this.trackId;if((h<y||b)&&_<a.length){if(void 0===(n=a[_].details)){this.state=ht.WAITING_TRACK;break}if(!b&&this._streamEnded(f,n))return this.hls.trigger(c.default.BUFFER_EOS,{type:"audio"}),void(this.state=ht.ENDED);var w,x=n.fragments,T=x.length,k=x[0].start,C=x[T-1].start+x[T-1].duration;if(b)if(n.live&&!n.PTSKnown)u.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),m=0;else if(m=t,n.PTSKnown&&t<k){if(!(f.end>k||f.nextStart))return;u.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=k+.05}if(n.initSegment&&!n.initSegment.data)w=n.initSegment;else if(m<=k){if(w=x[0],null!==this.videoTrackCC&&w.cc!==this.videoTrackCC&&(w=function(t,e){return q.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(x,this.videoTrackCC)),n.live&&w.loadIdx&&w.loadIdx===this.fragLoadIdx){var E=f.nextStart?f.nextStart:k;return u.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var S,A=r.maxFragLookUpTolerance,R=g?x[g.sn-x[0].sn+1]:void 0;m<C?(m>C-A&&(A=0),S=R&&!ut(m,A,R)?R:q.search(x,function(t){return ut(m,A,t)})):S=x[T-1],S&&(w=S,k=S.start,g&&w.level===g.level&&w.sn===g.sn&&(w.sn<n.endSN?(w=x[w.sn+1-n.startSN],this.fragmentTracker.getState(w)!==U&&u.logger.log("SN just loaded, load next one: "+w.sn)):w=null))}w&&(w.encrypted?(u.logger.log("Loading key for "+w.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+_),this.state=ht.KEY_LOADING,i.trigger(c.default.KEY_LOADING,{frag:w})):(this.fragCurrent=w,(b||this.fragmentTracker.getState(w)===F)&&(u.logger.log("Loading "+w.sn+", cc: "+w.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+_+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+t+", bufferEnd: "+m.toFixed(3)),"initSegment"!==w.sn&&(this.startFragRequested=!0),Object(l.isFiniteNumber)(w.sn)&&(this.nextLoadPosition=w.start+w.duration),i.trigger(c.default.FRAG_LOADING,{frag:w}),this.state=ht.FRAG_LOADING)))}break;case ht.WAITING_TRACK:(e=this.tracks[this.trackId])&&e.details&&(this.state=ht.IDLE);break;case ht.FRAG_LOADING_WAITING_RETRY:var L=Ut.now(),D=this.retryDate,O=(o=this.media)&&o.seeking;(!D||L>=D||O)&&(u.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=ht.IDLE);break;case ht.WAITING_INIT_PTS:var I=this.waitingFragment;if(I){var P=I.frag.cc;if(void 0!==this.initPTS[P])this.waitingFragment=null,this.state=ht.FRAG_LOADING,this.onFragLoaded(I);else if(this.videoTrackCC!==this.waitingVideoCC)u.logger.log("Waiting fragment cc ("+P+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var N=H.bufferInfo(this.mediaBuffer,this.media.currentTime,r.maxBufferHole);ut(N.end,r.maxFragLookUpTolerance,I.frag)<0&&(u.logger.log("Waiting fragment cc ("+P+") @ "+I.frag.start+" cancelled because another fragment at "+N.end+" is needed"),this.clearWaitingFragment())}}else this.state=ht.IDLE;break;case ht.STOPPED:case ht.FRAG_LOADING:case ht.PARSING:case ht.PARSED:case ht.ENDED:}},d.clearWaitingFragment=function(){var t=this.waitingFragment;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=ht.IDLE)},d.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},d.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},d.onAudioTracksUpdated=function(t){u.logger.log("audio tracks updated"),this.tracks=t.audioTracks},d.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state=ht.PAUSED,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=ht.IDLE),this.tick()},d.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],r=i.details,a=e.totalduration,o=0;if(u.logger.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live||r&&r.live?r&&e.fragments.length>0?(nt(r,e),o=e.fragments[0].start,e.PTSKnown?u.logger.log("live audio playlist sliding:"+o.toFixed(3)):u.logger.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,u.logger.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,i.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;Object(l.isFiniteNumber)(s)?(u.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):e.live?(this.startPosition=this.computeLivePosition(o,e),u.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===ht.WAITING_TRACK&&(this.state=ht.IDLE),this.tick()},d.onKeyLoaded=function(){this.state===ht.KEY_LOADING&&(this.state=ht.IDLE,this.tick())},d.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===ht.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],r=i.details,a=r.totalduration,o=e.level,s=e.sn,l=e.cc,d=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",f=this.stats=t.stats;if("initSegment"===s)this.state=ht.IDLE,f.tparsed=f.tbuffered=Ut.now(),r.initSegment.data=t.payload,this.hls.trigger(c.default.FRAG_BUFFERED,{stats:f,frag:e,id:"audio"}),this.tick();else{this.state=ht.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new J(this.hls,"audio"));var p=this.initPTS[l],h=r.initSegment?r.initSegment.data:[];if(void 0!==p){this.pendingBuffering=!0,u.logger.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o);this.demuxer.push(t.payload,h,d,null,e,a,!1,p)}else u.logger.log("Unknown video PTS for cc "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=t,this.waitingVideoCC=this.videoTrackCC,this.state=ht.WAITING_INIT_PTS}}this.fragLoadError=0},d.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ht.PARSING){var i,r=t.tracks;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(c.default.BUFFER_CODECS,r),u.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c.default.BUFFER_APPENDING,o))}this.tick()}}},d.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===ht.PARSING){var r=this.trackId,a=this.tracks[r],o=this.hls;Object(l.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(m.AUDIO),u.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),et(a.details,n,t.startPTS,t.endPTS);var d=this.media,f=!1;if(this.audioSwitch)if(d&&d.readyState){var p=d.currentTime;u.logger.log("switching audio track : currentTime:"+p),p>=t.startPTS&&(u.logger.log("switching audio track : flushing all audio"),this.state=ht.BUFFER_FLUSHING,o.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),f=!0,this.audioSwitch=!1,o.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,o.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:r});var h=this.pendingData;if(!h)return u.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&h.push({type:t.type,data:e,parent:"audio",content:"data"})}),!f&&h.length&&(h.forEach(function(t){e.state===ht.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(c.default.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},d.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ht.PARSING&&(this.stats.tparsed=Ut.now(),this.state=ht.PARSED,this._checkAppendedParsed())},d.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},d.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},d.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==ht.PARSING&&e!==ht.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(!(this.state!==ht.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=Ut.now(),n.trigger(c.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;i&&u.logger.log("audio buffered : "+at.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=ht.IDLE}this.tick()}},d.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var r=this.config;if(i<=r.fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);u.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=Ut.now()+a,this.state=ht.FRAG_LOADING_WAITING_RETRY}else u.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ht.ERROR}break;case s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==ht.ERROR&&(this.state=t.fatal?ht.ERROR:ht.IDLE,u.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===ht.PARSING||this.state===ht.PARSED)){var o=this.mediaBuffer,l=this.media.currentTime;if(o&&H.isBuffered(o,l)&&H.isBuffered(o,l+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,u.logger.warn("AudioStreamController: reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=ht.IDLE}else u.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ht.BUFFER_FLUSHING,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},d.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(u.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(c.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=ht.PARSED):(this.state=ht.IDLE,this.fragPrevious=null,this.tick())},r=i,(a=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u.logger.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}])&&Bt(r.prototype,a),o&&Bt(r,o),i}(mt),qt=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function a(n,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var c="",u=!1,d=n,f=a,p=o,h=null,m="",g=!0,v="auto",y="start",b=50,_="middle",w=50,x="middle";Object.defineProperty(s,"id",r({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},l,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(s,"startTime",r({},l,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},l,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},l,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},l,{get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},l,{get:function(){return m},set:function(t){var n=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");m=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},l,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},l,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},l,{get:function(){return y},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},l,{get:function(){return _},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},l,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},l,{get:function(){return x},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},a}(),Ht=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function zt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Ht,this.regionList=[]}function Gt(){this.values=Object.create(null)}function Kt(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(n);if(2===o.length)e(o[0],o[1])}}Gt.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Vt=new qt(0,0,0),Wt="middle"===Vt.align?"middle":"center";function Yt(t,e,n){var i=t;function r(){var e=function(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),function(t,e){var i=new Gt;Kt(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start",Wt,"end"]);break;case"position":a=e.split(","),i.percent(t,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start",Wt,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",Wt,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var r=i.get("line","auto");"auto"===r&&-1===Vt.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",Wt);var a=i.get("position","auto");"auto"===a&&50===Vt.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function Xt(t){return t.replace(/<br(?: \/)?>/gi,"\n")}zt.prototype={parse:function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=Xt(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var r=(i=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:i=n(),e.state){case"HEADER":/:/.test(i)?Kt(i,function(t,e){},/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new qt(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{Yt(i,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var o=-1!==i.indexOf("--\x3e");if(!i||o&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var Qt=zt;function Jt(t,e,n,i){for(var r,a,o,s,l,c=[],u=window.VTTCue||TextTrackCue,d=0;d<i.rows.length;d++)if(o=!0,s=0,l="",!(r=i.rows[d]).isEmpty()){for(var f=0;f<r.chars.length;f++)r.chars[f].uchar.match(/\s/)&&o?s++:(l+=r.chars[f].uchar,o=!1);r.cueStartTime=e,e===n&&(n+=1e-4),a=new u(e,n,Xt(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100)),c.push(a),t&&t.addCue(a)}return c}var Zt,te={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ee=function(t){var e=t;return te.hasOwnProperty(t)&&(e=te[t]),String.fromCharCode(e)},ne=15,ie=100,re={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ae={17:2,18:4,21:6,22:8,23:10,19:13,20:15},oe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},se={25:2,26:4,29:6,30:8,31:10,27:13,28:15},le=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(Zt||(Zt={}));var ce=function(){function t(){this.time=null,this.verboseLevel=Zt.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&u.logger.log(this.time+" ["+t+"] "+e)},t}(),ue=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},de=function(){function t(t,e,n,i,r){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),fe=function(){function t(t,e,n,i,r,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new de(e,n,i,r,a)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),pe=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<ie;e++)this.chars.push(new fe);this.logger=t,this.pos=0,this.currPenState=new de}var e=t.prototype;return e.equals=function(t){for(var e=!0,n=0;n<ie;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<ie;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<ie;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(Zt.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>ie&&(this.logger.log(Zt.DEBUG,"Too large cursor position "+this.pos),this.pos=ie)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=ee(t);this.pos>=ie?this.logger.log(Zt.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<ie;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,n=0;n<ie;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),he=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<ne;e++)this.rows.push(new pe(t));this.logger=t,this.currRow=ne-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<ne;t++)this.rows[t].clear();this.currRow=ne-1},e.equals=function(t){for(var e=!0,n=0;n<ne;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<ne;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<ne;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(Zt.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(Zt.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<ne;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[i].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[i+s])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var c=t.indent,u=Math.max(c-1,0);l.setCursor(t.indent),t.color=l.chars[u].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(Zt.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(Zt.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(Zt.INFO,"Rolling up")}else this.logger.log(Zt.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=-1,r=0;r<ne;r++){var a=this.rows[r].getTextString();a&&(i=r+1,t?e.push("Row "+i+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},e.getTextAndFormat=function(){return this.rows},t}(),me=function(){function t(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new he(n),this.nonDisplayedMemory=new he(n),this.lastOutputScreen=new he(n),this.currRollUpRow=this.displayedMemory.rows[ne-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[ne-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(Zt.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Zt.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(Zt.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(Zt.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(Zt.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(Zt.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(Zt.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(Zt.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(Zt.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(Zt.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(Zt.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(Zt.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(Zt.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(Zt.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(Zt.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Zt.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(Zt.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(Zt.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}();function ge(t,e,n){n.a=t,n.b=e}function ve(t,e,n){return n.a===t&&n.b===e}var ye=function(){function t(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new ce;this.channels=[null,new me(t,e,i),new me(t+1,n,i)],this.cmdHistory={a:null,b:null},this.logger=i}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var n,i,r,a=!1;this.logger.time=t;for(var o=0;o<e.length;o+=2)if(i=127&e[o],r=127&e[o+1],0!==i||0!==r){if(this.logger.log(Zt.DATA,"["+ue([e[o],e[o+1]])+"] -> ("+ue([i,r])+")"),(n=this.parseCmd(i,r))||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n&&(a=this.parseChars(i,r))){var s=this.currentChannel;if(s&&s>0)this.channels[s].insertChars(a);else this.logger.log(Zt.WARNING,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(Zt.WARNING,"Couldn't parse cleaned data "+ue([i,r])+" orig: "+ue([e[o],e[o+1]]))}},e.parseCmd=function(t,e){var n=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(ve(t,e,n))return ge(null,null,n),this.logger.log(Zt.DEBUG,"Repeated command ("+ue([t,e])+") is dropped"),!0;var i=20===t||21===t||23===t?1:2,r=this.channels[i];return 20===t||21===t||28===t||29===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),ge(t,e,n),this.currentChannel=i,!0},e.parseMidrow=function(t,e){var n=0;if((17===t||25===t)&&e>=32&&e<=47){if((n=17===t?1:2)!==this.currentChannel)return this.logger.log(Zt.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(e),this.logger.log(Zt.DEBUG,"MIDROW ("+ue([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var n,i=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(ve(t,e,i))return ge(null,null,i),!0;var r=t<=23?1:2;n=e>=64&&e<=95?1===r?re[t]:oe[t]:1===r?ae[t]:se[t];var a=this.channels[r];return!!a&&(a.setPAC(this.interpretPAC(n,e)),ge(t,e,i),this.currentChannel=r,!0)},e.interpretPAC=function(t,e){var n=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},e.parseChars=function(t,e){var n,i=null,r=null;if(t>=25?(n=2,r=t-8):(n=1,r=t),r>=17&&r<=19){var a=e;a=17===r?e+80:18===r?e+112:e+144,this.logger.log(Zt.INFO,"Special char '"+ee(a)+"' in channel "+n),i=[a]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var o=ue(i);this.logger.log(Zt.DEBUG,"Char codes =  "+o.join(",")),ge(t,e,this.cmdHistory)}return i},e.parseBackgroundAttributes=function(t,e){var n;if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;var i={};16===t||24===t?(n=Math.floor((e-32)/2),i.background=le[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0));var r=t<=23?1:2;return this.channels[r].setBkgData(i),ge(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}},t}(),be=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[]},t}(),_e=function(t,e,n){return t.substr(n||0,e.length)===e},we=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},xe={parse:function(t,e,n,i,r,a){var o,s=Object(wt.utf8ArrayToStr)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),c="00:00.000",u=0,d=0,f=0,p=[],h=!0,m=!1,g=new Qt;g.oncue=function(t){var e=n[i],r=n.ccOffset;e&&e.new&&(void 0!==d?r=n.ccOffset=e.start:function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;r&&r.new;)t.ccOffset+=i.start-r.start,i.new=!1,r=t[(i=r).prevCC];t.presentationOffset=n}(n,i,f)),f&&(r=f-n.presentationOffset),m&&(t.startTime+=r-d,t.endTime+=r-d),t.id=we(t.startTime.toString())+we(t.endTime.toString())+we(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&p.push(t)},g.onparsingerror=function(t){o=t},g.onflush=function(){o&&a?a(o):r(p)},s.forEach(function(t){if(h){if(_e(t,"X-TIMESTAMP-MAP=")){h=!1,m=!0,t.substr(16).split(",").forEach(function(t){_e(t,"LOCAL:")?c=t.substr(6):_e(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{e+(9e4*n[i].start||0)<0&&(e+=8589934592),u-=e,d=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!(Object(l.isFiniteNumber)(e)&&Object(l.isFiniteNumber)(n)&&Object(l.isFiniteNumber)(i)&&Object(l.isFiniteNumber)(r)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,e+=6e4*i,e+=36e5*r}(c)/1e3,f=u/9e4}catch(t){m=!1,o=t}return}""===t&&(h=!1)}g.parse(t+"\n")}),g.flush()}};function Te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ke(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var Ce=function(t){var e,n;function i(e){var n;if((n=t.call(this,e,c.default.MEDIA_ATTACHING,c.default.MEDIA_DETACHING,c.default.FRAG_PARSING_USERDATA,c.default.FRAG_DECRYPTED,c.default.MANIFEST_LOADING,c.default.MANIFEST_LOADED,c.default.FRAG_LOADED,c.default.INIT_PTS_FOUND)||this).media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.captionsTracks={},n.nonNativeCaptionsTracks={},n.captionsProperties=void 0,n.cea608Parser1=void 0,n.cea608Parser2=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},n.hls=e,n.config=e.config,n.Cues=e.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode},textTrack3:{label:n.config.captionsTextTrack3Label,languageCode:n.config.captionsTextTrack3LanguageCode},textTrack4:{label:n.config.captionsTextTrack4Label,languageCode:n.config.captionsTextTrack4LanguageCode}},n.config.enableCEA708Captions){var i=new be(Te(n),"textTrack1"),r=new be(Te(n),"textTrack2"),a=new be(Te(n),"textTrack3"),o=new be(Te(n),"textTrack4");n.cea608Parser1=new ye(1,i,r),n.cea608Parser2=new ye(3,a,o)}return n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.addCues=function(t,e,n,i,r){for(var a,o,s,l,u=!1,d=r.length;d--;){var f=r[d],p=(a=f[0],o=f[1],s=e,l=n,Math.min(o,l)-Math.max(a,s));if(p>=0&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],n),u=!0,p/(n-e)>.5))return}if(u||r.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[t],e,n,i);else{var h=this.Cues.newCue(null,e,n,i);this.hls.trigger(c.default.CUES_PARSED,{type:"captions",cues:h,track:t})}},r.onInitPtsFound=function(t){var e=this,n=t.frag,i=t.id,r=t.initPTS,a=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]=r),a.length&&(this.unparsedVttFrags=[],a.forEach(function(t){e.onFragLoaded(t)}))},r.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(i[t])return i}return null},r.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},r.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,n=this.captionsTracks,i=this.media,r=e[t],a=r.label,o=r.languageCode,s=this.getExistingTrack(t);if(s)n[t]=s,Tt(n[t]),xt(n[t],i);else{var l=this.createTextTrack("captions",a,o);l&&(l[t]=!0,n[t]=l)}}},r.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(c.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},r.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},r.destroy=function(){t.prototype.destroy.call(this)},r.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},r.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){Tt(t[e]),delete t[e]}),this.nonNativeCaptionsTracks={}},r.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},r._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)Tt(e[n])}},r.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var n=t.subtitles||[],i=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=t.subtitles||[],this.config.renderTextTracksNatively){var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var i;if(n<r.length){for(var a=null,o=0;o<r.length;o++)if(ke(r[o],t)){a=r[o];break}a&&(i=a)}i||(i=e.createTextTrack("subtitles",t.name,t.lang)),t.default?i.mode=e.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",e.textTracks.push(i)})}else if(!i&&this.tracks&&this.tracks.length){var a=this.tracks.map(function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}});this.hls.trigger(c.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(t){var n=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(n){var i="textTrack"+n[1],r=e.captionsProperties[i];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}})},r.onFragLoaded=function(t){var e=t.frag,n=t.payload,i=this.cea608Parser1,r=this.cea608Parser2,a=this.initPTS,o=this.lastSn,s=this.unparsedVttFrags;if("main"===e.type){var u=e.sn;e.sn!==o+1&&i&&r&&(i.reset(),r.reset()),this.lastSn=u}else if("subtitle"===e.type)if(n.byteLength){if(!Object(l.isFiniteNumber)(a[e.cc]))return s.push(t),void(a.length&&this.hls.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var d=e.decryptdata;null!=d&&null!=d.key&&"AES-128"===d.method||this._parseVTTs(e,n)}else this.hls.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},r._parseVTTs=function(t,e){var n=this,i=this.hls,r=this.prevCC,a=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:r,new:!0},this.prevCC=t.cc),xe.parse(e,this.initPTS[t.cc],o,t.cc,function(e){if(n.config.renderTextTracksNatively){var r=a[t.level];if("disabled"===r.mode)return void i.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t});e.forEach(function(t){if(!r.cues.getCueById(t.id))try{if(r.addCue(t),!r.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){u.logger.debug("Failed occurred on adding cues: "+n);var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}})}else{var o=n.tracks[t.level].default?"default":"subtitles"+t.level;i.trigger(c.default.CUES_PARSED,{type:"subtitles",cues:e,track:o})}i.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){u.logger.log("Failed to parse VTT cue: "+e),i.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},r.onFragDecrypted=function(t){var e=t.frag,n=t.payload;if("subtitle"===e.type){if(!Object(l.isFiniteNumber)(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,n)}},r.onFragParsingUserdata=function(t){var e=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&e&&n)for(var i=0;i<t.samples.length;i++){var r=t.samples[i].bytes;if(r){var a=this.extractCea608Data(r);e.addData(t.samples[i].pts,a[0]),n.addData(t.samples[i].pts,a[1])}}},r.extractCea608Data=function(t){for(var e=31&t[0],n=2,i=[[],[]],r=0;r<e;r++){var a=t[n++],o=127&t[n++],s=127&t[n++],l=3&a;0===o&&0===s||0!=(4&a)&&(0!==l&&1!==l||(i[l].push(o),i[l].push(s)))}return i},i}(f);function Ee(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Se(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];"subtitles"===i.kind&&i.label&&e.push(t[n])}return e}var Ae=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADED,c.default.SUBTITLE_TRACK_LOADED)||this).tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,s=i.prototype;return s.destroy=function(){f.prototype.destroy.call(this)},s.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(l.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},s.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(l.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),Se(this.media.textTracks).forEach(function(t){Tt(t)}),this.subtitleTrack=-1,this.media=null)},s.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(c.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},s.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,i=t.details,r=this.trackId,a=this.tracks,o=a[r];if(n>=a.length||n!==r||!o||this.stopped)this._clearReloadTimer();else if(u.logger.log("subtitle track "+n+" loaded"),i.live){var s=rt(o.details,i,t.stats.trequest);u.logger.log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout(function(){e._loadCurrentTrack()},s)}else this._clearReloadTimer()},s.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},s.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},s._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},s._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,n=this.hls,i=e[t];t<0||!i||i.details&&!i.details.live||(u.logger.log("Loading subtitle track "+t),n.trigger(c.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))},s._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,i=this.trackId;if(e){var r=Se(e.textTracks);if(-1===t)[].slice.call(r).forEach(function(t){t.mode="disabled"});else{var a=r[i];a&&(a.mode="disabled")}var o=r[t];o&&(o.mode=n?"showing":"hidden")}},s._setSubtitleTrackInternal=function(t){var e=this.hls,n=this.tracks;!Object(l.isFiniteNumber)(t)||t<-1||t>=n.length||(this.trackId=t,u.logger.log("Switching to subtitle track "+t),e.trigger(c.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},s._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=Se(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},r=i,(a=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}])&&Ee(r.prototype,a),o&&Ee(r,o),i}(f),Re=n("./src/crypt/decrypter.js");var Le,De=window.performance,Oe=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.ERROR,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.SUBTITLE_TRACKS_UPDATED,c.default.SUBTITLE_TRACK_SWITCH,c.default.SUBTITLE_TRACK_LOADED,c.default.SUBTITLE_FRAG_PROCESSED,c.default.LEVEL_UPDATED)||this).fragmentTracker=n,i.config=e.config,i.state=ht.STOPPED,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new Re.default(e,e.config),i.lastAVStart=0,i._onMediaSeeking=i.onMediaSeeking.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.startLoad=function(){this.stopLoad(),this.state=ht.IDLE;var t=this.tracks[this.currentTrackId];t&&t.details&&(this.setInterval(500),this.tick())},r.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=ht.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var r,a=e.start,o=0;o<i.length;o++)if(a>=i[o].start&&a<=i[o].end){r=i[o];break}var s=e.start+e.duration;r?r.end=s:(r={start:a,end:s},i.push(r))}}},r.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=ht.IDLE},r.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]}),this.media=null,this.state=ht.STOPPED)},r.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=ht.IDLE)},r.onSubtitleTracksUpdated=function(t){var e=this;u.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]})},r.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,i=this.currentTrackId,r=this.tracks,a=r[i];e>=r.length||e!==i||!a||(n.live&&function(t,e,n){void 0===n&&(n=0);var i=-1;it(t,e,function(t,e,n){e.start=t.start,i=n});var r=e.fragments;if(i<0)r.forEach(function(t){t.start+=n});else for(var a=i+1;a<r.length;a++)r[a].start=r[a-1].start+r[a-1].duration}(a.details,n,this.lastAVStart),a.details=n,this.setInterval(500))},r.onKeyLoaded=function(){this.state===ht.KEY_LOADING&&(this.state=ht.IDLE)},r.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,i=t.frag,r=this.hls;if(this.state===ht.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=De.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,function(t){var e=De.now();r.trigger(c.default.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:a,tdecrypt:e}})})}},r.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},r.doTick=function(){if(this.media)switch(this.state){case ht.IDLE:var t=this.config,e=this.currentTrackId,n=this.fragmentTracker,i=this.media,r=this.tracks;if(!r||!r[e]||!r[e].details)break;var a,o=t.maxBufferHole,s=t.maxFragLookUpTolerance,l=Math.min(t.maxBufferLength,t.maxMaxBufferLength),d=H.bufferedInfo(this._getBuffered(),i.currentTime,o),f=d.end,p=d.len,h=r[e].details,m=h.fragments,g=m.length,v=m[g-1].start+m[g-1].duration;if(p>l)return;var y=this.fragPrevious;f<v?(y&&h.hasProgramDateTime&&(a=lt(m,y.endProgramDateTime,s)),a||(a=ct(y,m,f,s))):a=m[g-1],a&&a.encrypted?(u.logger.log("Loading key for "+a.sn),this.state=ht.KEY_LOADING,this.hls.trigger(c.default.KEY_LOADING,{frag:a})):a&&n.getState(a)===F&&(this.fragCurrent=a,this.state=ht.FRAG_LOADING,this.hls.trigger(c.default.FRAG_LOADING,{frag:a}))}else this.state=ht.IDLE},r.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,t.prototype.stopLoad.call(this)},r._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},r.onMediaSeeking=function(){if(this.fragCurrent){var t=this.media?this.media.currentTime:0,e=this.config.maxFragLookUpTolerance,n=this.fragCurrent.start-e,i=this.fragCurrent.start+this.fragCurrent.duration+e;(t<n||t>i)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=ht.IDLE,this.tick())}},i}(mt);!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(Le||(Le={}));var Ie="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;function Pe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ne=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHED,c.default.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(t){if(u.logger.log('Media is encrypted using "'+t.initDataType+'" init data type'),!n.mediaKeysPromise)return u.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void n.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var e=function(e){n._media&&(n._attemptSetMediaKeys(e),n._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};n.mediaKeysPromise.then(e).catch(e)},n._config=e.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=e.config.drmSystemOptions,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,l=i.prototype;return l.getLicenseServerUrl=function(t){switch(t){case Le.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},l._attemptKeySystemAccess=function(t,e,n){var i=this,r=function(t,e,n,i){switch(t){case Le.WIDEVINE:return function(t,e,n){var i={audioCapabilities:[],videoCapabilities:[]};return t.forEach(function(t){i.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:n.audioRobustness||""})}),e.forEach(function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:n.videoRobustness||""})}),[i]}(e,n,i);default:throw new Error("Unknown key-system: "+t)}}(t,e,n,this._drmSystemOptions);u.logger.log("Requesting encrypted media key-system access");var a=this.requestMediaKeySystemAccess(t,r);this.mediaKeysPromise=a.then(function(e){return i._onMediaKeySystemAccessObtained(t,e)}),a.catch(function(e){u.logger.error('Failed to obtain key-system "'+t+'" access:',e)})},l._onMediaKeySystemAccessObtained=function(t,e){var n=this;u.logger.log('Access for key-system "'+t+'" obtained');var i={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(i);var r=Promise.resolve().then(function(){return e.createMediaKeys()}).then(function(e){return i.mediaKeys=e,u.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated(),e});return r.catch(function(t){u.logger.error("Failed to create media-keys:",t)}),r},l._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},l._onNewMediaKeySession=function(t){var e=this;u.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",function(n){e._onKeySessionMessage(t,n.message)},!1)},l._onKeySessionMessage=function(t,e){u.logger.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){u.logger.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)})},l._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return u.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});u.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},l._generateRequestWithPreferredKeySession=function(t,e){var n=this,i=this._mediaKeysList[0];if(!i)return u.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(i.mediaKeysSessionInitialized)u.logger.warn("Key-Session already initialized but requested again");else{var r=i.mediaKeysSession;if(!r)return u.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return u.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});u.logger.log('Generating key-session request for "'+t+'" init data type'),i.mediaKeysSessionInitialized=!0,r.generateRequest(t,e).then(function(){u.logger.debug("Key-session generation succeeded")}).catch(function(t){u.logger.error("Error generating key-session request:",t),n.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},l._createLicenseXhr=function(t,e,n){var i=new XMLHttpRequest,r=this._licenseXhrSetup;try{if(r)try{r(i,t)}catch(e){i.open("POST",t,!0),r(i,t)}i.readyState||i.open("POST",t,!0)}catch(t){throw new Error("issue setting up KeySystem license XHR "+t)}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,t,e,n),i},l._onLicenseRequestReadyStageChange=function(t,e,n,i){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,u.logger.log("License request succeeded"),"arraybuffer"!==t.responseType&&u.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),i(t.response);else{if(u.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var r=3-this._requestLicenseFailureCount+1;u.logger.warn("Retrying license request, "+r+" attempts left"),this._requestLicense(n,i)}}},l._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case Le.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},l._requestLicense=function(t,e){u.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return u.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var i=this.getLicenseServerUrl(n.mediaKeySystemDomain),r=this._createLicenseXhr(i,t,e);u.logger.log("Sending license request to URL: "+i);var a=this._generateLicenseRequestChallenge(n,t);r.send(a)}catch(t){u.logger.error("Failure requesting DRM license: "+t),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},l.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;this._media=e,e.addEventListener("encrypted",this._onMediaEncrypted)}},l.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map(function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch(function(){})})).then(function(){return t.setMediaKeys(null)}).catch(function(){}))},l.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),n=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(Le.WIDEVINE,e,n)}},r=i,(a=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&Pe(r.prototype,a),o&&Pe(r,o),i}(f);function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(n),!0).forEach(function(e){je(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Be=Fe(Fe({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Mt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Rt,bufferController:Dt,capLevelController:It,fpsController:Nt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:Ie,testBandwidth:!0},{cueHandler:i,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Oe,subtitleTrackController:Ae,timelineController:Ce,audioStreamController:$t,audioTrackController:jt,emeController:Ne});function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach(function(e){qe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function He(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ze(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ge(t,e,n){return e&&ze(t.prototype,e),n&&ze(t,n),t}var Ke=function(t){var e,n;function i(e){var n;void 0===e&&(e={}),(n=t.call(this)||this).config=void 0,n._autoLevelCapping=void 0,n.abrController=void 0,n.capLevelController=void 0,n.levelController=void 0,n.streamController=void 0,n.networkControllers=void 0,n.audioTrackController=void 0,n.subtitleTrackController=void 0,n.emeController=void 0,n.coreComponents=void 0,n.media=null,n.url=null;var r=i.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");n.config=$e($e({},r),e);var a=He(n).config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(u.enableLogs)(a.debug),n._autoLevelCapping=-1;var o=n.abrController=new a.abrController(He(n)),s=new a.bufferController(He(n)),l=n.capLevelController=new a.capLevelController(He(n)),c=new a.fpsController(He(n)),d=new P(He(n)),f=new N(He(n)),p=new M(He(n)),h=new kt(He(n)),m=n.levelController=new _t(He(n)),g=new $(He(n)),v=[m,n.streamController=new yt(He(n),g)],y=a.audioStreamController;y&&v.push(new y(He(n),g)),n.networkControllers=v;var b=[d,f,p,o,s,l,c,h,g];if(y=a.audioTrackController){var _=new y(He(n));n.audioTrackController=_,b.push(_)}if(y=a.subtitleTrackController){var w=new y(He(n));n.subtitleTrackController=w,v.push(w)}if(y=a.emeController){var x=new y(He(n));n.emeController=x,b.push(x)}return(y=a.subtitleStreamController)&&v.push(new y(He(n),g)),(y=a.timelineController)&&b.push(new y(He(n))),n.coreComponents=b,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.isSupported=function(){return function(){var t=V();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!i}()},Ge(i,null,[{key:"version",get:function(){return"0.14.16"}},{key:"Events",get:function(){return c.default}},{key:"ErrorTypes",get:function(){return s.ErrorTypes}},{key:"ErrorDetails",get:function(){return s.ErrorDetails}},{key:"DefaultConfig",get:function(){return i.defaultConfig?i.defaultConfig:Be},set:function(t){i.defaultConfig=t}}]);var r=i.prototype;return r.destroy=function(){u.logger.log("destroy"),this.trigger(c.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},r.attachMedia=function(t){u.logger.log("attachMedia"),this.media=t,this.trigger(c.default.MEDIA_ATTACHING,{media:t})},r.detachMedia=function(){u.logger.log("detachMedia"),this.trigger(c.default.MEDIA_DETACHING),this.media=null},r.loadSource=function(t){t=o.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),u.logger.log("loadSource:"+t),this.url=t,this.trigger(c.default.MANIFEST_LOADING,{url:t})},r.startLoad=function(t){void 0===t&&(t=-1),u.logger.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},r.stopLoad=function(){u.logger.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},r.swapAudioCodec=function(){u.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},r.recoverMediaError=function(){u.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},r.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},Ge(i,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){u.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){u.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){u.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){u.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){u.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){u.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++){if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i}return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),i}(Y);Ke.defaultConfig=void 0},"./src/polyfills/number.js":function(t,e,n){"use strict";n.r(e),n.d(e,"isFiniteNumber",function(){return i}),n.d(e,"MAX_SAFE_INTEGER",function(){return r});var i=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},r=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(t,e,n){"use strict";function i(){return"undefined"==typeof window?self:window}n.r(e),n.d(e,"getSelfScope",function(){return i})},"./src/utils/logger.js":function(t,e,n){"use strict";n.r(e),n.d(e,"enableLogs",function(){return c}),n.d(e,"logger",function(){return u});var i=n("./src/utils/get-self-scope.js");function r(){}var a={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=a;var s=Object(i.getSelfScope)();function l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){o[e]=t[e]?t[e].bind(t):function(t){var e=s.console[t];return e?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=function(t,e){return e="["+t+"] > "+e}(t,i[0])),e.apply(s.console,i)}:r}(e)})}var c=function(t){if(s.console&&!0===t||"object"==typeof t){l(t,"debug","log","info","warn","error");try{o.log()}catch(t){o=a}}else o=a},u=o}}).default}),function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({"+b7R":function(t,e,n){"use strict";n.r(e);var i=n("jl8+"),r={name:"CategorySelect",props:["categories","api","placeholder"],computed:{apiUrl:function(){return this.api?this.api:"/api/categories"}},components:{Multiselect:n.n(i).a},mounted:function(){if(console.log(this.categories),this.categories){var t=JSON.parse(this.categories);for(var e in this.multiValue=[],t)this.multiValue.push({id:e,name:t[e]});$('input[name="categories"]').val(JSON.stringify(this.multiValue))}this.fetchData()},methods:{fetchData:function(){var t=this;console.log(this.apiUrl),window.axios.get(this.apiUrl).then(function(e){t.options=e.data})},updateSelected:function(t){$('input[name="categories"]').val(JSON.stringify(this.multiValue))}},data:function(){return{multiValue:null,options:[1,2,3,4,5,6,7,8,9]}}},a=(n("YLx5"),n("ViVg"),n("KHd+")),o=Object(a.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("multiselect",{attrs:{options:t.options,multiple:!0,placeholder:t.placeholder,label:"name","track-by":"id"},on:{input:t.updateSelected},model:{value:t.multiValue,callback:function(e){t.multiValue=e},expression:"multiValue"}}),t._v(" "),n("input",{attrs:{name:"categories",type:"hidden"}})],1)},[],!1,null,null,null);e.default=o.exports},"+lRy":function(t,e){},"+okJ":function(t,e,n){var i=n("1ks4");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"/2I0":function(t,e,n){"use strict";var i=n("0JCd");n.n(i).a},"/C9J":function(t,e,n){"use strict";n.r(e);var i={name:"User",created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){if(this.id=this.$route.params.id,this.id){var t=window.tokenize("/api/user/"+this.id),e=this;window.axios.get(t).then(function(t){e.user=t.data.user,console.log(e.user);var n=window.tokenize("/api/follow/"+e.id+"/users");window.axios.get(n)})}}},data:function(){return{id:null,user:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",{staticClass:"users"},[n("div",{staticClass:"note-info info-lg"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+t.user.id}},[n("img",{attrs:{src:t.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("a",{staticClass:"btn-base btn-hollow btn-md",attrs:{href:"/user/"+t.user.id}},[t._v("个人主页"),n("i",{staticClass:"iconfont icon-youbian"})]),t._v(" "),n("a",{staticClass:"btn-base btn-hollow btn-md",attrs:{href:"/chat/with/"+t.user.id}},[t._v("发消息")])]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/user/"+t.user.id}},[t._v(t._s(t.user.name))]),t._v(" "),"男"==t.user.gender?n("i",{staticClass:"man iconfont icon-nansheng1"}):"女"==t.user.gender?n("i",{staticClass:"iconfont woman icon-nvsheng1"}):t._e()]),t._v(" "),n("div",{staticClass:"info"},[t._v("\n\t \t\t\t\t\t写了"+t._s(t.user.count_words)+"个字，获得了"+t._s(t.user.count_likes)+"个喜欢\n\t      ")])]),t._v(" "),n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("div",{staticClass:"article_list tab-content"},[n("ul",{staticClass:"article-list fade in tab-pane active",attrs:{role:"tabpanel",id:"article"}},[n("article-list",{attrs:{api:"/user/"+t.user.id+"?articles=1"}})],1),t._v(" "),n("ul",{staticClass:"article-list fade tab-pane",attrs:{role:"tabpanel",id:"comment"}},[n("article-list",{attrs:{api:"/user/"+t.user.id+"?commented=1"}})],1),t._v(" "),n("ul",{staticClass:"article-list fade tab-pane",attrs:{role:"tabpanel",id:"hot"}},[n("article-list",{attrs:{api:"/user/"+t.user.id+"?hot=1"}})],1)])])]):n("div",{staticClass:"loading"},[t._v("\n\t\t正在加载....\n\t")])},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",attrs:{id:"trigger-menu",role:"tablist"}},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#article","aria-controls":"article",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-wenji"}),this._v("最新发布")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#comment","aria-controls":"comment",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-svg37"}),this._v("最新评论")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#hot","aria-controls":"hot",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-huo"}),this._v("热门")])])])}],!1,null,null,null);e.default=a.exports},"/HEA":function(t,e,n){"use strict";var i=n("A3/Q");n.n(i).a},"/K7i":function(t,e,n){"use strict";n.r(e);var i={name:"RecommendCategory",created:function(){this.fetchData()},methods:{changeCategory:function(){this.counter++,$(this.$refs.fresh).css("transform","rotate(".concat(360*this.counter,"deg)")),this.fetchData()},fetchData:function(){this.is_once?this.api="/api/recommend-categories?index=true":(this.page++,this.lastPage&&this.page>=this.lastPage&&(this.page=1),this.api="/api/recommend-categories?page="+this.page);var t=this;window.axios.get(this.api).then(function(e){t.is_once?(t.is_once=!1,t.categories=e.data):(t.categories=e.data.data,t.lastPage=e.data.last_page)},function(e){t.categories=t.defaultCategories})}},data:function(){return{counter:1,page:0,lastPage:null,api:"",is_once:!0,categories:[],defaultCategories:[{name:"美食食谱",name_en:"/meishicaipu"},{name:"合理膳食",name_en:"/helishanshi"},{name:"湖南美食",name_en:"/hunanmeishi"},{name:"各地美食",name_en:"/gedimeishi"},{name:"食疗养生",name_en:"/shiliaoyangsheng"},{name:"家常菜谱",name_en:"/jiachangcaicaipu"},{name:"懒人食谱",name_en:"/lanrenshipu"}]}}},r=(n("FeXY"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categories visible-xs"},[n("div",{staticClass:"top-title plate-title"},[n("span",[t._v("热门专题")]),t._v(" "),n("a",{staticClass:"category-change right",on:{click:t.changeCategory}},[n("i",{ref:"fresh",staticClass:"iconfont icon-shuaxin"}),t._v("换一批\n    ")])]),t._v(" "),t._l(t.categories,function(e){return n("a",{key:e.id,staticClass:"category-item",attrs:{href:e.url}},[n("span",{staticClass:"name"},[t._v(t._s(e.name))])])})],2)},[],!1,null,null,null);e.default=a.exports},"/MSi":function(t,e,n){"use strict";var i=n("xziv");n.n(i).a},"/SKk":function(t,e,n){"use strict";n.r(e);var i=(n("W1Xh"),n("KHd+")),r=Object(i.a)({name:"ImageList",props:["images"],data:function(){return{}}},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row img-list"},this._l(this.images,function(t){return e("div",{staticClass:"img-item"},[e("img",{attrs:{src:t.url_small,alt:t.title,"big-url":t.url,simditor:""}})])}),0)},[],!1,null,"3e31e01f",null);e.default=r.exports},0:function(t,e,n){n("JO1w"),n("+lRy"),t.exports=n("s+SA")},"01CS":function(t,e,n){"use strict";var i=n("zuv3");n.n(i).a},"01qL":function(t,e,n){"use strict";var i=n("ioY+");n.n(i).a},"09Cr":function(t,e,n){var i=n("Yv+J");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"0JCd":function(t,e,n){var i=n("qfd9");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"0NVF":function(t,e,n){"use strict";var i=n("Spdi");n.n(i).a},"0lK5":function(t,e,n){"use strict";n.r(e);var i=(n("/HEA"),n("KHd+")),r=Object(i.a)({name:"Captcha",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"captcha"},[e("div",{staticClass:"geetest-wind"},[e("div",{staticClass:"geetest-radar-btn"},[e("div",{staticClass:"geetest-radar"},[e("div",{staticClass:"geetest-sector"}),this._v(" "),e("div",{staticClass:"geetest-ring"}),this._v(" "),e("div",{staticClass:"geetest-small"})]),this._v(" "),e("div",{staticClass:"geetest-radar-tip"},[e("span",{staticClass:"geetest-radar-tip-content"},[this._v("点击按钮进行验证")])]),this._v(" "),e("a",{staticClass:"geetest-logo",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-dunpai"})])])])])}],!1,null,"527945ef",null);e.default=r.exports},1:function(t,e){},"19lo":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal.modal-withdraw .modal-dialog .modal-content .modal-body[data-v-58c866b5]{font-size:14px;padding:40px 40px 20px}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input[data-v-58c866b5]{position:relative}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input label[data-v-58c866b5]{position:absolute;top:15px;left:20px;font-weight:400}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input .amount[data-v-58c866b5]{position:absolute;top:14px;right:20px}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input input[data-v-58c866b5]{padding-left:135px;color:#646464;font-size:14px;line-height:38px;border-bottom:none;border-radius:0}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input:first-child input[data-v-58c866b5]{font-size:32px;border-radius:4px 4px 0 0}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input[data-v-58c866b5]:last-child{margin-bottom:20px}.modal.modal-withdraw .modal-dialog .modal-content .modal-body .money-input:last-child input[data-v-58c866b5]{border-radius:0 0 4px 4px;border-bottom:1px solid #c8c8c8}.modal.modal-withdraw .modal-dialog .modal-content .modal-footer[data-v-58c866b5]{padding:0 15px 40px;border:none;background-color:transparent;text-align:center}",""])},"1Sdo":function(t,e,n){"use strict";var i=n("Xibo");n.n(i).a},"1ks4":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"#dplayer[data-v-529fa72e]{width:100%;height:100%}",""])},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"2VEA":function(t,e,n){"use strict";var i=n("09Cr");n.n(i).a},"2YJx":function(t,e,n){"use strict";n.r(e);var i={name:"ArticleList",props:["api","startPage","notEmpty","isDesktop"],watch:{api:function(t){this.clear(),this.fetchData()}},computed:{apiUrl:function(){var t=this.page,e=this.api?this.api:this.apiDefault;return-1!==e.indexOf("?")?e+"&page="+t:e+"?page="+t}},mounted:function(){this.listenScrollBottom(),this.fetchData()},methods:{clear:function(){this.articles=[]},listenScrollBottom:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page,this.lastPage>0&&this.page>this.lastPage||this.fetchData()},fetchData:function(){var t=this;window.axios.get(this.apiUrl).then(function(e){t.articles=t.articles.concat(e.data.data),t.lastPage=e.data.last_page,$('[data-toggle="tooltip"]').tooltip(),t.page>=t.lastPage&&(t.end=!0)})}},data:function(){return{apiDefault:"",page:this.startPage?this.startPage:1,lastPage:-1,articles:[],end:!1,videotime:"1:30"}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.articles,function(e){return n("li",{class:e.cover_path?"content-item have-img":"content-item"},[e.cover_path?n("a",{staticClass:"wrap-img",attrs:{href:"/article/"+e.id}},[n("img",{attrs:{src:e.cover_path,alt:e.cover_path}}),t._v(" "),"video"==e.type?n("span",{staticClass:"rotate-play"},[n("i",{staticClass:"iconfont icon-shipin"})]):t._e(),t._v(" "),"video"==e.type?n("i",{staticClass:"duration"},[t._v(t._s(e.duration))]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"content"},["article"!==e.type?n("div",{staticClass:"author"},[e.user?n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar,alt:""}})]):t._e(),t._v(" "),n("div",{staticClass:"info"},[e.user?n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user.name))]):t._e(),t._v(" "),e.user.is_signed?n("img",{staticClass:"badge-icon",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/signed.png","data-toggle":"tooltip","data-placement":"top",title:"签约作者",alt:"签约作者"}}):t._e(),t._v(" "),e.user.is_editor?n("img",{staticClass:"badge-icon",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/editor.png","data-toggle":"tooltip","data-placement":"top",title:"小编",alt:"小编"}}):t._e(),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.time_ago))])])]):t._e(),t._v(" "),"article"==e.type?n("a",{staticClass:"title",attrs:{href:"/article/"+e.id}},[n("span",[t._v(t._s(e.title))])]):t._e(),t._v(" "),n("a",{staticClass:"abstract",attrs:{href:"/article/"+e.id}},[t._v(t._s(e.description))]),t._v(" "),n("div",{staticClass:"meta"},[e.category?n("a",{staticClass:"category",attrs:{href:"/category/"+e.category.id}},[n("i",{staticClass:"iconfont icon-zhuanti1"}),t._v("\n\t\t\t\t\t"+t._s(e.category.name)+"\n\t\t\t\t")]):t._e(),t._v(" "),e.user&&"diagrams"==e.type?n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user.id}},[t._v(t._s(e.user.name))]):t._e(),t._v(" "),n("a",{attrs:{href:"/article/"+e.id}},[n("i",{staticClass:"iconfont icon-liulan"}),t._v(" "+t._s(e.hits)+"\n\t\t\t\t")]),t._v(" "),n("a",{staticClass:"comment_meta",attrs:{href:"/article/"+e.id+"/#comments"}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(" "+t._s(e.count_replies)+"\n\t\t\t\t")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-03xihuan"}),t._v(" "+t._s(e.count_likes))]),t._v(" "),e.count_tips>0?n("span",{staticClass:"hidden-xs"},[n("i",{staticClass:"iconfont icon-qianqianqian"}),t._v(" "+t._s(e.count_tips))]):t._e()])])])}),t._v(" "),t.articles.length||t.notEmpty?n("loading-more",{attrs:{end:t.end}}):n("div",{staticClass:"unMessage"},[n("blank-content")],1)],2)},[],!1,null,"ecdc9cc4",null);e.default=a.exports},"340u":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal-share-weixin .modal-dialog{max-width:360px}.modal-share-weixin .modal-dialog .modal-content .modal-header{border-bottom-color:transparent}.modal-share-weixin .modal-dialog .modal-content .modal-body{padding:20px 60px 30px;text-align:center;height:340px;overflow:hidden}.modal-share-weixin .modal-dialog .modal-content .modal-body .scan-code svg{width:200px;height:200px}",""])},"34gP":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"#article_images .img_item{width:100%;height:200px;background:#000;display:flex;flex-direction:column;justify-content:space-between;margin-bottom:15px}#article_images .img_item .img_box{height:175px;overflow:hidden}#article_images .img_item .img_box img{max-width:100%;height:auto}#article_images .img_item .radio{color:#fff}",""])},"3J/0":function(t,e,n){"use strict";n.r(e);var i={name:"CategoryList",props:["api","startPage"],computed:{apiUrl:function(){var t=this.page,e=this.api?this.api:this.apiDefault;return-1!==e.indexOf("?")?e+"&page="+t:e+"?page="+t},user_id:function(){return window.user.id}},mounted:function(){this.fetchData(),this.listenScrollBottom()},methods:{listenScrollBottom:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page,this.lastPage>0&&this.page>this.lastPage||this.fetchData()},fetchData:function(){var t=this;window.axios.get(this.apiUrl).then(function(e){t.categories=t.categories.concat(e.data.data),t.lastPage=e.data.last_page})}},data:function(){return{apiDefault:"",page:this.startPage?this.startPage:1,lastPage:-1,categories:[]}}},r=(n("dPPg"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.categories,function(e){return n("li",{staticClass:"col-sm-4 recommend-card"},[n("div",[n("a",{attrs:{href:"/category/"+e.id}},[n("img",{staticClass:"avatar-category",attrs:{src:e.logo,alt:""}}),t._v(" "),n("h4",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"category-description"},[t._v(t._s(e.description))])]),t._v(" "),n("follow",{attrs:{type:"categories",id:e.id,"user-id":t.user_id,followed:e.followed}}),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"count"},[n("a",{attrs:{href:"/category/"+e.id}},[t._v(t._s(e.count)+"篇作品")]),t._v(" · "+t._s(e.count_follows)+"人关注")])],1)])}),t._v(" "),n("div",{staticClass:"clear"}),t._v(" "),n("a",{staticClass:"btn-base btn-more",attrs:{href:"javascript:;"}},[t._v(t._s(t.page>=t.lastPage?"已经到底了":"正在加载更多")+"...")])],2)},[],!1,null,"e509933c",null);e.default=a.exports},"3XLn":function(t,e,n){"use strict";n.r(e);var i={name:"Sign",props:["register"],created:function(){void 0!==this.register&&(this.tab="register")},computed:{token:function(){return window.csrf_token},isLogin:function(){return"login"==this.tab}},methods:{toggle:function(t){this.tab=t}},data:function(){return{tab:"login"}}},r=(n("WRGJ"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signs"},[n("h4",{staticClass:"title"},[n("div",{staticClass:"normal-title"},[n("a",{class:"login"==t.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.toggle("login")}}},[t._v("登录")]),t._v(" "),n("b",[t._v("·")]),t._v(" "),n("a",{class:"register"==t.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.toggle("register")}}},[t._v("注册")])])]),t._v(" "),t.isLogin?n("div",{staticClass:"signs-container"},[n("form",{attrs:{id:"loginForm",action:"/login","accept-charset":"UTF-8",method:"post"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{type:"hidden",name:"_token"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),n("input",{staticClass:"btn-base btn-login",attrs:{type:"submit",name:"commit",value:"登录"}})])]):n("div",{staticClass:"signs-container"},[n("form",{attrs:{id:"registerForm",action:"/register","accept-charset":"UTF-8",method:"post"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{type:"hidden",name:"_token"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),n("input",{staticClass:"btn-base btn-handle",attrs:{type:"submit",name:"commit",value:"注册"}}),t._v(" "),t._m(7)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-prepend restyle"},[e("input",{attrs:{placeholder:"邮箱",type:"text",name:"email",required:"required"}}),this._v(" "),e("i",{staticClass:"iconfont icon-yonghu01"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-prepend"},[e("input",{attrs:{placeholder:"密码",type:"password",name:"password",required:"required"}}),this._v(" "),e("i",{staticClass:"iconfont icon-suo2"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"remember-btn"},[e("input",{attrs:{type:"checkbox",value:"true",checked:"checked",name:"remember_me"}}),this._v(" "),e("span",[this._v("记住我")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"forget-btn"},[e("a",{staticClass:"javascript:;",attrs:{"data-toggle":"dropdown",href:"javascript:;"}},[this._v("登录遇到问题?")]),this._v(" "),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{staticClass:"link",attrs:{href:"/password/reset"}},[this._v("用邮箱重置密码")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-prepend restyle"},[e("input",{attrs:{placeholder:"你的昵称",type:"text",name:"name",required:"required"}}),this._v(" "),e("i",{staticClass:"iconfont icon-yonghu01"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-prepend restyle no-radius"},[e("input",{attrs:{placeholder:"邮箱",type:"text",name:"email",required:"required"}}),this._v(" "),e("i",{staticClass:"iconfont icon-ordinarymobile"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-prepend"},[e("input",{attrs:{placeholder:"设置密码",type:"password",name:"password",required:"required"}}),this._v(" "),e("i",{staticClass:"iconfont icon-suo2"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"sign-up-msg"},[this._v("\n                点击 “注册” 即表示您同意并愿意遵守我们的\n                "),e("br"),this._v(" "),e("a",{attrs:{href:"/yonghuxieyi"}},[this._v("用户协议")]),this._v(" 和 "),e("a",{attrs:{href:"/yingsizhengce"}},[this._v("隐私政策")]),this._v(" 。\n            ")])}],!1,null,"4ff10880",null);e.default=a.exports},"3esE":function(t,e,n){"use strict";n.r(e);var i={name:"Comments",props:["id","type","authorId","commentReplies"],mounted:function(){this.loadComments()},computed:{user:function(){return window.user},isLogin:function(){return void 0!==window.user}},methods:{sortComments:function(t){switch(this.order=t,t){case"timeAsc":this.comments.sort(function(t,e){return t.id-e.id});break;case"timeDesc":this.comments.sort(function(t,e){return e.id-t.id});break;default:this.comments.sort(function(t,e){return e.likes-t.likes})}},showOnlyAuthor:function(){var t=this;this.isOnlyAuthor=!this.isOnlyAuthor,this.isOnlyAuthor?(this.commentsAll=this.comments,this.comments=this.comments.filter(function(e){return e.user_id==t.authorId})):this.comments=this.commentsAll},lou:function(t){return 1==t?"沙发":2==t?"板凳":t+"楼"},postApiUrl:function(){return window.tokenize("/api/comment")},getApiUrl:function(){var t="/api/comment/"+this.id+"/"+this.type;return window.user&&(t="/api/comment/"+this.id+"/"+this.type+"/with-token"),this.currentPage>1&&(t+="?page="+this.currentPage),window.user&&(t=window.tokenize(t)),t},actionApiUrl:function(t,e){return window.tokenize("/api/comment/"+t+"/"+e)},postComment:function(t){this.newComment.lou=this.total+1,this.newComment.body=t,this.newComment.user=this.user,this.newComment.reply_comments=[],this.newComment.replying=!1,this.comments=this.comments.concat(this.newComment);var e=this;window.axios.post(this.postApiUrl(),this.newComment).then(function(t){t.data.reply_comments=[],t.data.replying=!1,e.comments.pop(),e.comments=e.comments.concat(t.data)})},sendReply:function(t,e,n){var i=this,r=i.gotReplyComment(t,e);i.comments[n].reply_comments.push(r),window.axios.post(this.postApiUrl(),r).then(function(t){i.comments[n].reply_comments.pop(),i.comments[n].reply_comments.push(t.data),i.toggleReplyComment(e,n)})},gotReplyComment:function(t,e){var n={};return n.comment_id=e.id,n.commentable_type=this.type,n.commentable_id=this.id,n.user=this.user,n.body=t,n.time="刚刚",n.is_reply=1,n.likes=0,n.reports=0,n},toggleReplyComment:function(t,e,n){this.checkLogin()&&(n?t.replying?t.replyUser?t.replyUser!==n.user.name?(t.replyUser=n.user.name,t.replyUserId=n.user.id):(t.replyUser=null,t.replyUserId=null,t.replying=!t.replying):(t.replyUser=n.user.name,t.replyUserId=n.user.id):(t.replyUser=n.user.name,t.replyUserId=n.user.id,t.replying=!t.replying):t.replyUser?(t.replyUser=null,t.replyUserId=null):t.replying=!t.replying,this.$nextTick(function(){$(".commenTable").each(function(){$(this).atwho(at_config)})}),this.$set(this.comments,e,t))},openReplyComment:function(t){t.reply_comments.forEach(function(t,e){e>=3&&(t.hide=!1)}),this.$set(t,"expanded",!0)},packupReplyComment:function(t){t.reply_comments.forEach(function(t,e){e>=3&&(t.hide=!0)}),this.$set(t,"expanded",!1)},prevPage:function(){this.currentPage>1&&(this.currentPage--,this.loadComments())},nextPage:function(){this.currentPage<this.lastPage&&(this.currentPage++,this.loadComments())},goPage:function(t){this.currentPage=t,this.loadComments()},checkLogin:function(){return!!this.isLogin||(window.location.href="/login",!1)},like:function(t){this.checkLogin()&&(this.$set(t,"liked",!t.liked),window.axios.get(this.actionApiUrl(t.id,"like")).then(function(e){t.count_likes=e.data.count_likes,t.liked=e.data.liked}))},report:function(t){this.checkLogin()&&(this.$set(t,"reported",!t.reported),window.axios.get(this.actionApiUrl(t.id,"report")).then(function(e){t.reports=e.data.reports}))},loadComments:function(){var t=this;window.axios.get(this.getApiUrl()).then(function(e){t.comments=e.data.data,t.comments.forEach(function(t){t.reply_comments.length>3&&t.reply_comments.forEach(function(t,e){e>=3&&(t.hide=!0)})}),t.lastPage=e.data.last_page,t.total=e.data.total})},commentBody:function(t){var e="";return t.replyUser&&t.replyUserId&&(e='<span class="atwho-inserted" data-atwho-at-query="@" contenteditable="false"><span data-id="'+t.replyUserId+'">@'+t.replyUser+"</span></span>&nbsp;"),e}},data:function(){return{currentPage:1,lastPage:null,total:0,isOnlyAuthor:!1,commentsAll:[],comments:[],order:"timeAsc",newComment:{user:{},is_reply:null,time:"刚刚",body:null,commentable_id:this.id,commentable_type:this.type,likes:0,reports:0}}}},r=(n("dKsS"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"comments"}},[n("new-comment",{on:{sendComment:t.postComment}}),t._v(" "),n("div",{staticClass:"normal-comment"},[n("div",[n("div",{staticClass:"top"},[n("span",[t._v(t._s(t.commentReplies)+"条评论")]),t._v(" "),n("a",{class:["btn-base","btn-light","btn-sm",t.isOnlyAuthor?"active":""],on:{click:t.showOnlyAuthor}},[t._v("只看作者")]),t._v(" "),n("div",{staticClass:"pull-right"},[n("a",{class:"like"==t.order?"active":"",on:{click:function(e){return t.sortComments("like")}}},[t._v("按点赞排序")]),t._v(" "),n("a",{class:"timeAsc"==t.order?"active hidden-xs":"hidden-xs",on:{click:function(e){return t.sortComments("timeAsc")}}},[t._v("按时间正序")]),t._v(" "),n("a",{class:"timeDesc"==t.order?"active hidden-xs":"hidden-xs",on:{click:function(e){return t.sortComments("timeDesc")}}},[t._v("按时间倒序")])])]),t._v(" "),t._l(t.comments,function(e,i){return n("div",{key:e.id,staticClass:"comment-item"},[n("div",[n("div",{staticClass:"user-info info-xs"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar}})]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user.id}},[t._v(t._s(e.user.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("span",[t._v(t._s(t.lou(e.lou))+" · "+t._s(e.time))])])]),t._v(" "),n("div",{staticClass:"comment-dtl"},[n("p",{domProps:{innerHTML:t._s(e.body)}}),t._v(" "),n("div",{staticClass:"tool-group"},[n("a",{class:["like",e.liked?"active":""],on:{click:function(n){return t.like(e)}}},[n("i",{class:["iconfont",e.liked?"icon-dianzan":"icon-fabulous"]}),t._v(" "),n("span",[n("b",{directives:[{name:"show",rawName:"v-show",value:e.likes,expression:"comment.likes"}]},[t._v(t._s(e.count_likes+"人"))]),t._v("赞")])]),t._v(" "),n("a",{staticClass:"report",attrs:{href:"javascript:;"},on:{click:function(n){return t.report(e)}}},[n("span",[t._v(t._s(e.reported?"已举报":"举报"))])])])]),t._v(" "),e.replying||e.reply_comments.length?n("blockquote",{staticClass:"sub-comment-list"},[t._l(e.reply_comments,function(r){return r.hide?t._e():n("div",{staticClass:"sub-comment"},[n("p",[n("a",{attrs:{href:"/user/"+r.user.id}},[t._v(t._s(r.user.name))]),t._v("：\n                                "),n("span",{domProps:{innerHTML:t._s(r.body)}})]),t._v(" "),n("div",{staticClass:"sub-tool-group"},[n("span",[t._v(t._s(r.created_at))]),t._v(" "),n("a",{staticClass:"reply",on:{click:function(n){return t.toggleReplyComment(e,i,r)}}},[n("i",{staticClass:"iconfont icon-xinxi"}),t._v(" "),n("span",[t._v("回复")])]),t._v(" "),n("a",{staticClass:"report",attrs:{href:"javascript:;"},on:{click:function(e){return t.report(r)}}},[n("span",[t._v("举报")])])])])}),t._v(" "),e.reply_comments.length?n("div",{staticClass:"more-comment"},[n("a",{staticClass:"add-comment-btn",on:{click:function(n){return t.toggleReplyComment(e,i)}}},[n("i",{staticClass:"iconfont icon-xie"}),t._v(" "),n("span",[t._v("添加新评论")])]),t._v(" "),e.reply_comments.length>3?n("span",{staticClass:"line-warp"},[e.expanded?t._e():n("span",[t._v("还有"+t._s(e.reply_comments.length-3)+"条评论，")]),t._v(" "),e.expanded?n("a",{on:{click:function(n){return t.packupReplyComment(e)}}},[t._v("收起")]):n("a",{on:{click:function(n){return t.openReplyComment(e)}}},[t._v("展开查看")])]):t._e()]):t._e(),t._v(" "),n("reply-comment",{attrs:{"is-show":e.replying,body:t.commentBody(e)},on:{sendReply:function(n){return t.sendReply(n,e,i)},"toggle-replycomment":function(n){return t.toggleReplyComment(e,i)}}})],2):t._e()])])})],2)]),t._v(" "),t.lastPage>1?n("ul",{staticClass:"paging"},[1!=t.currentPage?n("li",{on:{click:t.prevPage}},[n("a",[t._v("上一页")])]):t._e(),t._v(" "),t._l(t.lastPage,function(e){return n("li",{on:{click:function(n){return t.goPage(e)}}},[n("a",{class:e==t.currentPage?"active":""},[t._v(t._s(e))])])}),t._v(" "),t.currentPage!=t.lastPage?n("li",{on:{click:t.nextPage}},[n("a",[t._v("下一页")])]):t._e()],2):t._e()],1)},[],!1,null,null,null);e.default=a.exports},"3f+I":function(t,e,n){"use strict";n.r(e);var i={name:"RecommendAuthors",props:["isLogin"],computed:{apiUrl:function(){var t="/api/user/recommend",e=this.page;return-1!==t.indexOf("?")?t+"&page="+e:t+"?page="+e}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.counter++,$(this.$refs.fresh).css("transform","rotate(".concat(360*this.counter,"deg)")),$(".recommend_author ul").fadeOut();var e=t.apiUrl;t.isLogin&&(e=window.tokenize(t.apiUrl)),window.axios.get(e).then(function(e){t.users=e.data.data,$(".recommend_author ul").fadeIn()}),t.page++},toggleFollow:function(t){var e=this;e.isLogin||(location.href="/login");var n=window.tokenize("/api/follow/"+t.id+"/users");window.axios.post(n).then(function(n){t.is_followed=n.data,e.$set(e.users,e.users.indexOf(t),t)})}},data:function(){return{users:[],counter:1,page:1}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend-follower"},[n("div",{staticClass:"plate-title"},[t._v("\n    推荐作者\n    "),n("a",{staticClass:"right",attrs:{href:"javascript:;"},on:{click:t.fetchData}},[n("i",{ref:"fresh",staticClass:"iconfont icon-shuaxin"}),t._v("换一批")])]),t._v(" "),n("ul",t._l(t.users,function(e){return n("li",{key:e.id,staticClass:"user-info"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.id}},[n("img",{attrs:{src:e.avatar,alt:""}})]),t._v(" "),e.is_followed?n("a",{staticClass:"toggle-followed",attrs:{href:"javascript:;"},on:{click:function(n){return t.toggleFollow(e)}}},[n("i",{staticClass:"gougou iconfont icon-weibiaoti12"}),t._v(" "),n("i",{staticClass:"chacha iconfont icon-cha"})]):n("a",{staticClass:"follow",attrs:{href:"javascript:;"},on:{click:function(n){return t.toggleFollow(e)}}},[t._v("＋ 关注")]),t._v(" "),n("a",{staticClass:"title",attrs:{href:"/user/"+e.id}},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"info"},[t._v("\n        写了"+t._s(e.count_words)+"字 · "+t._s(e.count_likes)+"喜欢\n      ")])])}),0),t._v(" "),t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn-base btn-gray",attrs:{href:"/user"}},[this._v("\n    查看全部"),e("i",{staticClass:"iconfont icon-youbian"})])}],!1,null,null,null);e.default=a.exports},"3ojn":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".information input[name=website][data-v-065df87c]{width:100%;margin-bottom:10px}.information .social-bind[data-v-065df87c]{padding-bottom:10px}.information .social-bind p[data-v-065df87c]{padding:0}.information .social-bind .social-bind-list li[data-v-065df87c]{border-bottom:1px solid #f0f0f0;line-height:50px;font-size:0}.information .social-bind .social-bind-list li .bind-name[data-v-065df87c]{display:inline-block}.information .social-bind .social-bind-list li .bind-name i[data-v-065df87c]{width:30px;font-size:20px;vertical-align:middle;display:inline-block}.information .social-bind .social-bind-list li .bind-name i.icon-weibiaoti12[data-v-065df87c]{width:auto;margin-left:20px;color:#969696;font-size:14px}.information .social-bind .social-bind-list li .bind-name i.icon-youbian[data-v-065df87c]{font-size:12px}.information .social-bind .social-bind-list li .bind-name a[data-v-065df87c]{margin:0 0 0 20px;font-size:14px;vertical-align:middle}.information .social-bind .social-bind-list li .bind-name span[data-v-065df87c]{margin:0 0 0 3px;font-size:14px;color:#969696}.information .social-bind .social-bind-list li .pull-right[data-v-065df87c]{font-size:16px}.information .social-bind .social-bind-list li .pull-right span[data-v-065df87c]{color:#969696;margin:0 0 0 10px;font-size:12px}.information .social-bind .social-bind-list li .cancel-bind[data-v-065df87c]{font-size:14px;color:#969696;margin:0 0 0 8px;display:none}.information .social-bind .social-bind-list li .cancel-bind[data-v-065df87c]:hover{color:#252525}.information .social-bind .social-bind-list li:hover .cancel-bind[data-v-065df87c]{display:inline-block;vertical-align:middle;font-size:12px}",""])},"4/2r":function(t,e,n){"use strict";var i=n("eT5e");n.n(i).a},"4PEM":function(t,e,n){var i=n("R21m");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"4ZAT":function(t,e,n){var i=n("dx/d");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"4c/M":function(t,e,n){"use strict";n.r(e);var i={name:"SearchBox",props:["isDesktop"],computed:{user:function(){return window.user}},methods:{search:function(){$("#searchForm").submit()}},data:function(){return{}}},r=(n("8IcW"),n("KHd+")),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("form",{staticClass:"navbar-form navbar-left",attrs:{target:this.isDesktop?"_blank":"_self",role:"search",action:"/search",method:"get",id:"searchForm"}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"search-wrapper"},[e("input",{staticClass:"form-control",attrs:{type:"text",id:"search-input",placeholder:"搜索",name:"q",autocomplete:"off"}}),this._v(" "),e("span",{staticClass:"iconfont icon-sousuo search-btn",on:{click:this.search}}),this._v(" "),e("div",{staticClass:"hot-search-wrp hidden-xs"},[e("hot-search"),this._v(" "),this.user?e("recently",{attrs:{"hide-title":"true"}}):this._e()],1)])])])},[],!1,null,null,null);e.default=a.exports},"4iX4":function(t,e,n){var i=n("AgZc");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"4muN":function(t,e,n){"use strict";n.r(e);var i={name:"Tips",created:function(){var t=window.tokenize("/api/notifications/tip"),e=this;window.axios.get(t).then(function(t){e.notifications=t.data})},data:function(){return{notifications:[]}}},r=(n("LsRo"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"menu"},[t._v("收到的赞赏")]),t._v(" "),t.notifications.length?n("ul",{staticClass:"money-list"},t._l(t.notifications,function(e){return n("li",[n("div",{staticClass:"user-info info-xs"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user_id}},[n("img",{attrs:{src:e.user_avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user_name))]),t._v(" "),n("span",[t._v("向你的作品")]),t._v(" "),n("a",{staticClass:"headline",attrs:{href:"/article/"+e.article_id}},[t._v(t._s(e.article_title))]),t._v(" "),n("span",[t._v("赞赏 "),n("i",{staticClass:"money"},[t._v("¥ "+t._s(e.amount))])])]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.time))])]),t._v(" "),n("p",[t._v(t._s(e.message))]),t._v(" "),n("a",{staticClass:"btn-base btn-hollow btn-sm",attrs:{href:"/chat/with/"+e.user_id}},[t._v("消息回复")])])}),0):n("div",{staticClass:"unMessage"},[n("blank-content")],1)])},[],!1,null,"af87db54",null);e.default=a.exports},"57ro":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".simditor-box img{max-width:100%;width:auto;height:auto;margin-bottom:10px!important}.simditor-toolbar{top:52px!important}",""])},"5YS7":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".chats-list li .time[data-v-87657b14]{position:relative;font-size:13px;float:right}.chats-list li .time i[data-v-87657b14]{font-size:14px;margin-left:3px}.chats-list li .time .dropdown-menu[data-v-87657b14]{right:5px}.chats-list li .user-info .avatar[data-v-87657b14]{position:relative}.chats-list li .user-info .avatar .badge[data-v-87657b14]{top:0;right:-5px}.chats-list li .user-info .title[data-v-87657b14]{float:left;padding-left:0}.chats-list li .user-info .info[data-v-87657b14]{height:48px;padding-top:28px}",""])},"5bSU":function(t,e,n){"use strict";n.r(e);var i=n("KHd+"),r=Object(i.a)({name:"ModalDelete",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade delete-modal"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[t._v("\n\t\t\t\t\t\t\t\t      删除专题\n\t    \t\t\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("p",[t._v("该专题目前收录了0篇作品，删除专题操作不可逆，请慎重！")]),t._v(" "),n("input",{staticClass:"input-style",attrs:{type:"text",placeholder:"确认删除请输入专题名称"}})]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("button",{staticClass:"submit btn-base btn-hollow btn-sm"},[t._v("确认")]),t._v(" "),n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("取消")])])])])])}],!1,null,"22e61501",null);e.default=r.exports},"5cY0":function(t,e,n){var i=n("KKT6");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"6Pp1":function(t,e,n){"use strict";var i=n("AcID");n.n(i).a},"6s3i":function(t,e,n){var i,r,a;r="undefined"!=typeof window?window:this,a=function(n,r){var a=[],o=n.document,s=a.slice,l=a.concat,c=a.push,u=a.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h={},m=function(t,e){return new m.fn.init(t,e)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([\da-z])/gi,b=function(t,e){return e.toUpperCase()};function _(t){var e=!!t&&"length"in t&&t.length,n=m.type(t);return"function"!==n&&!m.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}m.fn=m.prototype={jquery:"2.2.4",constructor:m,selector:"",length:0,toArray:function(){return s.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:s.call(this)},pushStack:function(t){var e=m.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return m.each(this,t)},map:function(t){return this.pushStack(m.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},m.extend=m.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||m.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],o!==(i=t[e])&&(c&&i&&(m.isPlainObject(i)||(r=m.isArray(i)))?(r?(r=!1,a=n&&m.isArray(n)?n:[]):a=n&&m.isPlainObject(n)?n:{},o[e]=m.extend(c,a,i)):void 0!==i&&(o[e]=i));return o},m.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===m.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!m.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==m.type(t)||t.nodeType||m.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=m.trim(t))&&(1===t.indexOf("use strict")?((e=o.createElement("script")).text=t,o.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(v,"ms-").replace(y,b)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(_(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(_(Object(t))?m.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(_(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return l.apply([],o)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m.isFunction(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||m.guid++,r},now:Date.now,support:h}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=a[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var w=function(t){var e,n,i,r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_="sizzle"+1*new Date,w=t.document,x=0,T=0,k=rt(),C=rt(),E=rt(),S=function(t,e){return t===e&&(d=!0),0},A={}.hasOwnProperty,R=[],L=R.pop,D=R.push,O=R.push,I=R.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+M+"*("+F+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),q=new RegExp("^"+M+"*,"+M+"*"),H=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),G=new RegExp(B),K=new RegExp("^"+F+"$"),V={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),et=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},nt=function(){f()};try{O.apply(R=I.call(w.childNodes),w.childNodes),R[w.childNodes.length].nodeType}catch(t){O={apply:R.length?function(t,e){D.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,i,r){var a,s,c,u,d,h,v,y,x=e&&e.ownerDocument,T=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return i;if(!r&&((e?e.ownerDocument||e:w)!==p&&f(e),e=e||p,m)){if(11!==T&&(h=Q.exec(t)))if(a=h[1]){if(9===T){if(!(c=e.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(x&&(c=x.getElementById(a))&&b(e,c)&&c.id===a)return i.push(c),i}else{if(h[2])return O.apply(i,e.getElementsByTagName(t)),i;if((a=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!E[t+" "]&&(!g||!g.test(t))){if(1!==T)x=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(Z,"\\$&"):e.setAttribute("id",u=_),s=(v=o(t)).length,d=K.test(u)?"#"+u:"[id='"+u+"']";s--;)v[s]=d+" "+ht(v[s]);y=v.join(","),x=J.test(t)&&ft(e.parentNode)||e}if(y)try{return O.apply(i,x.querySelectorAll(y)),i}catch(t){}finally{u===_&&e.removeAttribute("id")}}}return l(t.replace($,"$1"),e,i,r)}function rt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[_]=!0,t}function ot(t){var e=p.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=it.support={},a=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=it.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!==p&&9===o.nodeType&&o.documentElement?(h=(p=o).documentElement,m=!a(p),(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),n.attributes=ot(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ot(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=ot(function(t){return h.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(tt,et);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(tt,et);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=X.test(p.querySelectorAll))&&(ot(function(t){h.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ot(function(t){var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=X.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=X.test(h.compareDocumentPosition),b=e||X.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===w&&b(w,t)?-1:e===p||e.ownerDocument===w&&b(w,e)?1:u?P(u,t)-P(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t===p?-1:e===p?1:r?-1:a?1:u?P(u,t)-P(u,e):0;if(r===a)return lt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?lt(o[i],s[i]):o[i]===w?-1:s[i]===w?1:0},p):p},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(z,"='$1']"),n.matchesSelector&&m&&!E[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return it(e,p,null,[t]).length>0},it.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),b(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],a=r&&A.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==a?a:n.attributes||!m?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,i=[],r=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(S),d){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return u=null,t},r=it.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=it.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,et),t[3]=(t[3]||t[4]||t[5]||"").replace(tt,et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+M+")"+t+"("+M+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=it.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,f,p,h,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===t&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&y){for(b=(p=(c=(u=(d=(f=g)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[x,p,b];break}}else if(y&&(b=p=(c=(u=(d=(f=e)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]=[x,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=P(t,a[o])]=!(n[i]=a[o])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=s(t.replace($,"$1"));return i[_]?at(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return it(t,e).length>0}}),contains:at(function(t){return t=t.replace(tt,et),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return K.test(t||"")||it.error("unsupported lang: "+t),t=t.replace(tt,et).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ut(e);function pt(){}function ht(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,a=T++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,a)}:function(e,n,o){var s,l,c,u=[x,a];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((s=(l=(c=e[_]||(e[_]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&s[0]===x&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,o))return!0}}}function gt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function vt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),c&&e.push(s)));return o}function yt(t,e,n,i,r,a){return i&&!i[_]&&(i=yt(i)),r&&!r[_]&&(r=yt(r,a)),at(function(a,o,s,l){var c,u,d,f=[],p=[],h=o.length,m=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!a&&e?m:vt(m,f,t,s,l),v=n?r||(a?t:h||i)?[]:o:g;if(n&&n(g,v,s,l),i)for(c=vt(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(a){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?P(a,d):f[u])>-1&&(a[c]=!(o[c]=d))}}else v=vt(v===o?v.splice(h,v.length):v),r?r(null,o,v,l):O.apply(o,v)})}function bt(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],l=o?1:0,u=mt(function(t){return t===e},s,!0),d=mt(function(t){return P(e,t)>-1},s,!0),f=[function(t,n,i){var r=!o&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];l<a;l++)if(n=i.relative[t[l].type])f=[mt(gt(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<a&&!i.relative[t[r].type];r++);return yt(l>1&&gt(f),l>1&&ht(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace($,"$1"),n,l<r&&bt(t.slice(l,r)),r<a&&bt(t=t.slice(r)),r<a&&ht(t))}f.push(n)}return gt(f)}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,o=it.tokenize=function(t,e){var n,r,a,o,s,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(o in n&&!(r=q.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=H.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace($," ")}),s=s.slice(n.length)),i.filter)!(r=V[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?it.error(t):C(t,l).slice(0)},s=it.compile=function(t,e){var n,r=[],a=[],s=E[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=bt(e[n]))[_]?r.push(s):a.push(s);(s=E(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,l,u){var d,h,g,v=0,y="0",b=a&&[],_=[],w=c,T=a||r&&i.find.TAG("*",u),k=x+=null==w?1:Math.random()||.1,C=T.length;for(u&&(c=o===p||o||u);y!==C&&null!=(d=T[y]);y++){if(r&&d){for(h=0,o||d.ownerDocument===p||(f(d),s=!m);g=t[h++];)if(g(d,o||p,s)){l.push(d);break}u&&(x=k)}n&&((d=!g&&d)&&v--,a&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=e[h++];)g(b,_,o,s);if(a){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=L.call(l));_=vt(_)}O.apply(l,_),u&&!a&&_.length>0&&v+e.length>1&&it.uniqueSort(l)}return u&&(x=k,c=w),b};return n?at(a):a}(a,r))).selector=t}return s},l=it.select=function(t,e,r,a){var l,c,u,d,f,p="function"==typeof t&&t,h=!a&&o(t=p.selector||t);if(r=r||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===e.nodeType&&m&&i.relative[c[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(tt,et),e)||[])[0]))return r;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=V.needsContext.test(t)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((f=i.find[d])&&(a=f(u.matches[0].replace(tt,et),J.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=a.length&&ht(c)))return O.apply(r,a),r;break}}return(p||s(t,h))(a,e,!m,r,!e||J.test(t)&&ft(e.parentNode)||e),r},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!d,f(),n.sortDetached=ot(function(t){return 1&t.compareDocumentPosition(p.createElement("div"))}),ot(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ot(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ot(function(t){return null==t.getAttribute("disabled")})||st(N,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(n);m.find=w,m.expr=w.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=w.uniqueSort,m.text=w.getText,m.isXMLDoc=w.isXML,m.contains=w.contains;var x=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&m(t).is(n))break;i.push(t)}return i},T=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=m.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function S(t,e,n){if(m.isFunction(e))return m.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return m.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(E.test(e))return m.filter(e,t,n);e=m.filter(e,t)}return m.grep(t,function(t){return u.call(e,t)>-1!==n})}m.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?m.find.matchesSelector(i,t)?[i]:[]:m.find.matches(t,m.grep(e,function(t){return 1===t.nodeType}))},m.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(m(t).filter(function(){for(e=0;e<n;e++)if(m.contains(r[e],this))return!0}));for(e=0;e<n;e++)m.find(t,r[e],i);return(i=this.pushStack(n>1?m.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&k.test(t)?m(t):t||[],!1).length}});var A,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof m?e[0]:e,m.merge(this,m.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:o,!0)),C.test(i[1])&&m.isPlainObject(e))for(i in e)m.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=o.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=o,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):m.isFunction(t)?void 0!==n.ready?n.ready(t):t(m):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),m.makeArray(t,this))}).prototype=m.fn,A=m(o);var L=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}m.fn.extend({has:function(t){var e=m(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(m.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=k.test(t)||"string"!=typeof t?m(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?m.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(m(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),m.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,"parentNode")},parentsUntil:function(t,e,n){return x(t,"parentNode",n)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return x(t,"nextSibling")},prevAll:function(t){return x(t,"previousSibling")},nextUntil:function(t,e,n){return x(t,"nextSibling",n)},prevUntil:function(t,e,n){return x(t,"previousSibling",n)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return t.contentDocument||m.merge([],t.childNodes)}},function(t,e){m.fn[t]=function(n,i){var r=m.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=m.filter(i,r)),this.length>1&&(D[t]||m.uniqueSort(r),L.test(t)&&r.reverse()),this.pushStack(r)}});var I,P=/\S+/g;function N(){o.removeEventListener("DOMContentLoaded",N),n.removeEventListener("load",N),m.ready()}m.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return m.each(t.match(P)||[],function(t,n){e[n]=!0}),e}(t):m.extend({},t);var e,n,i,r,a=[],o=[],s=-1,l=function(){for(r=t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){m.each(n,function(n,i){m.isFunction(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==m.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return m.each(arguments,function(t,e){for(var n;(n=m.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?m.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},m.extend({Deferred:function(t){var e=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return m.Deferred(function(n){m.each(e,function(e,a){var o=m.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&m.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?m.extend(t,i):i}},r={};return i.pipe=i.then,m.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=s.call(arguments),o=a.length,l=1!==o||t&&m.isFunction(t.promise)?o:0,c=1===l?t:m.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?s.call(arguments):r,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);r<o;r++)a[r]&&m.isFunction(a[r].promise)?a[r].promise().progress(u(r,n,e)).done(u(r,i,a)).fail(c.reject):--l;return l||c.resolveWith(i,a),c.promise()}}),m.fn.ready=function(t){return m.ready.promise().done(t),this},m.extend({isReady:!1,readyWait:1,holdReady:function(t){t?m.readyWait++:m.ready(!0)},ready:function(t){(!0===t?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==t&&--m.readyWait>0||(I.resolveWith(o,[m]),m.fn.triggerHandler&&(m(o).triggerHandler("ready"),m(o).off("ready"))))}}),m.ready.promise=function(t){return I||(I=m.Deferred(),"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?n.setTimeout(m.ready):(o.addEventListener("DOMContentLoaded",N),n.addEventListener("load",N))),I.promise(t)},m.ready.promise();var M=function(t,e,n,i,r,a,o){var s=0,l=t.length,c=null==n;if("object"===m.type(n))for(s in r=!0,n)M(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,m.isFunction(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(m(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):a},F=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function j(){this.expando=m.expando+j.uid++}j.uid=1,j.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!F(t))return{};var e=t[this.expando];return e||(e={},F(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,m.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{m.isArray(e)?i=e.concat(e.map(m.camelCase)):(r=m.camelCase(e),i=e in a?[e,r]:(i=r)in a?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete a[i[n]]}(void 0===e||m.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!m.isEmptyObject(e)}};var B=new j,U=new j,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function H(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:$.test(n)?m.parseJSON(n):n)}catch(t){}U.set(t,e,n)}else n=void 0;return n}m.extend({hasData:function(t){return U.hasData(t)||B.hasData(t)},data:function(t,e,n){return U.access(t,e,n)},removeData:function(t,e){U.remove(t,e)},_data:function(t,e,n){return B.access(t,e,n)},_removeData:function(t,e){B.remove(t,e)}}),m.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=U.get(a),1===a.nodeType&&!B.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),H(a,i,r[i]));B.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){U.set(this,t)}):M(this,function(e){var n,i;if(a&&void 0===e)return void 0!==(n=U.get(a,t)||U.get(a,t.replace(q,"-$&").toLowerCase()))?n:(i=m.camelCase(t),void 0!==(n=U.get(a,i))||void 0!==(n=H(a,i,void 0))?n:void 0);i=m.camelCase(t),this.each(function(){var n=U.get(this,i);U.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&U.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){U.remove(this,t)})}}),m.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=B.get(t,e),n&&(!i||m.isArray(n)?i=B.access(t,e,m.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=m.queue(t,e),i=n.length,r=n.shift(),a=m._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){m.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return B.get(t,n)||B.access(t,n,{empty:m.Callbacks("once memory").add(function(){B.remove(t,[e+"queue",n])})})}}),m.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?m.queue(this[0],t):void 0===e?this:this.each(function(){var n=m.queue(this,t,e);m._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&m.dequeue(this,t)})},dequeue:function(t){return this.each(function(){m.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=m.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=B.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],V=function(t,e){return t=e||t,"none"===m.css(t,"display")||!m.contains(t.ownerDocument,t)};function W(t,e,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return m.css(t,e,"")},l=s(),c=n&&n[3]||(m.cssNumber[e]?"":"px"),u=(m.cssNumber[e]||"px"!==c&&+l)&&G.exec(m.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=a=a||".5",m.style(t,e,u+c)}while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,Q=/^$|\/(?:java|ecma)script/i,J={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&m.nodeName(t,e)?m.merge([t],n):n}function tt(t,e){for(var n=0,i=t.length;n<i;n++)B.set(t[n],"globalEval",!e||B.get(e[n],"globalEval"))}J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var et,nt,it=/<|&#?\w+;/;function rt(t,e,n,i,r){for(var a,o,s,l,c,u,d=e.createDocumentFragment(),f=[],p=0,h=t.length;p<h;p++)if((a=t[p])||0===a)if("object"===m.type(a))m.merge(f,a.nodeType?[a]:a);else if(it.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(X.exec(a)||["",""])[1].toLowerCase(),l=J[s]||J._default,o.innerHTML=l[1]+m.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;m.merge(f,o.childNodes),(o=d.firstChild).textContent=""}else f.push(e.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(i&&m.inArray(a,i)>-1)r&&r.push(a);else if(c=m.contains(a.ownerDocument,a),o=Z(d.appendChild(a),"script"),c&&tt(o),n)for(u=0;a=o[u++];)Q.test(a.type||"")&&n.push(a);return d}et=o.createDocumentFragment().appendChild(o.createElement("div")),(nt=o.createElement("input")).setAttribute("type","radio"),nt.setAttribute("checked","checked"),nt.setAttribute("name","t"),et.appendChild(nt),h.checkClone=et.cloneNode(!0).cloneNode(!0).lastChild.checked,et.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!et.cloneNode(!0).lastChild.defaultValue;var at=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;function lt(){return!0}function ct(){return!1}function ut(){try{return o.activeElement}catch(t){}}function dt(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)dt(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ct;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return m().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=m.guid++)),t.each(function(){m.event.add(this,e,r,i,n)})}m.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,g,v=B.get(t);if(v)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=m.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(e){return void 0!==m&&m.event.triggered!==e.type?m.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(P)||[""]).length;c--;)p=g=(s=st.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=m.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=m.event.special[p]||{},u=m.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:h.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),m.event.global[p]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,g,v=B.hasData(t)&&B.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(P)||[""]).length;c--;)if(p=g=(s=st.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=m.event.special[p]||{},f=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(t,u));o&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,h,v.handle)||m.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)m.event.remove(t,p+e[c],n,i,!0);m.isEmptyObject(l)&&B.remove(t,"handle events")}},dispatch:function(t){t=m.event.fix(t);var e,n,i,r,a,o=[],l=s.call(arguments),c=(B.get(this,"events")||{})[t.type]||[],u=m.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=m.event.handlers.call(this,t,c),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((m.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(a=e[n]).selector+" "]&&(i[r]=a.needsContext?m(r,this).index(l)>-1:m.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||o).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[m.expando])return t;var e,n,i,r=t.type,a=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=ot.test(r)?this.mouseHooks:at.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new m.Event(a),e=i.length;e--;)t[n=i[e]]=a[n];return t.target||(t.target=o),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ut()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ut()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(t){return m.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},m.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},m.Event=function(t,e){if(!(this instanceof m.Event))return new m.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?lt:ct):this.type=t,e&&m.extend(this,e),this.timeStamp=t&&t.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:ct,isPropagationStopped:ct,isImmediatePropagationStopped:ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=lt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=lt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=lt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){m.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||m.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),m.fn.extend({on:function(t,e,n,i){return dt(this,t,e,n,i)},one:function(t,e,n,i){return dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,m(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=ct),this.each(function(){m.event.remove(this,t,n,e)})}});var ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,pt=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^true\/(.*)/,gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function vt(t,e){return m.nodeName(t,"table")&&m.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function yt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function bt(t){var e=mt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _t(t,e){var n,i,r,a,o,s,l,c;if(1===e.nodeType){if(B.hasData(t)&&(a=B.access(t),o=B.set(e,a),c=a.events))for(r in delete o.handle,o.events={},c)for(n=0,i=c[r].length;n<i;n++)m.event.add(e,r,c[r][n]);U.hasData(t)&&(s=U.access(t),l=m.extend({},s),U.set(e,l))}}function wt(t,e,n,i){e=l.apply([],e);var r,a,o,s,c,u,d=0,f=t.length,p=f-1,g=e[0],v=m.isFunction(g);if(v||f>1&&"string"==typeof g&&!h.checkClone&&ht.test(g))return t.each(function(r){var a=t.eq(r);v&&(e[0]=g.call(this,r,a.html())),wt(a,e,n,i)});if(f&&(a=(r=rt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=m.map(Z(r,"script"),yt)).length;d<f;d++)c=r,d!==p&&(c=m.clone(c,!0,!0),s&&m.merge(o,Z(c,"script"))),n.call(t[d],c,d);if(s)for(u=o[o.length-1].ownerDocument,m.map(o,bt),d=0;d<s;d++)c=o[d],Q.test(c.type||"")&&!B.access(c,"globalEval")&&m.contains(u,c)&&(c.src?m._evalUrl&&m._evalUrl(c.src):m.globalEval(c.textContent.replace(gt,"")))}return t}function xt(t,e,n){for(var i,r=e?m.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||m.cleanData(Z(i)),i.parentNode&&(n&&m.contains(i.ownerDocument,i)&&tt(Z(i,"script")),i.parentNode.removeChild(i));return t}m.extend({htmlPrefilter:function(t){return t.replace(ft,"<$1></$2>")},clone:function(t,e,n){var i,r,a,o,s,l,c,u=t.cloneNode(!0),d=m.contains(t.ownerDocument,t);if(!(h.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||m.isXMLDoc(t)))for(o=Z(u),i=0,r=(a=Z(t)).length;i<r;i++)s=a[i],void 0,"input"===(c=(l=o[i]).nodeName.toLowerCase())&&Y.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(a=a||Z(t),o=o||Z(u),i=0,r=a.length;i<r;i++)_t(a[i],o[i]);else _t(t,u);return(o=Z(u,"script")).length>0&&tt(o,!d&&Z(t,"script")),u},cleanData:function(t){for(var e,n,i,r=m.event.special,a=0;void 0!==(n=t[a]);a++)if(F(n)){if(e=n[B.expando]){if(e.events)for(i in e.events)r[i]?m.event.remove(n,i):m.removeEvent(n,i,e.handle);n[B.expando]=void 0}n[U.expando]&&(n[U.expando]=void 0)}}}),m.fn.extend({domManip:wt,detach:function(t){return xt(this,t,!0)},remove:function(t){return xt(this,t)},text:function(t){return M(this,function(t){return void 0===t?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return wt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||vt(this,t).appendChild(t)})},prepend:function(){return wt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=vt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(m.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return m.clone(this,t,e)})},html:function(t){return M(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!pt.test(t)&&!J[(X.exec(t)||["",""])[1].toLowerCase()]){t=m.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(m.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return wt(this,arguments,function(e){var n=this.parentNode;m.inArray(this,t)<0&&(m.cleanData(Z(this)),n&&n.replaceChild(e,this))},t)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){m.fn[t]=function(t){for(var n,i=[],r=m(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),m(r[o])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Tt,kt={HTML:"block",BODY:"block"};function Ct(t,e){var n=m(e.createElement(t)).appendTo(e.body),i=m.css(n[0],"display");return n.detach(),i}function Et(t){var e=o,n=kt[t];return n||("none"!==(n=Ct(t,e))&&n||((e=(Tt=(Tt||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Ct(t,e),Tt.detach()),kt[t]=n),n}var St=/^margin/,At=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),Rt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Lt=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in r=n.apply(t,i||[]),e)t.style[a]=o[a];return r},Dt=o.documentElement;function Ot(t,e,n){var i,r,a,o,s=t.style;return""!==(o=(n=n||Rt(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==o||m.contains(t.ownerDocument,t)||(o=m.style(t,e)),n&&!h.pixelMarginRight()&&At.test(o)&&St.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function It(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var t,e,i,r,a=o.createElement("div"),s=o.createElement("div");function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Dt.appendChild(a);var o=n.getComputedStyle(s);t="1%"!==o.top,r="2px"===o.marginLeft,e="4px"===o.width,s.style.marginRight="50%",i="4px"===o.marginRight,Dt.removeChild(a)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),m.extend(h,{pixelPosition:function(){return l(),t},boxSizingReliable:function(){return null==e&&l(),e},pixelMarginRight:function(){return null==e&&l(),i},reliableMarginLeft:function(){return null==e&&l(),r},reliableMarginRight:function(){var t,e=s.appendChild(o.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",Dt.appendChild(a),t=!parseFloat(n.getComputedStyle(e).marginRight),Dt.removeChild(a),s.removeChild(e),t}}))}();var Pt=/^(none|table(?!-c[ea]).+)/,Nt={position:"absolute",visibility:"hidden",display:"block"},Mt={letterSpacing:"0",fontWeight:"400"},Ft=["Webkit","O","Moz","ms"],jt=o.createElement("div").style;function Bt(t){if(t in jt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Ft.length;n--;)if((t=Ft[n]+e)in jt)return t}function Ut(t,e,n){var i=G.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function $t(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=m.css(t,n+K[a],!0,r)),i?("content"===n&&(o-=m.css(t,"padding"+K[a],!0,r)),"margin"!==n&&(o-=m.css(t,"border"+K[a]+"Width",!0,r))):(o+=m.css(t,"padding"+K[a],!0,r),"padding"!==n&&(o+=m.css(t,"border"+K[a]+"Width",!0,r)));return o}function qt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=Rt(t),o="border-box"===m.css(t,"boxSizing",!1,a);if(r<=0||null==r){if(((r=Ot(t,e,a))<0||null==r)&&(r=t.style[e]),At.test(r))return r;i=o&&(h.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+$t(t,e,n||(o?"border":"content"),i,a)+"px"}function Ht(t,e){for(var n,i,r,a=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(a[o]=B.get(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(a[o]=B.access(i,"olddisplay",Et(i.nodeName)))):(r=V(i),"none"===n&&r||B.set(i,"olddisplay",r?n:m.css(i,"display"))));for(o=0;o<s;o++)(i=t[o]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function zt(t,e,n,i,r){return new zt.prototype.init(t,e,n,i,r)}m.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ot(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=m.camelCase(e),l=t.style;if(e=m.cssProps[s]||(m.cssProps[s]=Bt(s)||s),o=m.cssHooks[e]||m.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];"string"==(a=typeof n)&&(r=G.exec(n))&&r[1]&&(n=W(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(m.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var r,a,o,s=m.camelCase(e);return e=m.cssProps[s]||(m.cssProps[s]=Bt(s)||s),(o=m.cssHooks[e]||m.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Ot(t,e,i)),"normal"===r&&e in Mt&&(r=Mt[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),m.each(["height","width"],function(t,e){m.cssHooks[e]={get:function(t,n,i){if(n)return Pt.test(m.css(t,"display"))&&0===t.offsetWidth?Lt(t,Nt,function(){return qt(t,e,i)}):qt(t,e,i)},set:function(t,n,i){var r,a=i&&Rt(t),o=i&&$t(t,e,i,"border-box"===m.css(t,"boxSizing",!1,a),a);return o&&(r=G.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=m.css(t,e)),Ut(0,n,o)}}}),m.cssHooks.marginLeft=It(h.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ot(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),m.cssHooks.marginRight=It(h.reliableMarginRight,function(t,e){if(e)return Lt(t,{display:"inline-block"},Ot,[t,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(t,e){m.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+K[i]+e]=a[i]||a[i-2]||a[0];return r}},St.test(t)||(m.cssHooks[t+e].set=Ut)}),m.fn.extend({css:function(t,e){return M(this,function(t,e,n){var i,r,a={},o=0;if(m.isArray(e)){for(i=Rt(t),r=e.length;o<r;o++)a[e[o]]=m.css(t,e[o],!1,i);return a}return void 0!==n?m.style(t,e,n):m.css(t,e)},t,e,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){V(this)?m(this).show():m(this).hide()})}}),m.Tween=zt,zt.prototype={constructor:zt,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||m.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(m.cssNumber[n]?"":"px")},cur:function(){var t=zt.propHooks[this.prop];return t&&t.get?t.get(this):zt.propHooks._default.get(this)},run:function(t){var e,n=zt.propHooks[this.prop];return this.options.duration?this.pos=e=m.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):zt.propHooks._default.set(this),this}},zt.prototype.init.prototype=zt.prototype,zt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=m.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){m.fx.step[t.prop]?m.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[m.cssProps[t.prop]]&&!m.cssHooks[t.prop]?t.elem[t.prop]=t.now:m.style(t.elem,t.prop,t.now+t.unit)}}},zt.propHooks.scrollTop=zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},m.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},m.fx=zt.prototype.init,m.fx.step={};var Gt,Kt,Vt=/^(?:toggle|show|hide)$/,Wt=/queueHooks$/;function Yt(){return n.setTimeout(function(){Gt=void 0}),Gt=m.now()}function Xt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=K[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Qt(t,e,n){for(var i,r=(Jt.tweeners[e]||[]).concat(Jt.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function Jt(t,e,n){var i,r,a=0,o=Jt.prefilters.length,s=m.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Gt||Yt(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return s.notifyWith(t,[c,i,n]),i<1&&o?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:m.extend({},e),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:e,originalOptions:n,startTime:Gt||Yt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=m.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=m.camelCase(n)],a=t[n],m.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=m.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);a<o;a++)if(i=Jt.prefilters[a].call(c,t,u,c.opts))return m.isFunction(i.stop)&&(m._queueHooks(c.elem,c.opts.queue).stop=m.proxy(i.stop,i)),i;return m.map(u,Qt,c),m.isFunction(c.opts.start)&&c.opts.start.call(t,c),m.fx.timer(m.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}m.Animation=m.extend(Jt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return W(n.elem,t,G.exec(e),n),n}]},tweener:function(t,e){m.isFunction(t)?(e=t,t=["*"]):t=t.match(P);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Jt.tweeners[n]=Jt.tweeners[n]||[],Jt.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,c,u=this,d={},f=t.style,p=t.nodeType&&V(t),h=B.get(t,"fxshow");for(i in n.queue||(null==(s=m._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,m.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=m.css(t,"display"))?B.get(t,"olddisplay")||Et(t.nodeName):c)&&"none"===m.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],Vt.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;p=!0}d[i]=h&&h[i]||m.style(t,i)}else c=void 0;if(m.isEmptyObject(d))"inline"===("none"===c?Et(t.nodeName):c)&&(f.display=c);else for(i in h?"hidden"in h&&(p=h.hidden):h=B.access(t,"fxshow",{}),a&&(h.hidden=!p),p?m(t).show():u.done(function(){m(t).hide()}),u.done(function(){var e;for(e in B.remove(t,"fxshow"),d)m.style(t,e,d[e])}),d)o=Qt(p?h[i]:0,i,u),i in h||(h[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Jt.prefilters.unshift(t):Jt.prefilters.push(t)}}),m.speed=function(t,e,n){var i=t&&"object"==typeof t?m.extend({},t):{complete:n||!n&&e||m.isFunction(t)&&t,duration:t,easing:n&&e||e&&!m.isFunction(e)&&e};return i.duration=m.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in m.fx.speeds?m.fx.speeds[i.duration]:m.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(t,e,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=m.isEmptyObject(t),a=m.speed(e,n,i),o=function(){var e=Jt(this,m.extend({},t),a);(r||B.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=m.timers,o=B.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Wt.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));!e&&n||m.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=B.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=m.timers,o=i?i.length:0;for(n.finish=!0,m.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(t,e){var n=m.fn[e];m.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Xt(e,!0),t,i,r)}}),m.each({slideDown:Xt("show"),slideUp:Xt("hide"),slideToggle:Xt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){m.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),m.timers=[],m.fx.tick=function(){var t,e=0,n=m.timers;for(Gt=m.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||m.fx.stop(),Gt=void 0},m.fx.timer=function(t){m.timers.push(t),t()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Kt||(Kt=n.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){n.clearInterval(Kt),Kt=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(t,e){return t=m.fx&&m.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=o.createElement("input"),e=o.createElement("select"),n=e.appendChild(o.createElement("option"));t.type="checkbox",h.checkOn=""!==t.value,h.optSelected=n.selected,e.disabled=!0,h.optDisabled=!n.disabled,(t=o.createElement("input")).value="t",t.type="radio",h.radioValue="t"===t.value}();var Zt,te=m.expr.attrHandle;m.fn.extend({attr:function(t,e){return M(this,m.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){m.removeAttr(this,t)})}}),m.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?m.prop(t,e,n):(1===a&&m.isXMLDoc(t)||(e=e.toLowerCase(),r=m.attrHooks[e]||(m.expr.match.bool.test(e)?Zt:void 0)),void 0!==n?null===n?void m.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=m.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!h.radioValue&&"radio"===e&&m.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(P);if(a&&1===t.nodeType)for(;n=a[r++];)i=m.propFix[n]||n,m.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Zt={set:function(t,e,n){return!1===e?m.removeAttr(t,n):t.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(t,e){var n=te[e]||m.find.attr;te[e]=function(t,e,i){var r,a;return i||(a=te[e],te[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,te[e]=a),r}});var ee=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;m.fn.extend({prop:function(t,e){return M(this,m.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[m.propFix[t]||t]})}}),m.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&m.isXMLDoc(t)||(e=m.propFix[e]||e,r=m.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=m.find.attr(t,"tabindex");return e?parseInt(e,10):ee.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(m.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;function re(t){return t.getAttribute&&t.getAttribute("class")||""}m.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(m.isFunction(t))return this.each(function(e){m(this).addClass(t.call(this,e,re(this)))});if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(m.isFunction(t))return this.each(function(e){m(this).removeClass(t.call(this,e,re(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):m.isFunction(t)?this.each(function(n){m(this).toggleClass(t.call(this,n,re(this),e),e)}):this.each(function(){var e,i,r,a;if("string"===n)for(i=0,r=m(this),a=t.match(P)||[];e=a[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=re(this))&&B.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":B.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+re(n)+" ").replace(ie," ").indexOf(e)>-1)return!0;return!1}});var ae=/\r/g,oe=/[\x20\t\r\n\f]+/g;m.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,m(this).val()):t)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,function(t){return null==t?"":t+""})),(e=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ae,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(t){var e=m.find.attr(t,"value");return null!=e?e:m.trim(m.text(t)).replace(oe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(e=m(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=m.makeArray(e),o=r.length;o--;)((i=r[o]).selected=m.inArray(m.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(t,e){if(m.isArray(e))return t.checked=m.inArray(m(t).val(),e)>-1}},h.checkOn||(m.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var se=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(t,e,i,r){var a,s,l,c,u,d,f,h=[i||o],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(s=l=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!se.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[m.expando]?t:new m.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:m.makeArray(e,[t]),f=m.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!m.isWindow(i)){for(c=f.delegateType||g,se.test(c+g)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(i.ownerDocument||o)&&h.push(l.defaultView||l.parentWindow||n)}for(a=0;(s=h[a++])&&!t.isPropagationStopped();)t.type=a>1?c:f.bindType||g,(d=(B.get(s,"events")||{})[t.type]&&B.get(s,"handle"))&&d.apply(s,e),(d=u&&s[u])&&d.apply&&F(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),e)||!F(i)||u&&m.isFunction(i[g])&&!m.isWindow(i)&&((l=i[u])&&(i[u]=null),m.event.triggered=g,i[g](),m.event.triggered=void 0,l&&(i[u]=l)),t.result}},simulate:function(t,e,n){var i=m.extend(new m.Event,n,{type:t,isSimulated:!0});m.event.trigger(i,null,e)}}),m.fn.extend({trigger:function(t,e){return this.each(function(){m.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return m.event.trigger(t,e,n,!0)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){m.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),m.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),h.focusin="onfocusin"in n,h.focusin||m.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){m.event.simulate(e,t.target,m.event.fix(t))};m.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=B.access(i,e);r||i.addEventListener(t,n,!0),B.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=B.access(i,e)-1;r?B.access(i,e,r):(i.removeEventListener(t,n,!0),B.remove(i,e))}}});var le=n.location,ce=m.now(),ue=/\?/;m.parseJSON=function(t){return JSON.parse(t+"")},m.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+t),e};var de=/#.*$/,fe=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:GET|HEAD)$/,me=/^\/\//,ge={},ve={},ye="*/".concat("*"),be=o.createElement("a");function _e(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(P)||[];if(m.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function we(t,e,n,i){var r={},a=t===ve;function o(s){var l;return r[s]=!0,m.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function xe(t,e){var n,i,r=m.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&m.extend(!0,t,i),t}be.href=le.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?xe(xe(t,m.ajaxSettings),e):xe(m.ajaxSettings,t)},ajaxPrefilter:_e(ge),ajaxTransport:_e(ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,s,l,c,u,d,f=m.ajaxSetup({},e),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?m(p):m.event,g=m.Deferred(),v=m.Callbacks("once memory"),y=f.statusCode||{},b={},_={},w=0,x="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=pe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=_[n]=_[n]||t,b[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)y[e]=[y[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),k(0,e),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||le.href)+"").replace(de,"").replace(me,le.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=m.trim(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){c=o.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=be.protocol+"//"+be.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=m.param(f.data,f.traditional)),we(ge,f,e,T),2===w)return T;for(d in(u=m.event&&f.global)&&0==m.active++&&m.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!he.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(ue.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=fe.test(r)?r.replace(fe,"$1_="+ce++):r+(ue.test(r)?"&":"?")+"_="+ce++)),f.ifModified&&(m.lastModified[r]&&T.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&T.setRequestHeader("If-None-Match",m.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ye+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,T,f)||2===w))return T.abort();for(d in x="abort",{success:1,error:1,complete:1})T[d](f[d]);if(i=we(ve,f,e,T)){if(T.readyState=1,u&&h.trigger("ajaxSend",[T,f]),2===w)return T;f.async&&f.timeout>0&&(l=n.setTimeout(function(){T.abort("timeout")},f.timeout));try{w=1,i.send(b,k)}catch(t){if(!(w<2))throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,o,s){var c,d,b,_,x,k=e;2!==w&&(w=2,l&&n.clearTimeout(l),i=void 0,a=s||"",T.readyState=t>0?4:0,c=t>=200&&t<300||304===t,o&&(_=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,T,o)),_=function(t,e,n,i){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(f,_,T,c),c?(f.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=x),(x=T.getResponseHeader("etag"))&&(m.etag[r]=x)),204===t||"HEAD"===f.type?k="nocontent":304===t?k="notmodified":(k=_.state,d=_.data,c=!(b=_.error))):(b=k,!t&&k||(k="error",t<0&&(t=0))),T.status=t,T.statusText=(e||k)+"",c?g.resolveWith(p,[d,k,T]):g.rejectWith(p,[T,k,b]),T.statusCode(y),y=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?d:b]),v.fireWith(p,[T,k]),u&&(h.trigger("ajaxComplete",[T,f]),--m.active||m.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,n){return m.get(t,e,n,"json")},getScript:function(t,e){return m.get(t,void 0,e,"script")}}),m.each(["get","post"],function(t,e){m[e]=function(t,n,i,r){return m.isFunction(n)&&(r=r||i,i=n,n=void 0),m.ajax(m.extend({url:t,type:e,dataType:r,data:n,success:i},m.isPlainObject(t)&&t))}}),m._evalUrl=function(t){return m.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(t){var e;return m.isFunction(t)?this.each(function(e){m(this).wrapAll(t.call(this,e))}):(this[0]&&(e=m(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return m.isFunction(t)?this.each(function(e){m(this).wrapInner(t.call(this,e))}):this.each(function(){var e=m(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=m.isFunction(t);return this.each(function(n){m(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(t){return!m.expr.filters.visible(t)},m.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Te=/%20/g,ke=/\[\]$/,Ce=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ae(t,e,n,i){var r;if(m.isArray(e))m.each(e,function(e,r){n||ke.test(t)?i(t,r):Ae(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==m.type(e))i(t,e);else for(r in e)Ae(t+"["+r+"]",e[r],n,i)}m.param=function(t,e){var n,i=[],r=function(t,e){e=m.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(t)||t.jquery&&!m.isPlainObject(t))m.each(t,function(){r(this.name,this.value)});else for(n in t)Ae(n,t[n],e,r);return i.join("&").replace(Te,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=m.prop(this,"elements");return t?m.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!m(this).is(":disabled")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=m(this).val();return null==n?null:m.isArray(n)?m.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),m.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Re={0:200,1223:204},Le=m.ajaxSettings.xhr();h.cors=!!Le&&"withCredentials"in Le,h.ajax=Le=!!Le,m.ajaxTransport(function(t){var e,i;if(h.cors||Le&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Re[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return m.globalEval(t),t}}}),m.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),m.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=m("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),o.head.appendChild(e[0])},abort:function(){n&&n()}}});var De=[],Oe=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||m.expando+"_"+ce++;return this[t]=!0,t}}),m.ajaxPrefilter("json jsonp",function(t,e,i){var r,a,o,s=!1!==t.jsonp&&(Oe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Oe,"$1"+r):!1!==t.jsonp&&(t.url+=(ue.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||m.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=n[r],n[r]=function(){o=arguments},i.always(function(){void 0===a?m(n).removeProp(r):n[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,De.push(r)),o&&m.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),m.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||o;var i=C.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt([t],e,r),r&&r.length&&m(r).remove(),m.merge([],i.childNodes))};var Ie=m.fn.load;function Pe(t){return m.isWindow(t)?t:9===t.nodeType&&t.defaultView}m.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=m.trim(t.slice(s)),t=t.slice(0,s)),m.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&m.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?m("<div>").append(m.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){m.fn[e]=function(t){return this.on(e,t)}}),m.expr.filters.animated=function(t){return m.grep(m.timers,function(e){return t===e.elem}).length},m.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,c=m.css(t,"position"),u=m(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=m.css(t,"top"),l=m.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),m.isFunction(e)&&(e=e.call(t,n,m.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},m.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){m.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(e=a.documentElement,m.contains(e,i)?(r=i.getBoundingClientRect(),n=Pe(a),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===m.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),m.nodeName(t[0],"html")||(i=t.offset()),i.top+=m.css(t[0],"borderTopWidth",!0),i.left+=m.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-m.css(n,"marginTop",!0),left:e.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===m.css(t,"position");)t=t.offsetParent;return t||Dt})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;m.fn[t]=function(i){return M(this,function(t,i,r){var a=Pe(t);if(void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r},t,i,arguments.length)}}),m.each(["top","left"],function(t,e){m.cssHooks[e]=It(h.pixelPosition,function(t,n){if(n)return n=Ot(t,e),At.test(n)?m(t).position()[e]+"px":n})}),m.each({Height:"height",Width:"width"},function(t,e){m.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){m.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===r?"margin":"border");return M(this,function(e,n,i){var r;return m.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?m.css(e,n,o):m.style(e,n,i,o)},e,a?i:void 0,a,null)}})}),m.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,void 0===(i=function(){return m}.apply(e,[]))||(t.exports=i);var Ne=n.jQuery,Me=n.$;return m.noConflict=function(t){return n.$===m&&(n.$=Me),t&&n.jQuery===m&&(n.jQuery=Ne),m},r||(n.jQuery=n.$=m),m},"object"==typeof t.exports?t.exports=r.document?a(r,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return a(t)}:a(r)},"734u":function(t,e,n){"use strict";var i=n("jYyV");n.n(i).a},"7WnP":function(t,e,n){"use strict";n.r(e);var i={name:"ImageSelect",props:["imgUrls"],methods:{updateNewImgs:function(){var t=this.imgUrls?this.imgUrls:[];this.imgs=window.new_imgs?t.concat(window.new_imgs):t}},created:function(){var t=this;window.$bus.$on("imageuploaded",function(){t.updateNewImgs()})},mounted:function(){var t=this.imgUrls?this.imgUrls:[];console.log(t),this.imgs=t},data:function(){return{imgs:[]}}},r=(n("B75g"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"article_images"}},[t._v("选配图")]),t._v(" "),n("div",{staticClass:"row",attrs:{id:"article_images"}},t._l(t.imgs,function(e){return n("div",{staticClass:"col-xs-6 col-sm-6 col-lg-3"},[n("div",{staticClass:"text-center img_item"},[n("div",{staticClass:"img_box"},[n("img",{staticClass:"img img-responsive",attrs:{src:e,alt:""}})]),t._v(" "),n("label",{staticClass:"radio text-center"},[n("input",{attrs:{type:"radio",name:"primary_image"},domProps:{value:e}}),t._v("\n                    设为主图\n                  ")])])])}),0)])},[],!1,null,null,null);e.default=a.exports},"8GpF":function(t,e,n){var i=n("u+Ef");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"8IcW":function(t,e,n){"use strict";var i=n("8k13");n.n(i).a},"8KA6":function(t,e,n){var i=n("g5ev");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"8VH1":function(t,e,n){"use strict";n.r(e);var i=n("KHd+"),r=Object(i.a)({name:"ModalLikeUsers",props:["id","type","likes"],data:function(){return{}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade like-user"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("ul",t._l(t.likes,function(e){return n("li",[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar}})]),t._v(" "),n("a",{staticClass:"name",attrs:{href:"/user/"+e.user.id}},[t._v(t._s(e.user.name))]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.time))])])}),0)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("喜欢的用户")])])}],!1,null,"5e3625cb",null);e.default=r.exports},"8hO5":function(t,e,n){"use strict";n.r(e);var i={name:"Comments",created:function(){var t=window.tokenize("/api/notifications/comment"),e=this;window.axios.get(t).then(function(t){console.log("response:",t),e.notifications=t.data})},methods:{postApiUrl:function(){return window.tokenize("/api/comment")},toggleReplyComment:function(t,e){t.replying=!t.replying,this.$set(this.notifications,e,t)},sendReply:function(t,e,n){var i=this;window.axios.post(this.postApiUrl(),i.gotReplyComment(t,e)).then(function(t){i.toggleReplyComment(e,n)})},gotReplyComment:function(t,e){var n={};return n.comment_id=e.comment_id,n.commentable_id=e.article_id,n.body=t,n.commentable_type="articles",n.is_reply=1,n}},data:function(){return{notifications:[]}}},r=(n("ENV9"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"menu"},[t._v("收到的评论")]),t._v(" "),t.notifications.length?n("ul",{staticClass:"comment-list"},t._l(t.notifications,function(e,i){return n("li",[n("div",{staticClass:"user-info info-xs"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user_id}},[n("img",{attrs:{src:e.user_avatar,alt:""}})]),t._v(" "),e.title?n("div",{staticClass:"title",domProps:{innerHTML:t._s(e.title)}}):n("div",{staticClass:"title"},[n("a",{attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user_name))]),t._v(" "),n("span",[t._v("评论了你的作品")]),t._v(" "),n("a",{attrs:{href:"/article/"+e.article_id}},[t._v("《"+t._s(e.article_title)+"》")])]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.time))])]),t._v(" "),e.comment.body?n("p",{domProps:{innerHTML:t._s(e.comment.body)}}):n("p",{domProps:{innerHTML:t._s(e.comment)}}),t._v(" "),n("div",{staticClass:"tool-group"},[n("a",{on:{click:function(n){return t.toggleReplyComment(e,i)}}},[n("i",{staticClass:"iconfont icon-xinxi2"}),n("span",[t._v("回复")])]),t._v(" "),n("a",{attrs:{href:e.url+"#1"}},[n("i",{staticClass:"iconfont icon-zhuanfa2"}),n("span",[t._v("查看对话")])]),t._v(" "),t._m(0,!0)]),t._v(" "),n("reply-comment",{staticStyle:{"margin-top":"18px"},attrs:{"is-show":e.replying,body:"@"+e.user_name+" "},on:{sendReply:function(n){return t.sendReply(n,e,i)},"toggle-replycomment":function(n){return t.toggleReplyComment(e,i)}}})],1)}),0):n("div",{staticClass:"unMessage"},[n("blank-content")],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"report",attrs:{href:"javascript:;"}},[e("span",[this._v("举报")])])}],!1,null,null,null);e.default=a.exports},"8k13":function(t,e,n){var i=n("bW85");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"8oYy":function(t,e,n){"use strict";var i=n("INzz");n.n(i).a},"8oxB":function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"91XQ":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal.modal-to-up .modal-dialog .modal-content .modal-body[data-v-26bb2884]{font-size:14px;padding:40px 40px 20px}.modal.modal-to-up .modal-dialog .modal-content .modal-body .money-input[data-v-26bb2884]{position:relative;margin-bottom:40px}.modal.modal-to-up .modal-dialog .modal-content .modal-body .money-input label[data-v-26bb2884]{position:absolute;top:15px;left:20px;font-weight:400}.modal.modal-to-up .modal-dialog .modal-content .modal-body .money-input input[data-v-26bb2884]{padding-left:95px;color:#646464;font-size:32px;line-height:38px}.modal.modal-to-up .modal-dialog .modal-content .modal-body .method span[data-v-26bb2884]{margin-right:10px;font-size:14px;vertical-align:middle}.modal.modal-to-up .modal-dialog .modal-content .modal-body .method img[data-v-26bb2884]{height:28px;margin:0 30px 0 10px}.modal.modal-to-up .modal-dialog .modal-content .modal-footer[data-v-26bb2884]{padding:20px 15px 40px;border:none;background-color:transparent;text-align:center}",""])},"96Xy":function(t,e,n){(function(e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=58)}([function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(6),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return void 0===t}function l(t){return null!==t&&"object"===i(t)}function c(t){return"[object Function]"===a.call(t)}function u(t,e){if(null!=t)if("object"!==i(t)&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:l,isUndefined:s,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return l(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,r){"object"===i(e[r])&&"object"===i(n)?e[r]=t(e[r],n):e[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"===i(e[r])&&"object"===i(n)?e[r]=t(e[r],n):"object"===i(n)?e[r]=t({},n):e[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var i=n(14);t.exports=function(t){"use strict";var e="",n=(t=t||{}).enableSubtitle,r=t.subtitle,a=t.current,o=t.airplay,s=t.pic,l=i.$escape,c=t.screenshot,u=t.preload,d=t.url;return n=r&&"webvtt"===r.type,e+='\n<video\n    class="dplayer-video ',a&&(e+="dplayer-video-current"),e+='"\n    webkit-playsinline\n    ',o&&(e+=' x-webkit-airplay="allow" '),e+="\n    playsinline\n    ",s&&(e+='poster="',e+=l(s),e+='"'),e+="\n    ",(c||n)&&(e+='crossorigin="anonymous"'),e+="\n    ",u&&(e+='preload="',e+=l(u),e+='"'),e+="\n    ",d&&(e+='src="',e+=l(d),e+='"'),e+="\n    >\n    ",n&&(e+='\n    <track kind="metadata" default src="',e+=l(r.url),e+='"></track>\n    '),e+"\n</video>"}},function(t,e,n){t.exports=n(41)},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n,i,r,a=t[1]||"",o=t[3];if(!o)return a;if(e&&"function"==typeof btoa){var s=(n=o,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),l=o.sources.map(function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")});return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n}).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(0);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))}))}),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var i=n(0),r=n(46),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(10)),s),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){l.headers[t]={}}),i.forEach(["post","put","patch"],function(t){l.headers[t]=i.merge(a)}),t.exports=l}).call(this,n(5))},function(t,e,n){"use strict";var i=n(0),r=n(47),a=n(7),o=n(49),s=n(52),l=n(53),c=n(11);t.exports=function(t){return new Promise(function(e,u){var d=t.data,f=t.headers;i.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var g=o(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};r(e,u,i),p=null}},p.onabort=function(){p&&(u(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=n(54),y=(t.withCredentials||l(g))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(f,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),i.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),u(t),p=null)}),void 0===d&&(d=null),p.send(d)})}},function(t,e,n){"use strict";var i=n(48);t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,function(t){void 0!==e[t]&&(n[t]=e[t])}),i.forEach(a,function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])}),i.forEach(o,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])});var s=r.concat(a).concat(o),l=Object.keys(e).filter(function(t){return-1===s.indexOf(t)});return i.forEach(l,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";t.exports=n(57)},function(t,e,n){"use strict";(function(t){var i=n(16);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=setTimeout;function o(t){return Boolean(t&&void 0!==t.length)}function s(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void d(e.promise,t)}u(e.promise,i)}else(1===t._state?u:d)(e.promise,t._value)})):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===r(e)||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void h((i=n,a=e,function(){i.apply(a,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){d(t,e)}var i,a}function d(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&l._immediateFn(function(){t._handled||l._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,d(e,t))})}catch(t){if(n)return;n=!0,d(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new p(t,e,n)),n},l.prototype.finally=i.a,l.all=function(t){return new l(function(e,n){if(!o(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var a=i.length;function s(t,o){try{if(o&&("object"===r(o)||"function"==typeof o)){var l=o.then;if("function"==typeof l)return void l.call(o,function(e){s(t,e)},n)}i[t]=o,0==--a&&e(i)}catch(t){n(t)}}for(var l=0;l<i.length;l++)s(l,i[l])})},l.resolve=function(t){return t&&"object"===r(t)&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,n){n(t)})},l.race=function(t){return new l(function(e,n){if(!o(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)l.resolve(t[i]).then(e,n)})},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){a(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=l}).call(this,n(39).setImmediate)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(t,e){t.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(t,e,n){var i=n(14);t.exports=function(t){"use strict";var e="",r=(t=t||{}).video,a=t.options,o=i.$escape,s=t.tran,l=t.icons,c=t.index,u=i.$each;return t.$value,t.$index,e+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',function(t){e+=t}(n(1)(r)),e+="\n    ",a.logo&&(e+='\n    <div class="dplayer-logo">\n        <img src="',e+=o(a.logo),e+='">\n    </div>\n    '),e+='\n    <div class="dplayer-danmaku"',a.danmaku&&a.danmaku.bottm&&(e+=' style="margin-bottom:',e+=o(a.danmaku.bottm),e+='"'),e+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',a.danmaku&&(e+='\n        <span class="dplayer-danloading">',e+=o(s("Danmaku is loading")),e+="</span>\n        "),e+='\n        <span class="diplayer-loading-icon">',e+=l.loading,e+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',e+=o(s("Setting")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=l.pallette,e+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',e+=o(s("Set danmaku color")),e+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=o(c),e+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=o(c),e+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=o(c),e+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=o(c),e+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=o(c),e+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=o(c),e+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',e+=o(s("Set danmaku type")),e+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',e+=o(c),e+='" value="1">\n                    <span>',e+=o(s("Top")),e+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',e+=o(c),e+='" value="0" checked>\n                    <span>',e+=o(s("Rolling")),e+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',e+=o(c),e+='" value="2">\n                    <span>',e+=o(s("Bottom")),e+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',e+=o(s("Input danmaku, hit Enter")),e+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',e+=o(s("Send")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=l.send,e+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',e+=l.play,e+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',e+=l.volumeDown,e+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',e+=o(a.theme),e+=';">\n                        <span class="dplayer-thumb" style="background: ',e+=o(a.theme),e+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',a.live&&(e+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',e+=o(a.theme),e+=';"></span>',e+=o(s("Live")),e+="</span>\n        "),e+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',a.video.quality&&(e+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',e+=o(a.video.quality[a.video.defaultQuality].name),e+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',u(a.video.quality,function(t,n){e+='\n                    <div class="dplayer-quality-item" data-index="',e+=o(n),e+='">',e+=o(t.name),e+="</div>\n                "}),e+="\n                </div>\n            </div>\n        </div>\n        "),e+="\n        ",a.screenshot&&(e+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',e+=o(s("Screenshot")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=l.camera,e+="</span>\n        </div>\n        "),e+="\n        ",a.airplay&&(e+='\n        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="',e+=o(s("AirPlay")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=l.airplay,e+="</span>\n        </div>\n        "),e+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',e+=o(s("Send danmaku")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=l.comment,e+="</span>\n            </button>\n        </div>\n        ",a.subtitle&&(e+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',e+=o(s("Hide subtitle")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=l.subtitle,e+="</span>\n            </button>\n        </div>\n        "),e+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',e+=o(s("Setting")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=l.setting,e+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',e+=o(s("Speed")),e+='</span>\n                        <div class="dplayer-toggle">',e+=l.right,e+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',e+=o(s("Loop")),e+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',e+=o(s("Show danmaku")),e+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',e+=o(s("Unlimited danmaku")),e+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',e+=o(s("Opacity for danmaku")),e+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    ',u(a.playbackSpeed,function(t,n){e+='\n                        <div class="dplayer-setting-speed-item" data-speed="',e+=o(t),e+='">\n                            <span class="dplayer-label">',e+=o(1===t?s("Normal"):t),e+="</span>\n                        </div>\n                    "}),e+='\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',e+=o(s("Web full screen")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=l.fullWeb,e+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',e+=o(s("Full screen")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=l.full,e+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',e+=o(a.theme),e+='">\n                <span class="dplayer-thumb" style="background: ',e+=o(a.theme),e+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',a.danmaku&&(e+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danmaku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danmaku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danmaku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),e+='\n</div>\n<div class="dplayer-menu">\n    ',u(a.contextmenu,function(t,n){e+='\n        <div class="dplayer-menu-item">\n            <a',t.link&&(e+=' target="_blank"'),e+=' href="',e+=o(t.link||"javascript:void(0);"),e+='">',e+=o(s(t.text)),e+="</a>\n        </div>\n    "}),e+='\n</div>\n<div class="dplayer-notice"></div>\n<button class="dplayer-mobile-play">\n    ',e+=l.play,e+="\n</button>"}},function(t,e,n){var i=n(36),r=n(37);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,e,n){"use strict";var i,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function o(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=o(u),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:h(f,e),references:1}),i.push(u)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach(function(t){e.setAttribute(t,i[t])}),"function"==typeof t.insert)t.insert(e);else{var o=r(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}var f=null,p=0;function h(t,e){var n,i,r;if(e.singleton){var a=p++;n=f||(f=l(e)),i=d.bind(null,n,a,!1),r=d.bind(null,n,a,!0)}else n=l(e),i=function(t,e,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=o(n[i]);a[r].references--}for(var l=s(t,e),c=0;c<n.length;c++){var u=o(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=l}}}},function(t,e,n){var i=n(3),r=n(38);(e=i(!1)).i(r),e.push([t.i,'@-webkit-keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}@keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}.dplayer{position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1}.dplayer *{box-sizing:content-box}.dplayer svg{width:100%;height:100%}.dplayer svg circle,.dplayer svg path{fill:#fff}.dplayer:-webkit-full-screen{width:100%;height:100%;background:#000;position:fixed;z-index:100000;left:0;top:0;margin:0;padding:0;transform:translate(0)}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{-webkit-animation:danmaku-center 6s linear;animation:danmaku-center 6s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{-webkit-animation:danmaku 8s linear;animation:danmaku 8s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer.dplayer-live .dplayer-bar-wrap,.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting,.dplayer.dplayer-live .dplayer-setting-loop,.dplayer.dplayer-live .dplayer-setting-speed,.dplayer.dplayer-live .dplayer-time,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,.dplayer.dplayer-no-danmaku .dplayer-danmaku{display:none}.dplayer.dplayer-arrow .dplayer-danmaku{font-size:18px}.dplayer.dplayer-arrow .dplayer-icon{margin:0 -3px}.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move{-webkit-animation-play-state:running;animation-play-state:running}@media (min-width:900px){.dplayer.dplayer-playing .dplayer-controller,.dplayer.dplayer-playing .dplayer-controller-mask{opacity:0}.dplayer.dplayer-playing:hover .dplayer-controller,.dplayer.dplayer-playing:hover .dplayer-controller-mask{opacity:1}}.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon{display:block}.dplayer.dplayer-loading .dplayer-danmaku,.dplayer.dplayer-loading .dplayer-danmaku-move,.dplayer.dplayer-paused .dplayer-danmaku,.dplayer.dplayer-paused .dplayer-danmaku-move{-webkit-animation-play-state:paused;animation-play-state:paused}.dplayer.dplayer-hide-controller{cursor:none}.dplayer.dplayer-hide-controller .dplayer-controller,.dplayer.dplayer-hide-controller .dplayer-controller-mask{opacity:0;transform:translateY(100%)}.dplayer.dplayer-show-controller .dplayer-controller,.dplayer.dplayer-show-controller .dplayer-controller-mask{opacity:1}.dplayer.dplayer-fulled{position:fixed;z-index:100000;left:0;top:0;width:100%!important;height:100%!important}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume{display:none}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:static;display:inline-block}.dplayer.dplayer-mobile .dplayer-bar-time,.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play{display:none}.dplayer.dplayer-mobile .dplayer-mobile-play{display:block}.dplayer-web-fullscreen-fix{position:fixed;top:0;left:0;margin:0;padding:0}[data-balloon]:before{display:none}[data-balloon]:after{padding:.3em .7em;background:rgba(17,17,17,.7)}[data-balloon][data-balloon-pos=up]:after{margin-bottom:0}.dplayer-bezel{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon{position:absolute;top:50%;left:50%;margin:-26px 0 0 -26px;height:52px;width:52px;padding:12px;box-sizing:border-box;background:rgba(0,0,0,.5);border-radius:50%;opacity:0;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition{-webkit-animation:bezel-hide .5s linear;animation:bezel-hide .5s linear}@-webkit-keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}@keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}.dplayer-bezel .dplayer-danloading{position:absolute;top:50%;margin-top:-7px;width:100%;text-align:center;font-size:14px;line-height:14px;-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-bezel .diplayer-loading-icon{display:none;position:absolute;top:50%;left:50%;margin:-18px 0 0 -18px;height:36px;width:36px;pointer-events:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide{display:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot{-webkit-animation:diplayer-loading-dot-fade .8s ease infinite;animation:diplayer-loading-dot-fade .8s ease infinite;opacity:0;transform-origin:4px 4px}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7{-webkit-animation-delay:.7s;animation-delay:.7s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6{-webkit-animation-delay:.6s;animation-delay:.6s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5{-webkit-animation-delay:.5s;animation-delay:.5s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4{-webkit-animation-delay:.4s;animation-delay:.4s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3{-webkit-animation-delay:.3s;animation-delay:.3s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2{-webkit-animation-delay:.2s;animation-delay:.2s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1{-webkit-animation-delay:.1s;animation-delay:.1s}@-webkit-keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}@keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}.dplayer-controller-mask{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;height:98px;width:100%}.dplayer-controller,.dplayer-controller-mask{position:absolute;bottom:0;transition:all .3s ease}.dplayer-controller{left:0;right:0;height:41px;padding:0 20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons{display:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box{display:block}.dplayer-controller .dplayer-bar-wrap{padding:5px 0;cursor:pointer;position:absolute;bottom:33px;width:calc(100% - 40px);height:3px}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight{display:block;width:8px;transform:translateX(-4px);top:4px;height:40%}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight{z-index:12;position:absolute;top:5px;width:6px;height:20%;border-radius:6px;background-color:#fff;text-align:center;transform:translateX(-3px);transition:all .2s ease-in-out}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text{display:block}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-preview,.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-time{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text{display:none;position:absolute;left:50%;top:-24px;padding:5px 8px;background-color:rgba(0,0,0,.62);color:#fff;border-radius:4px;font-size:12px;white-space:nowrap;transform:translateX(-50%)}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview{position:absolute;background:#fff;pointer-events:none;display:none;background-size:16000px 100%}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time{position:absolute;left:0;top:-20px;border-radius:4px;padding:5px 7px;background-color:rgba(0,0,0,.62);color:#fff;font-size:12px;text-align:center;opacity:1;transition:opacity .1s ease-in-out;word-wrap:normal;word-break:normal;z-index:2;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-bar{position:relative;height:3px;width:100%;background:hsla(0,0%,100%,.2);cursor:pointer}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded{background:hsla(0,0%,100%,.4);transition:all .5s ease}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded,.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played{position:absolute;left:0;top:0;bottom:0;height:3px;will-change:width}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons{height:38px;position:absolute;bottom:0}.dplayer-controller .dplayer-icons.dplayer-comment-box{display:none;position:absolute;transition:all .3s ease-in-out;z-index:2;height:38px;bottom:0;left:20px;right:20px;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon{position:absolute;left:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon{position:absolute;right:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box{position:absolute;background:rgba(28,28,28,.9);bottom:41px;left:0;box-shadow:0 0 25px rgba(0,0,0,.3);border-radius:4px;padding:10px 10px 16px;font-size:14px;width:204px;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open{transform:scale(1)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio]{display:none}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label{cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title{font-size:13px;color:#fff;line-height:30px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title{margin-bottom:6px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span{border-radius:4px 0 0 4px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span{border-radius:0 4px 4px 0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span{width:33%;padding:4px 6px;line-height:16px;display:inline-block;font-size:12px;color:#fff;border:1px solid #fff;margin-right:-1px;box-sizing:border-box;text-align:center;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked+span{background:#e4e4e6;color:#1c1c1c}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label{font-size:0;padding:6px;display:inline-block}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span{width:22px;height:22px;display:inline-block;border-radius:50%;box-sizing:border-box;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover{-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input{outline:none;border:none;padding:8px 31px;font-size:14px;line-height:18px;text-align:center;border-radius:4px;background:none;margin:0;height:100%;box-sizing:border-box;width:100%;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-webkit-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input:-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear{display:none}.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-icons-right{right:20px}.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon{padding:8px}.dplayer-controller .dplayer-icons .dplayer-live-badge,.dplayer-controller .dplayer-icons .dplayer-time{line-height:38px;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);vertical-align:middle;font-size:13px;cursor:default}.dplayer-controller .dplayer-icons .dplayer-live-dot{display:inline-block;width:6px;height:6px;vertical-align:4%;margin-right:5px;content:"";border-radius:6px}.dplayer-controller .dplayer-icons .dplayer-icon{width:40px;height:100%;border:none;background-color:transparent;outline:none;cursor:pointer;vertical-align:middle;box-sizing:border-box;display:inline-block}.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content{transition:all .2s ease-in-out;opacity:.8}.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content{opacity:1}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon{color:#fff;width:auto;line-height:22px;font-size:14px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon{padding:10px 9px 9px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon{padding-top:8.5px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon{width:43px}.dplayer-controller .dplayer-icons .dplayer-volume{position:relative;display:inline-block;cursor:pointer;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap{display:inline-block;margin:0 10px 0 -5px;vertical-align:middle;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar{position:relative;top:17px;width:0;height:3px;background:#aaa;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;will-change:width}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons .dplayer-setting,.dplayer-controller .dplayer-icons .dplayer-subtitle-btn{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box{position:absolute;right:0;bottom:50px;transform:scale(0);width:150px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 0;transition:all .3s ease-in-out;overflow:hidden;z-index:2}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div.dplayer-setting-origin-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow{width:70px;text-align:center}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item{height:30px;padding:5px 10px;box-sizing:border-box;cursor:pointer;position:relative}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku{padding:5px 0}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label{padding:0 10px;display:inline}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap{padding:0 10px;box-sizing:border-box;display:none;vertical-align:middle;height:100%;width:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar{position:relative;top:8.5px;width:100%;height:3px;background:#fff;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;background:#aaa;will-change:width}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;background:#aaa}.dplayer-controller .dplayer-icons .dplayer-full{display:inline-block;height:100%;position:relative}.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon{display:block}.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:absolute;top:-30px;z-index:1;display:none}.dplayer-controller .dplayer-icons .dplayer-quality{position:relative;display:inline-block;height:100%;z-index:2}.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list,.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask{display:block}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask{display:none;position:absolute;bottom:38px;left:-18px;width:80px;padding-bottom:12px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list{display:none;font-size:12px;width:80px;border-radius:2px;background:rgba(28,28,28,.9);padding:5px 0;transition:all .3s ease-in-out;overflow:hidden;color:#fff;text-align:center}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item{height:25px;box-sizing:border-box;cursor:pointer;line-height:25px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-comment{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-label{color:#eee;font-size:13px;display:inline-block;vertical-align:middle;white-space:nowrap}.dplayer-controller .dplayer-icons .dplayer-toggle{width:32px;height:20px;text-align:center;font-size:0;vertical-align:middle;position:absolute;top:5px;right:10px}.dplayer-controller .dplayer-icons .dplayer-toggle input{max-height:0;max-width:0;display:none}.dplayer-controller .dplayer-icons .dplayer-toggle input+label{display:inline-block;position:relative;box-shadow:inset 0 0 0 0 #dfdfdf;border:1px solid #dfdfdf;height:20px;width:32px;border-radius:10px;box-sizing:border-box;cursor:pointer;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after,.dplayer-controller .dplayer-icons .dplayer-toggle input+label:before{content:"";position:absolute;display:block;height:18px;width:18px;top:0;left:0;border-radius:15px;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after{background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.4)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label{border-color:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:before{width:30px;background:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:after{left:12px}.dplayer-mobile-play{display:none;width:50px;height:50px;border:none;background-color:transparent;outline:none;cursor:pointer;box-sizing:border-box;bottom:0;opacity:.8;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.dplayer-danmaku{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff}.dplayer-danmaku .dplayer-danmaku-item{display:inline-block;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;white-space:nowrap;text-shadow:.5px .5px .5px rgba(0,0,0,.5)}.dplayer-danmaku .dplayer-danmaku-item--demo{position:absolute;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-right{position:absolute;right:0;transform:translateX(100%)}.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{will-change:transform;-webkit-animation:danmaku 5s linear;animation:danmaku 5s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku{0%{transform:translateX(100%)}}@keyframes danmaku{0%{transform:translateX(100%)}}.dplayer-danmaku .dplayer-danmaku-bottom,.dplayer-danmaku .dplayer-danmaku-top{position:absolute;width:100%;text-align:center;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{will-change:visibility;-webkit-animation:danmaku-center 4s linear;animation:danmaku-center 4s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}@keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}.dplayer-logo{pointer-events:none;position:absolute;left:20px;top:20px;max-width:50px;max-height:50px}.dplayer-logo img{max-width:100%;max-height:100%;background:none}.dplayer-menu{position:absolute;width:170px;border-radius:2px;background:rgba(28,28,28,.85);padding:5px 0;overflow:hidden;z-index:3;display:none}.dplayer-menu.dplayer-menu-show{display:block}.dplayer-menu .dplayer-menu-item{height:30px;box-sizing:border-box;cursor:pointer}.dplayer-menu .dplayer-menu-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-menu .dplayer-menu-item a{padding:0 10px;line-height:30px;color:#eee;font-size:13px;display:inline-block;vertical-align:middle;width:100%;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-menu .dplayer-menu-item a:hover{text-decoration:none}.dplayer-notice{opacity:0;position:absolute;bottom:60px;left:20px;font-size:14px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 20px;transition:all .3s ease-in-out;overflow:hidden;color:#fff;pointer-events:none}.dplayer-subtitle{position:absolute;bottom:40px;width:90%;left:5%;text-align:center;color:#fff;text-shadow:.5px .5px .5px rgba(0,0,0,.5);font-size:20px}.dplayer-subtitle.dplayer-subtitle-hide{display:none}.dplayer-mask{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:none}.dplayer-mask.dplayer-mask-show{display:block}.dplayer-video-wrap{position:relative;background:#000;font-size:0;width:100%;height:100%}.dplayer-video-wrap .dplayer-video{width:100%;height:100%;display:none}.dplayer-video-wrap .dplayer-video-current{display:block}.dplayer-video-wrap .dplayer-video-prepare{display:none}.dplayer-info-panel{position:absolute;top:10px;left:10px;width:400px;background:rgba(28,28,28,.8);padding:10px;color:#fff;font-size:12px;border-radius:2px}.dplayer-info-panel-hide{display:none}.dplayer-info-panel .dplayer-info-panel-close{cursor:pointer;position:absolute;right:10px;top:10px}.dplayer-info-panel .dplayer-info-panel-item>span{display:inline-block;vertical-align:middle;line-height:15px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-info-panel .dplayer-info-panel-item-title{width:100px;text-align:right;margin-right:10px}.dplayer-info-panel .dplayer-info-panel-item-data{width:260px}',""]),t.exports=e},function(t,e,n){(e=n(3)(!1)).push([t.i,':root{--balloon-border-radius:2px;--balloon-color:rgba(16,16,16,0.95);--balloon-text-color:#fff;--balloon-font-size:12px;--balloon-move:4px}button[aria-label][data-balloon-pos]{overflow:visible}[aria-label][data-balloon-pos]{position:relative;cursor:pointer}[aria-label][data-balloon-pos]:after{text-indent:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;text-shadow:none;font-size:var(--balloon-font-size);background:var(--balloon-color);border-radius:2px;color:var(--balloon-text-color);border-radius:var(--balloon-border-radius);content:attr(aria-label);padding:.5em 1em;white-space:nowrap}[aria-label][data-balloon-pos]:after,[aria-label][data-balloon-pos]:before{opacity:0;pointer-events:none;transition:all .18s ease-out .18s;position:absolute;z-index:10}[aria-label][data-balloon-pos]:before{width:0;height:0;border:5px solid transparent;border-top:5px solid var(--balloon-color);content:""}[aria-label][data-balloon-pos]:hover:after,[aria-label][data-balloon-pos]:hover:before,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before,[aria-label][data-balloon-pos][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-visible]:before{opacity:1;pointer-events:none}[aria-label][data-balloon-pos].font-awesome:after{font-family:FontAwesome,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}[aria-label][data-balloon-pos][data-balloon-break]:after{white-space:pre}[aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after{white-space:pre-line;word-break:break-word}[aria-label][data-balloon-pos][data-balloon-blunt]:after,[aria-label][data-balloon-pos][data-balloon-blunt]:before{transition:none}[aria-label][data-balloon-pos][data-balloon-pos=up]:after{margin-bottom:10px}[aria-label][data-balloon-pos][data-balloon-pos=up]:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:before{bottom:100%;left:50%;transform:translate(-50%,var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:after{bottom:100%;left:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:before{bottom:100%;left:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:after{bottom:100%;right:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:before{bottom:100%;right:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down]:after{left:50%;margin-top:10px;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:50%;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:after{left:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:after{right:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);right:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=left]:after{margin-right:10px;right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:before{width:0;height:0;border:5px solid transparent;border-left:5px solid var(--balloon-color);right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:after{left:100%;margin-left:10px;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:before{width:0;height:0;border:5px solid transparent;border-right:5px solid var(--balloon-color);left:100%;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-length=small]:after{white-space:normal;width:80px}[aria-label][data-balloon-pos][data-balloon-length=medium]:after{white-space:normal;width:150px}[aria-label][data-balloon-pos][data-balloon-length=large]:after{white-space:normal;width:260px}[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:380px}@media screen and (max-width:768px){[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:90vw}}[aria-label][data-balloon-pos][data-balloon-length=fit]:after{white-space:normal;width:100%}',""]),t.exports=e},function(t,i,r){var a=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(40),i.setImmediate=e,i.clearImmediate=n},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,a,o,s,l=1,c={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){h(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&h(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){h(t.data)},i=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(h,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[l]=r,i(l),l++},f.clearImmediate=p}function p(t){delete c[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(4),n(5))},function(t,e,n){"use strict";var i=n(0),r=n(6),a=n(42),o=n(12);function s(t){var e=new a(t),n=r(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var l=s(n(9));l.Axios=a,l.create=function(t){return s(o(l.defaults,t))},l.Cancel=n(13),l.CancelToken=n(55),l.isCancel=n(8),l.all=function(t){return Promise.all(t)},l.spread=n(56),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var i=n(0),r=n(7),a=n(43),o=n(44),s=n(12);function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){l.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){l.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=l},function(t,e,n){"use strict";var i=n(0);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";var i=n(0),r=n(45),a=n(8),o=n(9);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(11);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(50),r=n(51);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(13);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";(function(e){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},i=Object.create(n),r=/["&'<>]/;i.$escape=function(t){return function(t){var e=""+t,n=r.exec(e);if(!n)return t;var i="",a=void 0,o=void 0,s=void 0;for(a=n.index,o=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==a&&(i+=e.substring(o,a)),o=a+1,i+=s}return o!==a?i+e.substring(o,a):i}(function t(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e)),e}(t))},i.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=i}).call(this,n(4))},function(t,e,n){"use strict";n.r(e),n(35);var i=n(15),r=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(t){if(0===(t=t||0)||t===1/0||"NaN"===t.toString())return"00:00";var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return(e>0?[e,n,i]:[n,i]).map(function(t){return t<10?"0"+t:""+t}).join(":")},getElementViewLeft:function(t){var e=t.offsetLeft,n=t.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==t;)e+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e-i},getBoundingClientRectViewLeft:function(t){var e=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(t.getBoundingClientRect){if("number"!=typeof this.getBoundingClientRectViewLeft.offset){var n=document.createElement("div");n.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(n),this.getBoundingClientRectViewLeft.offset=-n.getBoundingClientRect().top-e,document.body.removeChild(n),n=null}var i=t.getBoundingClientRect(),r=this.getBoundingClientRectViewLeft.offset;return i.left+r}return this.getElementViewLeft(t)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(t){var e=t.left,n=void 0===e?0:e,i=t.top,r=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=r):window.scrollTo(n,r)},isMobile:r,isSafari:/Safari/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(t,e){localStorage.setItem(t,e)},get:function(t){return localStorage.getItem(t)}},nameMap:{dragStart:r?"touchstart":"mousedown",dragMove:r?"touchmove":"mousemove",dragEnd:r?"touchend":"mouseup"},color2Number:function(t){return"#"===t[0]&&(t=t.substr(1)),3===t.length&&(t="".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2])),parseInt(t,16)+0&16777215},number2Color:function(t){return"#"+("00000"+t.toString(16)).slice(-6)},number2Type:function(t){switch(t){case 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}},o=n(2),s=n.n(o),l={send:function(t){s.a.post(t.url,t.data).then(function(e){var n=e.data;n&&0===n.code?t.success&&t.success(n):t.error&&t.error(n&&n.msg)}).catch(function(e){console.error(e),t.error&&t.error()})},read:function(t){s.a.get(t.url).then(function(e){var n=e.data;n&&0===n.code?t.success&&t.success(n.data.map(function(t){return{time:t[0],type:t[1],color:t[2],author:t[3],text:t[4]}})):t.error&&t.error(n&&n.msg)}).catch(function(e){console.error(e),t.error&&t.error()})}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u={"zh-cn":{"Danmaku is loading":"弹幕加载中",Top:"顶部",Bottom:"底部",Rolling:"滚动","Input danmaku, hit Enter":"输入弹幕，回车发送","About author":"关于作者","DPlayer feedback":"播放器意见反馈","About DPlayer":"关于 DPlayer 播放器",Loop:"洗脑循环",Speed:"速度","Opacity for danmaku":"弹幕透明度",Normal:"正常","Please input danmaku content!":"要输入弹幕内容啊喂！","Set danmaku color":"设置弹幕颜色","Set danmaku type":"设置弹幕类型","Show danmaku":"显示弹幕","Video load failed":"视频加载失败","Danmaku load failed":"弹幕加载失败","Danmaku send failed":"弹幕发送失败","Switching to":"正在切换至","Switched to":"已经切换至",quality:"画质",FF:"快进",REW:"快退","Unlimited danmaku":"海量弹幕","Send danmaku":"发送弹幕",Setting:"设置","Full screen":"全屏","Web full screen":"页面全屏",Send:"发送",Screenshot:"截图",AirPlay:"无线投屏",s:"秒","Show subtitle":"显示字幕","Hide subtitle":"隐藏字幕",Volume:"音量",Live:"直播","Video info":"视频统计信息"},"zh-tw":{"Danmaku is loading":"彈幕載入中",Top:"頂部",Bottom:"底部",Rolling:"滾動","Input danmaku, hit Enter":"輸入彈幕，Enter 發送","About author":"關於作者","DPlayer feedback":"播放器意見回饋","About DPlayer":"關於 DPlayer 播放器",Loop:"循環播放",Speed:"速度","Opacity for danmaku":"彈幕透明度",Normal:"正常","Please input danmaku content!":"請輸入彈幕內容啊！","Set danmaku color":"設定彈幕顏色","Set danmaku type":"設定彈幕類型","Show danmaku":"顯示彈幕","Video load failed":"影片載入失敗","Danmaku load failed":"彈幕載入失敗","Danmaku send failed":"彈幕發送失敗","Switching to":"正在切換至","Switched to":"已經切換至",quality:"畫質",FF:"快進",REW:"快退","Unlimited danmaku":"巨量彈幕","Send danmaku":"發送彈幕",Setting:"設定","Full screen":"全螢幕","Web full screen":"頁面全螢幕",Send:"發送",Screenshot:"截圖",AirPlay:"無線投屏",s:"秒","Show subtitle":"顯示字幕","Hide subtitle":"隱藏字幕",Volume:"音量",Live:"直播","Video info":"影片統計訊息"}},d=function(t){var e=this;this.lang=t,this.tran=function(t){return u[e.lang]&&u[e.lang][t]?u[e.lang][t]:t}},f=n(17),p=n.n(f),h=n(18),m=n.n(h),g=n(19),v=n.n(g),y=n(20),b=n.n(y),_=n(21),w=n.n(_),x=n(22),T=n.n(x),k=n(23),C=n.n(k),E=n(24),S=n.n(E),A=n(25),R=n.n(A),L=n(26),D=n.n(L),O=n(27),I=n.n(O),P=n(28),N=n.n(P),M=n(29),F=n.n(M),j=n(30),B=n.n(j),U=n(31),$=n.n(U),q=n(32),H=n.n(q),z=n(33),G=n.n(z),K={play:p.a,pause:m.a,volumeUp:v.a,volumeDown:b.a,volumeOff:w.a,full:T.a,fullWeb:C.a,setting:S.a,right:R.a,comment:D.a,commentOff:I.a,send:N.a,pallette:F.a,camera:B.a,subtitle:H.a,loading:G.a,airplay:$.a},V=n(34),W=n.n(V);var Y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.options=e.options,this.index=e.index,this.tran=e.tran,this.init()}var e;return(e=[{key:"init",value:function(){this.container.innerHTML=W()({options:this.options,index:this.index,tran:this.tran,icons:K,mobile:a.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:this.options.airplay,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var e;return(e=[{key:"load",value:function(){var t,e=this;t=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var n=(this.options.api.addition||[]).slice(0);n.push(t),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,function(t){e.dan=[].concat.apply([],t).sort(function(t,e){return t.time-e.time}),window.requestAnimationFrame(function(){e.frame()}),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(t){this.options.api=t,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(t,e){for(var n=this,i=[],r=0,a=function(a){n.options.apiBackend.read({url:t[a],success:function(n){i[a]=n,++r===t.length&&e(i)},error:function(o){n.options.error(o||n.options.tran("Danmaku load failed")),i[a]=[],++r===t.length&&e(i)}})},o=0;o<t.length;++o)a(o)}},{key:"send",value:function(t,e){var n=this,i={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:t.text,color:t.color,type:t.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:i,success:e,error:function(t){n.options.error(t||n.options.tran("Danmaku send failed"))}}),this.dan.splice(this.danIndex,0,i),this.danIndex++;var r={text:this.htmlEncode(i.text),color:i.color,type:i.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(r),this.events&&this.events.trigger("danmaku_send",i)}},{key:"frame",value:function(){var t=this;if(this.dan.length&&!this.paused&&this.showing){for(var e=this.dan[this.danIndex],n=[];e&&this.options.time()>parseFloat(e.time);)n.push(e),e=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){t.frame()})}},{key:"opacity",value:function(t){if(void 0!==t){for(var e=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<e.length;n++)e[n].style.opacity=t;this._opacity=t,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(t){var e=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,r=this.container.offsetHeight,o=parseInt(r/n),s=function(t){var n=t.offsetWidth||parseInt(t.style.width),i=t.getBoundingClientRect().right||e.container.getBoundingClientRect().right+n;return e.container.getBoundingClientRect().right-i},l=function(t){return(i+t)/5},c=function(t,n,r){for(var a=i/l(r),c=function(r){var c=e.danTunnel[n][r+""];if(!c||!c.length)return e.danTunnel[n][r+""]=[t],t.addEventListener("animationend",function(){e.danTunnel[n][r+""].splice(0,1)}),{v:r%o};if("right"!==n)return"continue";for(var u=0;u<c.length;u++){var d=s(c[u])-10;if(d<=i-a*l(parseInt(c[u].style.width))||d<=0)break;if(u===c.length-1)return e.danTunnel[n][r+""].push(t),t.addEventListener("animationend",function(){e.danTunnel[n][r+""].splice(0,1)}),{v:r%o}}},u=0;e.unlimited||u<o;u++){var d=c(u);switch(d){case"continue":continue;default:if("object"===X(d))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var u=document.createDocumentFragment(),d=function(r){t[r].type=a.number2Type(t[r].type),t[r].color||(t[r].color=16777215);var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-".concat(t[r].type)),t[r].border?o.innerHTML='<span style="border:'.concat(t[r].border,'">').concat(t[r].text,"</span>"):o.innerHTML=t[r].text,o.style.opacity=e._opacity,o.style.color=a.number2Color(t[r].color),o.addEventListener("animationend",function(){e.container.removeChild(o)});var s=e._measure(t[r].text),l=void 0;switch(t[r].type){case"right":(l=c(o,t[r].type,s))>=0&&(o.style.width=s+1+"px",o.style.top=n*l+"px",o.style.transform="translateX(-".concat(i,"px)"));break;case"top":(l=c(o,t[r].type))>=0&&(o.style.top=n*l+"px");break;case"bottom":(l=c(o,t[r].type))>=0&&(o.style.bottom=n*l+"px");break;default:console.error("Can't handled danmaku type: ".concat(t[r].type))}l>=0&&(o.classList.add("dplayer-danmaku-move"),u.appendChild(o))},f=0;f<t.length;f++)d(f);return this.container.appendChild(u),u}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(t){if(!this.context){var e=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=e.getPropertyValue("font")}return this.context.measureText(t).width}},{key:"seek",value:function(){this.clear();for(var t=0;t<this.dan.length;t++){if(this.dan[t].time>=this.options.time()){this.danIndex=t;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var t=this.container.offsetWidth,e=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<e.length;n++)e[n].style.transform="translateX(-".concat(t,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(t){this.unlimited=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var J=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var e;return(e=[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t,e){if(this.events[t]&&this.events[t].length)for(var n=0;n<this.events[t].length;n++)this.events[t][n](e)}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.videoEvents.indexOf(t)?"video":(console.error("Unknown event name: ".concat(t)),null)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var Z=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),a.setScrollPosition(n.lastScrollPosition)});var i=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(a.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))},r=function(){var t=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t!==n.player.container||(n.player.resize(),t?n.player.events.trigger("fullscreen"):(a.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",r),document.addEventListener("fullscreenchange",r)):(this.player.container.addEventListener("fullscreenchange",i),this.player.container.addEventListener("webkitfullscreenchange",i),document.addEventListener("msfullscreenchange",r),document.addEventListener("MSFullscreenChange",r))}var e;return(e=[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",e="browser"===t?"web":"browser",n=this.isFullScreen(e);switch(n||(this.lastScrollPosition=a.getScrollPosition()),t){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(e)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(t)?this.cancel(t):this.request(t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:e.options.hasOwnProperty("volume")?e.options.volume:.7,unlimited:(e.options.danmaku&&e.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var e;return(e=[{key:"init",value:function(){for(var t in this.storageName){var e=this.storageName[t];this.data[t]=parseFloat(a.storage.get(e)||this.default[t])}}},{key:"get",value:function(t){return this.data[t]}},{key:"set",value:function(t,e){this.data[t]=e,a.storage.set(this.storageName[t],e)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var et=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.video=n,this.options=i,this.events=r,this.init()}var e;return(e=[{key:"init",value:function(){var t=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var e=this.video.textTracks[0];e.oncuechange=function(){var n=e.activeCues[0];if(t.container.innerHTML="",n){var i=document.createElement("div");i.appendChild(n.getCueAsHTML());var r=i.innerHTML.split(/\r?\n/).map(function(t){return"<p>".concat(t,"</p>")}).join("");t.container.innerHTML=r}t.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var nt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements={},this.elements.volume=e.volumeBar,this.elements.played=e.playedBar,this.elements.loaded=e.loadedBar,this.elements.danmaku=e.danmakuOpacityBar}var e;return(e=[{key:"set",value:function(t,e,n){e=Math.max(e,0),e=Math.min(e,1),this.elements[t].style[n]=100*e+"%"}},{key:"get",value:function(t){return parseFloat(this.elements[t].style.width)/100}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var it=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.types=["loading","info","fps"],this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.types.map(function(e){return"fps"!==e&&t["init".concat(e,"Checker")](),e})}},{key:"initloadingChecker",value:function(){var t=this,e=0,n=0,i=!1;this.loadingChecker=setInterval(function(){t.enableloadingChecker&&(n=t.player.video.currentTime,i||n!==e||t.player.video.paused||(t.player.container.classList.add("dplayer-loading"),i=!0),i&&n>e&&!t.player.video.paused&&(t.player.container.classList.remove("dplayer-loading"),i=!1),e=n)},100)}},{key:"initfpsChecker",value:function(){var t=this;window.requestAnimationFrame(function(){if(t.enablefpsChecker)if(t.initfpsChecker(),t.fpsStart){t.fpsIndex++;var e=new Date;e-t.fpsStart>1e3&&(t.player.infoPanel.fps(t.fpsIndex/(e-t.fpsStart)*1e3),t.fpsStart=new Date,t.fpsIndex=0)}else t.fpsStart=new Date,t.fpsIndex=0;else t.fpsStart=0,t.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var t=this;this.infoChecker=setInterval(function(){t.enableinfoChecker&&t.player.infoPanel.update()},1e3)}},{key:"enable",value:function(t){this["enable".concat(t,"Checker")]=!0,"fps"===t&&this.initfpsChecker()}},{key:"disable",value:function(t){this["enable".concat(t,"Checker")]=!1}},{key:"destroy",value:function(){var t=this;this.types.map(function(e){return t["enable".concat(e,"Checker")]=!1,t["".concat(e,"Checker")]&&clearInterval(t["".concat(e,"Checker")]),e})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var rt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}var e;return(e=[{key:"switch",value:function(t){this.container.innerHTML=t,this.container.classList.add("dplayer-bezel-transition")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var at=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.barWidth=e.barWidth,this.container.style.backgroundImage="url('".concat(e.url,"')"),this.events=e.events}var e;return(e=[{key:"resize",value:function(t,e,n){this.container.style.width="".concat(t,"px"),this.container.style.height="".concat(e,"px"),this.container.style.top="".concat(2-e,"px"),this.barWidth=n}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(t){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(t/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(t-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var ot=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.autoHideTimer=0,a.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),a.isSafari&&this.initAirplayButton(),a.isMobile||this.initVolumeButton()}var e;return(e=[{key:"initPlayButton",value:function(){var t=this;this.player.template.playButton.addEventListener("click",function(){t.player.toggle()}),this.player.template.mobilePlayButton.addEventListener("click",function(){t.player.toggle()}),a.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){t.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){t.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){t.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){t.player.toggle()}))}},{key:"initHighlights",value:function(){var t=this;this.player.on("durationchange",function(){if(1!==t.player.video.duration&&t.player.video.duration!==1/0&&t.player.options.highlight){var e=document.querySelectorAll(".dplayer-highlight");[].slice.call(e,0).forEach(function(e){t.player.template.playedBarWrap.removeChild(e)});for(var n=0;n<t.player.options.highlight.length;n++)if(t.player.options.highlight[n].text&&t.player.options.highlight[n].time){var i=document.createElement("div");i.classList.add("dplayer-highlight"),i.style.left=t.player.options.highlight[n].time/t.player.video.duration*100+"%",i.innerHTML='<span class="dplayer-highlight-text">'+t.player.options.highlight[n].text+"</span>",t.player.template.playedBarWrap.insertBefore(i,t.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var t=this;this.player.options.video.thumbnails&&(this.thumbnails=new at({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){t.thumbnails.resize(160,t.player.video.videoHeight/t.player.video.videoWidth*160,t.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var t=this,e=function(e){var n=((e.clientX||e.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.playedBarWrap))/t.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),t.player.bar.set("played",n,"width"),t.player.template.ptime.innerHTML=a.secondToTime(n*t.player.video.duration)},n=function n(i){document.removeEventListener(a.nameMap.dragEnd,n),document.removeEventListener(a.nameMap.dragMove,e);var r=((i.clientX||i.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.playedBarWrap))/t.player.template.playedBarWrap.clientWidth;r=Math.max(r,0),r=Math.min(r,1),t.player.bar.set("played",r,"width"),t.player.seek(t.player.bar.get("played")*t.player.video.duration),t.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(a.nameMap.dragStart,function(){t.player.timer.disable("progress"),document.addEventListener(a.nameMap.dragMove,e),document.addEventListener(a.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(a.nameMap.dragMove,function(e){if(t.player.video.duration){var n=t.player.template.playedBarWrap.getBoundingClientRect().left,i=(e.clientX||e.changedTouches[0].clientX)-n;if(i<0||i>t.player.template.playedBarWrap.offsetWidth)return;var r=t.player.video.duration*(i/t.player.template.playedBarWrap.offsetWidth);a.isMobile&&t.thumbnails&&t.thumbnails.show(),t.thumbnails&&t.thumbnails.move(i),t.player.template.playedBarTime.style.left="".concat(i-(r>=3600?25:20),"px"),t.player.template.playedBarTime.innerText=a.secondToTime(r),t.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(a.nameMap.dragEnd,function(){a.isMobile&&t.thumbnails&&t.thumbnails.hide()}),a.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){t.player.video.duration&&(t.thumbnails&&t.thumbnails.show(),t.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){t.player.video.duration&&(t.thumbnails&&t.thumbnails.hide(),t.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var t=this;this.player.template.browserFullButton.addEventListener("click",function(){t.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){t.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var t=this,e=function(e){var n=e||window.event,i=((n.clientX||n.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.volumeBarWrap)-5.5)/35;t.player.volume(i)},n=function n(){document.removeEventListener(a.nameMap.dragEnd,n),document.removeEventListener(a.nameMap.dragMove,e),t.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(e){var n=e||window.event,i=((n.clientX||n.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.volumeBarWrap)-5.5)/35;t.player.volume(i)}),this.player.template.volumeBarWrapWrap.addEventListener(a.nameMap.dragStart,function(){document.addEventListener(a.nameMap.dragMove,e),document.addEventListener(a.nameMap.dragEnd,n),t.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){t.player.video.muted?(t.player.video.muted=!1,t.player.switchVolumeIcon(),t.player.bar.set("volume",t.player.volume(),"width")):(t.player.video.muted=!0,t.player.template.volumeIcon.innerHTML=K.volumeOff,t.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var t=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(e){e.target.classList.contains("dplayer-quality-item")&&t.player.switchQuality(e.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var t=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var e,n=document.createElement("canvas");n.width=t.player.video.videoWidth,n.height=t.player.video.videoHeight,n.getContext("2d").drawImage(t.player.video,0,0,n.width,n.height),n.toBlob(function(t){e=URL.createObjectURL(t);var n=document.createElement("a");n.href=e,n.download="DPlayer.png",n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}),t.player.events.trigger("screenshot",e)})}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",function(t){switch(t.availability){case"available":this.template.airplayButton.disable=!1;break;default:this.template.airplayButton.disable=!0}this.template.airplayButton.addEventListener("click",function(){this.video.webkitShowPlaybackTargetPicker()}.bind(this))}.bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initSubtitleButton",value:function(){var t=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){t.player.template.subtitleButton.dataset.balloon=t.player.tran("Hide subtitle"),t.player.template.subtitleButtonInner.style.opacity="",t.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){t.player.template.subtitleButton.dataset.balloon=t.player.tran("Show subtitle"),t.player.template.subtitleButtonInner.style.opacity="0.4",t.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){t.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var t=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!t.player.video.played.length||t.player.paused||t.disableAutoHide||t.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var st=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var i=function(t){n.player.template.speedItem[t].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[t].dataset.speed),n.hide()})},r=0;r<this.player.template.speedItem.length;r++)i(r);if(this.player.danmaku){this.player.on("danmaku_opacity",function(t){n.player.bar.set("danmaku",t,"width"),n.player.user.set("opacity",t)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(t){var e=t||window.event,i=((e.clientX||e.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},s=function t(){document.removeEventListener(a.nameMap.dragEnd,t),document.removeEventListener(a.nameMap.dragMove,o),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(t){var e=t||window.event,i=((e.clientX||e.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(a.nameMap.dragStart,function(){document.addEventListener(a.nameMap.dragMove,o),document.addEventListener(a.nameMap.dragEnd,s),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}var e;return(e=[{key:"hide",value:function(){var t=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){t.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),t.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var lt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.commentButton.addEventListener("click",function(){n.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var t=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=t,n.player.template.commentInput.style.color=t,n.player.template.commentSendFill.style.fill=t}}),this.player.template.commentInput.addEventListener("click",function(){n.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(t){13===(t||window.event).keyCode&&n.send()}),this.player.template.commentSendButton.addEventListener("click",function(){n.send()})}var e;return(e=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var t=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:a.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){t.player.template.commentInput.value="",t.hide()}):this.player.notice(this.player.tran("Please input danmaku content!"))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),ct=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.options.hotkey&&document.addEventListener("keydown",function(t){if(e.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var r,a=t||window.event;switch(a.keyCode){case 32:a.preventDefault(),e.toggle();break;case 37:if(a.preventDefault(),e.options.live)break;e.seek(e.video.currentTime-5),e.controller.setAutoHide();break;case 39:if(a.preventDefault(),e.options.live)break;e.seek(e.video.currentTime+5),e.controller.setAutoHide();break;case 38:a.preventDefault(),r=e.volume()+.1,e.volume(r);break;case 40:a.preventDefault(),r=e.volume()-.1,e.volume(r)}}}}),document.addEventListener("keydown",function(t){switch((t||window.event).keyCode){case 27:e.fullScreen.isFullScreen("web")&&e.fullScreen.cancel("web")}})};var ut=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(t,e){n.player.options.contextmenu[e].click&&t.addEventListener("click",function(){n.player.options.contextmenu[e].click(n.player),n.hide()})}),this.player.container.addEventListener("contextmenu",function(t){if(n.shown)n.hide();else{var e=t||window.event;e.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(e.clientX-i.left,e.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})}})}var e;return(e=[{key:"show",value:function(t,e){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();t+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-t+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=t+"px",this.player.template.menu.style.right="initial"),e+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-e+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=e+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();var dt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.template.infoPanel,this.template=e.template,this.video=e.video,this.player=e,this.template.infoPanelClose.addEventListener("click",function(){n.hide()})}var e;return(e=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.26.0"," ").concat("63275c8"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(t){this.template.infoFPS.innerHTML="".concat(t.toFixed(1))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),ft=n(1),pt=n.n(ft);function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var vt=0,yt=[],bt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=function(t){var e={container:t.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:l,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}}};for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);return t.video&&!t.video.type&&(t.video.type="auto"),"object"===c(t.danmaku)&&t.danmaku&&!t.danmaku.user&&(t.danmaku.user="DIYgod"),t.subtitle&&(!t.subtitle.type&&(t.subtitle.type="webvtt"),!t.subtitle.fontSize&&(t.subtitle.fontSize="20px"),!t.subtitle.bottom&&(t.subtitle.bottom="40px"),!t.subtitle.color&&(t.subtitle.color="#fff")),t.video.quality&&(t.video.url=t.video.quality[t.video.defaultQuality].url),t.lang&&(t.lang=t.lang.toLowerCase()),t.contextmenu=t.contextmenu.concat([{text:"Video info",click:function(t){t.infoPanel.triggle()}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.26.0"),link:"https://github.com/MoePlayer/DPlayer"}]),t}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach(function(e){mt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({preload:"webtorrent"===e.video.type?"none":"metadata"},e)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new d(this.options.lang).tran,this.events=new J,this.user=new tt(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),a.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new Y({container:this.container,options:this.options,index:vt,tran:this.tran}),this.video=this.template.video,this.bar=new nt(this.template),this.bezel=new rt(this.template.bezel),this.fullScreen=new Z(this),this.controller=new ot(this),this.options.danmaku&&(this.danmaku=new Q({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none",n.options.autoplay&&n.play()},0)},error:function(t){n.notice(t)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(t){return n.tran(t)}}),this.comment=new lt(this)),this.setting=new st(this),this.plugins={},document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.timer=new it(this),this.hotkey=new ct(this),this.contextmenu=new ut(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new dt(this),!this.danmaku&&this.options.autoplay&&this.play(),vt++,yt.push(this)}var e,n,r;return e=t,r=[{key:"version",get:function(){return"1.26.0"}}],(n=[{key:"seek",value:function(t){t=Math.max(t,0),this.video.duration&&(t=Math.min(t,this.video.duration)),this.video.currentTime<t?this.notice("".concat(this.tran("FF")," ").concat((t-this.video.currentTime).toFixed(0)," ").concat(this.tran("s"))):this.video.currentTime>t&&this.notice("".concat(this.tran("REW")," ").concat((this.video.currentTime-t).toFixed(0)," ").concat(this.tran("s"))),this.video.currentTime=t,this.danmaku&&this.danmaku.seek(),this.bar.set("played",t/this.video.duration,"width"),this.template.ptime.innerHTML=a.secondToTime(t)}},{key:"play",value:function(t){var e=this;if(this.paused=!1,this.video.paused&&!a.isMobile&&this.bezel.switch(K.play),this.template.playButton.innerHTML=K.pause,this.template.mobilePlayButton.innerHTML=K.pause,t||i.a.resolve(this.video.play()).catch(function(){e.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var n=0;n<yt.length;n++)this!==yt[n]&&yt[n].pause()}},{key:"pause",value:function(t){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||a.isMobile||this.bezel.switch(K.pause),this.template.playButton.innerHTML=K.play,this.template.mobilePlayButton.innerHTML=K.play,t||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=K.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=K.volumeDown:this.template.volumeIcon.innerHTML=K.volumeOff}},{key:"volume",value:function(t,e,n){if(t=parseFloat(t),!isNaN(t)){t=Math.max(t,0),t=Math.min(t,1),this.bar.set("volume",t,"width");var i="".concat((100*t).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=i,e||this.user.set("volume",t),n||this.notice("".concat(this.tran("Volume")," ").concat((100*t).toFixed(0),"%")),this.video.volume=t,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"switchVideo",value:function(t,e){this.pause(),this.video.poster=t.pic?t.pic:"",this.video.src=t.url,this.initMSE(this.video,t.type||"auto"),e&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:e.id,address:e.api,token:e.token,maximum:e.maximum,addition:e.addition,user:e.user}))}},{key:"initMSE",value:function(t,e){var n=this;if(this.type=e,this.options.video.customType&&this.options.video.customType[e])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[e])?this.options.video.customType[e](this.video,this):console.error("Illegal customType: ".concat(e));else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(t.src)?this.type="hls":/.flv(#|\?|$)/i.exec(t.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(t.src)?this.type="dash":this.type="normal"),"hls"===this.type&&(t.canPlayType("application/x-mpegURL")||t.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var i=this.options.pluginOptions.hls,r=new window.Hls(i);this.plugins.hls=r,r.loadSource(t.src),r.attachMedia(t),this.events.on("destroy",function(){r.destroy(),delete n.plugins.hls})}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var a=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:t.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=a,a.attachMediaElement(t),a.load(),this.events.on("destroy",function(){a.unload(),a.detachMediaElement(),a.destroy(),delete n.plugins.flvjs})}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var o=window.dashjs.MediaPlayer().create().initialize(t,t.src,!1),s=this.options.pluginOptions.dash;o.updateSettings(s),this.plugins.dash=o,this.events.on("destroy",function(){window.dashjs.MediaPlayer().reset(),delete n.plugins.dash})}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var l=this.options.pluginOptions.webtorrent,c=new window.WebTorrent(l);this.plugins.webtorrent=c;var u=t.src;t.src="",t.preload="metadata",t.addEventListener("durationchange",function(){return n.container.classList.remove("dplayer-loading")},{once:!0}),c.add(u,function(t){t.files.find(function(t){return t.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay,controls:!1})}),this.events.on("destroy",function(){c.remove(u),c.destroy(),delete n.plugins.webtorrent})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(t,e){var n=this;this.initMSE(t,e),this.on("durationchange",function(){1!==t.duration&&t.duration!==1/0&&(n.template.dtime.innerHTML=a.secondToTime(t.duration))}),this.on("progress",function(){var e=t.buffered.length?t.buffered.end(t.buffered.length-1)/t.duration:0;n.bar.set("loaded",e,"width")}),this.on("error",function(){n.video.error&&n.tran&&n.notice&&"webtorrent"!==n.type&&n.notice(n.tran("Video load failed"),-1)}),this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),n.play()):n.pause(),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play(!0)}),this.on("pause",function(){n.paused||n.pause(!0)}),this.on("timeupdate",function(){n.bar.set("played",n.video.currentTime/n.video.duration,"width");var t=a.secondToTime(n.video.currentTime);n.template.ptime.innerHTML!==t&&(n.template.ptime.innerHTML=t)});for(var i=function(e){t.addEventListener(n.events.videoEvents[e],function(){n.events.trigger(n.events.videoEvents[e])})},r=0;r<this.events.videoEvents.length;r++)i(r);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new et(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(t){var e=this;if(t="string"==typeof t?parseInt(t):t,this.qualityIndex!==t&&!this.switchingQuality){this.qualityIndex=t,this.switchingQuality=!0,this.quality=this.options.video.quality[t],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=pt()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),r=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(r,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=r,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("Switching to")," ").concat(this.quality.name," ").concat(this.tran("quality")),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(e.prevVideo){if(e.video.currentTime!==e.prevVideo.currentTime)return void e.seek(e.prevVideo.currentTime);e.template.videoWrap.removeChild(e.prevVideo),e.video.classList.add("dplayer-video-current"),n||e.video.play(),e.prevVideo=null,e.notice("".concat(e.tran("Switched to")," ").concat(e.quality.name," ").concat(e.tran("quality"))),e.switchingQuality=!1,e.events.trigger("quality_end")}})}}},{key:"notice",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=t,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",t),n>0&&(this.noticeTime=setTimeout(function(){e.template.notice.style.opacity=0,e.events.trigger("notice_hide")},n))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(t){this.video.playbackRate=t}},{key:"destroy",value:function(){yt.splice(yt.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}])&&gt(e.prototype,n),r&&gt(e,r),t}();console.log("\n".concat(" %c DPlayer v","1.26.0"," ").concat("63275c8"," %c http://dplayer.js.org ","\n","\n"),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.default=bt}]).default}).call(this,n("URgk").setImmediate,n("URgk").clearImmediate)},"9a09":function(t,e,n){"use strict";n.r(e);var i=(n("01CS"),n("KHd+")),r=Object(i.a)({name:"LoadingMore",props:["end"],data:function(){return{}}},function(){var t=this.$createElement,e=this._self._c||t;return this.end?e("div",{staticClass:"end"},[this._v("\n\t讨厌，都被你看光光了╭(╯^╰)╮\n")]):e("div",{staticClass:"note-placeholder "},[e("div",{staticClass:"image"}),this._v(" "),this._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("div",{staticClass:"title"}),this._v(" "),e("div",{staticClass:"text"}),this._v(" "),e("div",{staticClass:"text animation-delay"}),this._v(" "),e("div",{staticClass:"meta"},[e("div",{staticClass:"read"}),this._v(" "),e("i",{staticClass:"iconfont icon-svg37"}),this._v(" "),e("div",{staticClass:"small"}),this._v(" "),e("i",{staticClass:"iconfont icon-03xihuan"}),this._v(" "),e("div",{staticClass:"small"})])])}],!1,null,null,null);e.default=r.exports},"9a0c":function(t,e,n){"use strict";n.r(e);var i={props:["type","id","userId","followed","sizeClass"],computed:{isLogin:function(){return this.userId>0},isFollowed:function(){return null!==this.is_followed?this.is_followed:this.followed}},methods:{toggleFollow:function(){this.is_followed=!this.is_followed;var t=this,e=window.tokenize("/api/follow/"+this.id+"/"+this.type);window.axios.post(e).then(function(e){t.is_followed=e.data})}},data:function(){return{is_followed:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLogin?n("a",{class:t.isFollowed?["btn-base","btn-toggle-followed",t.sizeClass]:["btn-base","btn-follow",t.sizeClass],on:{click:t.toggleFollow}},[t.isFollowed?n("span",[n("i",{staticClass:"gougou iconfont icon-weibiaoti12"}),n("i",{staticClass:"chacha iconfont icon-cha"})]):n("span",[n("i",{staticClass:"iconfont icon-icon20"}),t._v("关注")])]):n("a",{class:["btn-base","btn-follow",t.sizeClass],attrs:{href:"/login"}},[t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"iconfont icon-icon20"}),this._v("关注")])}],!1,null,null,null);e.default=a.exports},"9lDk":function(t,e,n){var i=n("vqHq");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"9lkz":function(t,e,n){"use strict";var i=n("vAQA");n.n(i).a},"9mYT":function(t,e,n){"use strict";n.r(e);var i={name:"deleteNotebook",computed:{article:function(){return this.$store.state.currentArticle?this.$store.state.currentArticle:{}}},methods:{submit:function(){this.$store.dispatch("removeArticle"),$(".delete-note").modal("hide")}},data:function(){return{}}},r=(n("xlpJ"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade delete-note"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body"},[n("p",[t._v("确认删除文章《"+t._s(t.article.title)+"》，文章将被移动到回收站，您可以在那里恢复它。60天后将被彻底删除。")])]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("a",{staticClass:"submit btn-base btn-hollow btn-md",on:{click:t.submit}},[t._v("确认")]),t._v(" "),n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("取消")])])])])])},[],!1,null,null,null);e.default=a.exports},"9rSQ":function(t,e,n){"use strict";var i=n("xTJ+");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},A10U:function(t,e,n){var i=n("yYat");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"A3/Q":function(t,e,n){var i=n("a/FM");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},A5qx:function(t,e,n){"use strict";var i=n("ZSiy");n.n(i).a},ABx6:function(t,e,n){var i=n("oKNm");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},ASWn:function(t,e,n){var i=n("5YS7");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},AcID:function(t,e,n){var i=n("19lo");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},AgZc:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"#side-tool[data-v-240c1e22]{z-index:999}",""])},AnCm:function(t,e,n){var i=n("E1xd");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},B75g:function(t,e,n){"use strict";var i=n("CMfS");n.n(i).a},BDWq:function(t,e,n){var i=n("aHPL");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},BYiL:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".slide-enter-active[data-v-b6395c0a]{transition:all .2s linear}.slide-leave-active[data-v-b6395c0a]{transition:all .4s cubic-bezier(1,.5,.8,1)}.slide-enter[data-v-b6395c0a],.slide-leave-to[data-v-b6395c0a]{transform:translateY(-10px);opacity:0}",""])},BhVO:function(t,e,n){"use strict";n.r(e);var i={name:"Likes",created:function(){var t=window.tokenize("/api/notifications/like"),e=this;window.axios.get(t).then(function(t){e.notifications=t.data})},data:function(){return{notifications:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"menu"},[t._v("收到的喜欢和赞")]),t._v(" "),t.notifications.length?n("ul",{staticClass:"likes-list"},t._l(t.notifications,function(e){return n("li",[n("div",{staticClass:"user-info info-xs"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user_id}},[n("img",{attrs:{src:e.user_avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user_name))]),t._v(" "),n("span",[t._v(t._s(e.body))]),t._v(" "),n("a",{staticClass:"headline",attrs:{href:e.url},domProps:{innerHTML:t._s(e.title)}})]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.time))])])])}),0):n("div",{staticClass:"unMessage"},[n("blank-content")],1)])},[],!1,null,"279a97a9",null);e.default=a.exports},BnUF:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var r={name:"Published",props:["show"],updated:function(){this.first_update||(++this.first_update,this.fetchData())},mounted:function(){this.fetchData()},computed:{article:function(){return this.$store.state.currentArticle}},methods:{getBtnClass:function(t){switch(t){case"收录":return"btn-base btn-hollow btn-sm"}return"btn-base btn-hollow theme-tag btn-sm"},getBtn2Class:function(t){switch(t){case"投稿":case"再次投稿":return"btn-base btn-hollow btn-sm"}return"btn-base btn-hollow theme-tag btn-sm"},closeBtn:function(){this.$store.commit("PUBLISHED_TOGGLE")},apiAdmin:function(){var t="/api/categories/admin-check-article-"+this.article.id;return this.q&&(t=t+"?q="+this.q),window.tokenize(t)},apiRecommend:function(){var t="/api/categories/recommend-check-article-"+this.article.id+"?page="+this.page2;return window.tokenize(t)},apiRecent:function(){return window.tokenize("/api/categories/recently")},add:function(t){var e=window.tokenize("/api/categories/"+this.article.id+"/add-category-"+t.id);axios.get(e).then(function(e){t.submit_status=e.data.submit_status})},submit:function(t){var e=window.tokenize("/api/categories/"+this.article.id+"/submit-category-"+t.id);axios.get(e).then(function(e){t.submit_status=e.data.submit_status})},fetchManage:function(){var t=this;window.axios.get(this.apiAdmin()).then(function(e){1==t.page?t.categoryList=e.data.data:(t.categoryList=t.categoryList.concat(e.data.data),t.page=e.data.current_page,t.page_total=e.data.lastPage)})},fetchMore:function(){++this.page2,this.lastPage>0&&this.page2>this.lastPage||this.fetchRecomand()},fetchRecomand:function(){var t=this;window.axios.get(this.apiRecommend()).then(function(e){t.recommendCategoryList=t.recommendCategoryList.concat(e.data.data),t.page2=e.data.current_page,t.page2_total=e.data.lastPage,t.lastPage=e.data.last_page})},fetchData:function(){this.article.id&&(this.fetchManage(),this.fetchRecomand())},search:function(){this.page=1;var t=this,e="/api/categories/search-submit-for-article-"+this.article.id+"?q="+this.q;this.q.length>0&&window.axios.get(e).then(function(e){t.searchCategoryList=e.data.data})}},data:function(){var t;return i(t={first_update:0,currentPage:1,searchResult:[],q:null,lastPage:-1,page:1,page_total:1,page2:1,page2_total:1,categoryList:[],recommendCategoryList:[]},"categoryList",[]),i(t,"searchCategoryList",[]),t}},a=n("KHd+"),o=Object(a.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[t.show?n("div",{staticClass:"release-after"},[n("div",{staticClass:"release-info"},[n("div",{staticClass:"after-info"},[n("a",{staticClass:"title",attrs:{href:"/article/"+t.article.id}},[t._v(t._s(t.article.title))]),t._v(" "),n("br"),t._v(" "),n("a",{staticClass:"note",attrs:{href:"/article/"+t.article.id}},[t._v("发布成功,点击查看文章")])]),t._v(" "),n("ul",{staticClass:"release-share"},[n("li",{staticClass:"btn-base weixin-bg"},[n("i",{staticClass:"iconfont icon-weixin1"}),t._v("\n\t\t\t\t\t微信\n\t\t\t\t")]),t._v(" "),n("li",{staticClass:"btn-base weibo-bg"},[n("i",{staticClass:"iconfont icon-sina"}),t._v("\n\t\t\t\t\t微博\n\t\t\t\t")]),t._v(" "),n("li",{staticClass:"btn-base qqzone-bg"},[n("i",{staticClass:"iconfont icon-qq1"}),t._v("\n\t\t\t\t\t空间\n\t\t\t\t")]),t._v(" "),n("li",{staticClass:"btn-base qq-bg"},[n("i",{staticClass:"iconfont icon-remen1"}),t._v("\n\t\t\t\t\t复制链接\n\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"close iconfont icon-cha",on:{click:t.closeBtn}}),t._v(" "),n("div",{staticClass:"arc"}),t._v(" "),n("div",{staticClass:"contribute"},[n("div",{staticClass:"header"},[n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"input-style",attrs:{type:"text",placeholder:"搜索专题"},domProps:{value:t.q},on:{input:[function(e){e.target.composing||(t.q=e.target.value)},t.search]}}),t._v(" "),n("i",{staticClass:"iconfont icon-sousuo"})]),t._v(" "),n("div",{staticClass:"describe"},[t._v("向专题投稿，让文章被更多人发现")])]),t._v(" "),t.q?n("div",{staticClass:"search-categore"},[n("div",{staticClass:"categories"},[n("ul",{staticClass:"category-list clearfix"},t._l(t.searchCategoryList,function(e){return n("li",{staticClass:"col-xs-4"},[n("img",{staticClass:"avatar-category",attrs:{alt:"png",src:e.logo}}),t._v(" "),n("div",{staticClass:"info"},[n("span",[t._v(t._s(e.name))])]),t._v(" "),n("a",{class:["action-btn",t.getBtn2Class(e.submit_status)],on:{click:function(n){return t.submit(e)}}},[t._v(t._s(e.submit_status))])])}),0)])]):n("div",{staticClass:"categore-container"},[n("div",{staticClass:"categories"},[n("h3",[t._v("我管理的专题"),n("a",{attrs:{href:"/category/create"}},[t._v("新建")])]),t._v(" "),n("ul",{staticClass:"category-list clearfix"},t._l(t.categoryList,function(e){return n("li",{staticClass:"col-xs-4"},[n("img",{staticClass:"avatar-category",attrs:{alt:"png",src:e.logo}}),t._v(" "),n("div",{staticClass:"info"},[n("span",[t._v(t._s(e.name))])]),t._v(" "),n("a",{class:["action-btn",t.getBtnClass(e.submit_status)],on:{click:function(n){return t.add(e)}}},[t._v(t._s(e.submit_status))])])}),0)]),t._v(" "),n("div",{staticClass:"categories"}),t._v(" "),n("div",{staticClass:"categories recommend"},[n("h3",[t._v("推荐专题")]),t._v(" "),n("ul",{staticClass:"category-list clearfix"},t._l(t.recommendCategoryList,function(e){return n("li",{staticClass:"col-xs-6"},[n("img",{staticClass:"avatar-category",attrs:{alt:"png",src:e.logo}}),t._v(" "),n("div",{staticClass:"info"},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("em",[t._v(t._s(e.count)+"篇作品·"+t._s(e.follow)+"人关注")])]),t._v(" "),n("a",{class:["action-btn",t.getBtn2Class(e.submit_status)],on:{click:function(n){return t.submit(e)}}},[t._v(t._s(e.submit_status))])])}),0),t._v(" "),n("div",{staticStyle:{width:"200px",margin:"auto"}},[n("a",{staticClass:"btn-base btn-more",style:t.page2<t.lastPage?"background-color:rgba(66, 192, 46, 0.9)":"",attrs:{href:"javascript:;"},on:{click:t.fetchMore}},[t._v("\n\t\t\t\t\t   \t"+t._s(t.page2>=t.lastPage?"已经到底了":"点击加载更多"))])])])])])]):t._e()])},[],!1,null,null,null);e.default=o.exports},Bt3u:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".blank-content[data-v-09b08730]{width:100%;height:100%;min-height:300px;text-align:center;color:#969696;font-size:14px}.blank-content .tip span[data-v-09b08730]{font-size:100px;color:#969696}",""])},C9wO:function(t,e,n){"use strict";n.r(e);var i={name:"Category",created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{showModal:function(){$bus.$emit("showContribute",this.id)},fetchData:function(){if(this.id=this.$route.params.id,this.id){var t=window.tokenize("/api/category/"+this.id),e=this;window.axios.get(t).then(function(t){e.category=t.data;var n=window.tokenize("/api/follow/"+e.id+"/categories");window.axios.get(n)})}}},data:function(){return{id:null,category:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.category?n("div",{staticClass:"categorys"},[n("div",{staticClass:"note-info info-lg"},[n("a",{staticClass:"avatar-category",attrs:{href:"/"+t.category.name_en}},[n("img",{attrs:{src:t.category.logo,alt:""}})]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("a",{staticClass:"btn-base btn-hollow btn-md",attrs:{href:"/"+t.category.name_en}},[t._v("专题主页"),n("i",{staticClass:"iconfont icon-youbian"})]),t._v(" "),n("a",{staticClass:"btn-base btn-hollow btn-md",attrs:{"data-target":".modal-contribute","data-toggle":"modal",href:"javascript:;"},on:{click:function(e){return t.showModal()}}},[t._v("投稿")])]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/"+t.category.name_en}},[t._v(t._s(t.category.name))])]),t._v(" "),n("div",{staticClass:"info"},[t._v("\n            收录了"+t._s(t.category.count)+"篇作品 · "+t._s(t.category.count_follows)+"人关注\n        ")])]),t._v(" "),n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("div",{staticClass:"article_list tab-content"},[n("ul",{staticClass:"fade in article-list tab-pane active",attrs:{role:"tabpanel",id:"include"}},[n("article-list",{attrs:{api:"/"+t.category.name_en+"?collected=1"}})],1),t._v(" "),n("ul",{staticClass:"fade in article-list tab-pane",attrs:{role:"tabpanel",id:"comment"}},[n("article-list",{attrs:{api:"/"+t.category.name_en+"?commented=1"}})],1),t._v(" "),n("ul",{staticClass:"fade in article-list tab-pane",attrs:{role:"tabpanel",id:"hot"}},[n("article-list",{attrs:{api:"/"+t.category.name_en+"?hot=1"}})],1)])])]):n("div",{staticClass:"loading"},[t._v("\n    正在加载...\n")])},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",attrs:{id:"trigger-menu",role:"tablist"}},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#include","aria-controls":"include",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-wenji"}),this._v("最新收录")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#comment","aria-controls":"comment",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-svg37"}),this._v("最新评论")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#hot","aria-controls":"hot",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-huo"}),this._v("热门")])])])}],!1,null,"a48b1140",null);e.default=a.exports},CMfS:function(t,e,n){var i=n("34gP");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},CgaS:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("MLWZ"),a=n("9rSQ"),o=n("UnBK"),s=n("SntB");function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){l.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){l.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=l},Cmwm:function(t,e,n){"use strict";n.r(e);var i={name:"FollowCategoriesList",props:["api","startPage","notEmpty","isDesktop","currentUserId"],watch:{api:function(t){this.clear(),this.fetchData()}},computed:{apiUrl:function(){var t=this.page,e=this.api?this.api:this.apiDefault;return-1!==e.indexOf("?")?e+"&page="+t:e+"?page="+t}},mounted:function(){this.listenScrollBottom(),this.fetchData()},methods:{clear:function(){this.categories=[]},listenScrollBottom:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page,this.lastPage>0&&this.page>this.lastPage||this.fetchData()},fetchData:function(){var t=this;window.axios.post(window.tokenize(this.apiUrl)).then(function(e){t.lastPage=e.data.last_page,t.categories=t.categories.concat(e.data.data)})}},data:function(){return{apiDefault:"",page:this.startPage?this.startPage:1,lastPage:-1,categories:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.categories,function(e){return n("li",{staticClass:"note-info"},[n("a",{staticClass:"avatar-category",attrs:{href:"/"+e.followed.name_en}},[n("img",{attrs:{src:e.followed.logo,alt:""}})]),t._v(" "),n("follow",{attrs:{type:"categories",id:e.followed.id,"user-id":t.currentUserId,followed:e.followed.is_follow}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/"+e.followed.name_en}},[t._v(t._s(e.followed.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("p",[n("a",{staticClass:"name",attrs:{href:"/"+e.followed.name_en}},[t._v(t._s(e.followed.name))]),t._v("\n\t     \t\t收录了"+t._s(e.followed.count)+"篇作品，"+t._s(e.followed.count_follows)+"人关注\n\t     \t")])])],1)}),0)},[],!1,null,"423f184b",null);e.default=a.exports},Cs11:function(t,e,n){"use strict";var i=n("W1Dg");n.n(i).a},D2hv:function(t,e,n){"use strict";var i=n("fyBI");n.n(i).a},DTKG:function(t,e,n){"use strict";n.r(e);var i={name:"ToComment",props:["commentReplies"],mounted:function(){},methods:{goTop:function(){$("body,html").animate({scrollTop:716},1e3)}},data:function(){return{}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"function_button",on:{click:this.goTop}},[e("i",{staticClass:"iconfont icon-xinxi2"}),this._v(" "),e("p",[this._v(this._s(this.commentReplies))])])},[],!1,null,"32750105",null);e.default=a.exports},DXkA:function(t,e,n){var i=n("rPLH");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},DoeO:function(t,e,n){var i=n("HiMK");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},DwMr:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"#write{width:100%;height:100%;max-width:100vw;max-height:100vh}",""])},DzuU:function(t,e,n){var i=n("sDf8");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},E1xd:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".add-videol{width:120px;height:100px;text-align:center;position:relative;margin-left:40%}.add-videol i{font-size:42px;color:#c4c4c4}.add-videol p{font-size:14px;color:#2b89ca;margin-top:10px}.add-videol .input_box{position:absolute;overflow:hidden;left:0;top:0;width:120px;height:100px;cursor:pointer}.add-videol .input_box input{width:100%;height:100%;opacity:0;cursor:pointer}.delete{text-align:center}",""])},"E2/B":function(t,e,n){"use strict";var i=n("BDWq");n.n(i).a},E2g8:function(t,e,n){(function(e,i){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=0,o=void 0,s=void 0,l=function(t,e){m[a]=t,m[a+1]=e,2===(a+=2)&&(s?s(g):w())},c="undefined"!=typeof window?window:void 0,u=c||{},d=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(g,1)}}var m=new Array(1e3);function g(){for(var t=0;t<a;t+=2)(0,m[t])(m[t+1]),m[t]=void 0,m[t+1]=void 0;a=0}var v,y,b,_,w=void 0;function x(t,e){var n=arguments,i=this,r=new this.constructor(C);void 0===r[k]&&B(r);var a,o=i._state;return o?(a=n[o-1],l(function(){return F(o,r,a,i._result)})):I(i,r,t,e),r}function T(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(C);return R(e,t),e}f?w=function(){return e.nextTick(g)}:d?(y=0,b=new d(g),_=document.createTextNode(""),b.observe(_,{characterData:!0}),w=function(){_.data=y=++y%2}):p?((v=new MessageChannel).port1.onmessage=g,w=function(){return v.port2.postMessage(0)}):w=void 0===c?function(){try{var t=n(1);return o=t.runOnLoop||t.runOnContext,function(){o(g)}}catch(t){return h()}}():h();var k=Math.random().toString(36).substring(16);function C(){}var E=new N;function S(t){try{return t.then}catch(t){return E.error=t,E}}function A(e,n,i){n.constructor===e.constructor&&i===x&&n.constructor.resolve===T?function(t,e){1===e._state?D(t,e._result):2===e._state?O(t,e._result):I(e,void 0,function(e){return R(t,e)},function(e){return O(t,e)})}(e,n):i===E?O(e,E.error):void 0===i?D(e,n):t(i)?function(t,e,n){l(function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?R(t,n):D(t,n))},function(e){i||(i=!0,O(t,e))},t._label);!i&&r&&(i=!0,O(t,r))},t)}(e,n,i):D(e,n)}function R(t,e){var n;t===e?O(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=e)||"object"==typeof n&&null!==n?A(t,e,S(e)):D(t,e)}function L(t){t._onerror&&t._onerror(t._result),P(t)}function D(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&l(P,t))}function O(t,e){void 0===t._state&&(t._state=2,t._result=e,l(L,t))}function I(t,e,n,i){var r=t._subscribers,a=r.length;t._onerror=null,r[a]=e,r[a+1]=n,r[a+2]=i,0===a&&t._state&&l(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,a=t._result,o=0;o<e.length;o+=3)i=e[o],r=e[o+n],i?F(n,i,r,a):r(a);t._subscribers.length=0}}function N(){this.error=null}var M=new N;function F(e,n,i,r){var a=t(i),o=void 0,s=void 0,l=void 0,c=void 0;if(a){if((o=function(t,e){try{return t(e)}catch(t){return M.error=t,M}}(i,r))===M?(c=!0,s=o.error,o=null):l=!0,n===o)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else o=r,l=!0;void 0!==n._state||(a&&l?R(n,o):c?O(n,s):1===e?D(n,o):2===e&&O(n,o))}var j=0;function B(t){t[k]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}function U(t,e){this._instanceConstructor=t,this.promise=new t(C),this.promise[k]||B(this.promise),r(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}function $(t){this[k]=j++,this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $?function(t,e){try{e(function(e){R(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function q(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=$}return U.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;void 0===this._state&&n<t;n++)this._eachEntry(e[n],n)},U.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===T){var r=S(t);if(r===x&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===$){var a=new n(C);A(a,t,r),this._willSettleAt(a,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},U.prototype._settledAt=function(t,e,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===t?O(i,n):this._result[e]=n),0===this._remaining&&D(i,this._result)},U.prototype._willSettleAt=function(t,e){var n=this;I(t,void 0,function(t){return n._settledAt(1,e,t)},function(t){return n._settledAt(2,e,t)})},$.all=function(t){return new U(this,t).promise},$.race=function(t){var e=this;return r(t)?new e(function(n,i){for(var r=t.length,a=0;a<r;a++)e.resolve(t[a]).then(n,i)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},$.resolve=T,$.reject=function(t){var e=new this(C);return O(e,t),e},$._setScheduler=function(t){s=t},$._setAsap=function(t){l=t},$._asap=l,$.prototype={constructor:$,then:x,catch:function(t){return this.then(null,t)}},q(),$.polyfill=q,$.Promise=$,$},t.exports=r()}).call(this,n("8oxB"),n("yLpj"))},E5uR:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".module-share-btn[data-v-45c6ab24]{padding:15px 20px}.module-share-btn .module-share-cancel[data-v-45c6ab24]{font-size:16px;line-height:43px;display:block;height:43px;padding:0 20px;color:#fff;border-radius:7px;background:#625e6b}",""])},"EC+5":function(t,e,n){var i=n("pF6W");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},ECdn:function(t,e,n){"use strict";n.r(e);var i={name:"Aside",created:function(){this.$router.push({path:"/timeline"});var t=window.location.hash.replace("#/","");this.route_path=t,this.fetchData()},computed:{},methods:{show:function(t){if("all"==t)this.follows_showing=this.follows;else for(var e in this.follows_showing=[],this.follows){var n=this.follows[e];n.type==t&&this.follows_showing.push(n)}},fetchData:function(){var t=this,e=window.tokenize("/api/follows");window.axios.get(e).then(function(e){t.follows=e.data,t.follows_showing=e.data})}},data:function(){return{route_path:"timeline",follows:[],follows_showing:[]}}},r=(n("A5qx"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside"},[t._m(0),t._v(" "),n("ul",{staticClass:"dropdown-menu"},[n("li",[n("a",{staticClass:"link",attrs:{href:"javascript:;"},on:{click:function(e){return t.show("all")}}},[t._v("全部关注")])]),t._v(" "),n("li",[n("a",{staticClass:"link",attrs:{href:"javascript:;"},on:{click:function(e){return t.show("users")}}},[t._v("只看作者")])]),t._v(" "),n("li",[n("a",{staticClass:"link",attrs:{href:"javascript:;"},on:{click:function(e){return t.show("categories")}}},[t._v("只看专题")])]),t._v(" "),n("li",[n("a",{staticClass:"link",attrs:{href:"javascript:;"},on:{click:function(e){return t.show("collections")}}},[t._v("只看文集")])]),t._v(" "),t._m(1)]),t._v(" "),n("router-link",{attrs:{to:"/recommend","active-class":"active-add-people"}},[n("a",{staticClass:"add-people",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-guanzhu"}),n("span",{staticClass:"hidden-xs"},[t._v("添加关注")])])]),t._v(" "),n("ul",{staticClass:"follow-list"},[n("router-link",{attrs:{to:"/timeline",tag:"li","active-class":"active"}},[n("a",{staticClass:"follow-warp",attrs:{href:"javascript:;"}},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:"/images/timeline.png",alt:""}})]),t._v(" "),n("div",{staticClass:"name"},[t._v("城友圈")])])]),t._v(" "),t._l(t.follows_showing,function(e){return n("router-link",{key:e.id,attrs:{to:"/"+e.type+"/"+e.id,tag:"li","active-class":"active"}},[n("a",{staticClass:"follow-warp",attrs:{href:"javascript:;"}},[n("div",{class:"users"==e.type?"avatar":"avatar-category"},[n("img",{attrs:{src:e.img,alt:""}})]),t._v(" "),n("div",{staticClass:"name single-line"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"count hidden-xs"},[t._v(t._s(e.updates))])])])})],2)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"change-type",attrs:{href:"javascript:;","data-toggle":"dropdown","aria-expanded":"false"}},[e("span",{staticClass:"hidden-xs"},[this._v("全部关注")]),e("i",{staticClass:"iconfont icon-xialaxuan"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"link",attrs:{href:"javascript:;"}},[this._v("只看"),e("b",{staticClass:"hidden-xs",staticStyle:{"font-weight":"400"}},[this._v("推送")]),this._v("更新")])])}],!1,null,"6ef40d02",null);e.default=a.exports},EK3o:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".fade-enter-active[data-v-33b5a35b]{transition:opacity .3s}.fade-leave-active[data-v-33b5a35b]{transition:opacity .5s}.fade-enter[data-v-33b5a35b],.fade-leave-to[data-v-33b5a35b]{opacity:0}",""])},ELvi:function(t,e,n){"use strict";n.r(e);var i={name:"Like",props:["id","type","isLogin","liked"],computed:{isLiked:function(){return null!==this.is_liked?this.is_liked:this.liked}},created:function(){this.fetchData()},methods:{api:function(){var t="/api/like/"+this.id+"/"+this.type;return window.tokenize?window.tokenize(t):t+"/guest"},fetchData:function(){var t=this;window.axios.get(this.api()).then(function(e){t.is_liked=e.data.is_liked,t.likes=e.data.likes.data,t.likesTotal=e.data.likes.total})},toggle_like:function(){this.is_liked=!this.is_liked,this.is_liked?this.likesTotal++:this.likesTotal--;var t=this;window.axios.post(this.api()).then(function(e){t.is_liked=e.data.is_liked,t.likes=e.data.likes.data,t.likesTotal=e.data.likes.total})}},data:function(){return{is_liked:null,likesTotal:1,likes:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"likeButton"},[n("div",{class:["btn-base",t.isLiked?"btn-theme":"theme-tag"]},[t.isLogin?n("div",{staticClass:"btn-like",on:{click:t.toggle_like}},[n("a",[n("i",{class:t.isLiked?"iconfont icon-03xihuan":"iconfont icon-xin"}),t._v("\n        喜欢\n      ")])]):n("a",{attrs:{href:"/login"}},[t._m(0)])]),t._v(" "),t.isLogin?n("modal-like-user",{attrs:{id:t.id,type:t.type,likes:t.likes}}):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-like"},[e("a",[e("i",{staticClass:"iconfont icon-xin"}),this._v("\n        喜欢\n      ")])])}],!1,null,"192d2e5b",null);e.default=a.exports},ENV9:function(t,e,n){"use strict";var i=n("skpj");n.n(i).a},EQG1:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal.modal-admire .modal-dialog.weixin-pay[data-v-bda0fe94]{width:370px}.modal.modal-admire .modal-dialog .modal-content .modal-header[data-v-bda0fe94]{padding:15px 20px 0;border-bottom:none}.modal.modal-admire .modal-dialog .modal-content .modal-body[data-v-bda0fe94]{height:auto}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward[data-v-bda0fe94]{margin:0 auto;padding:0 60px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .reward-intro[data-v-bda0fe94]{margin-bottom:20px;font-size:16px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .reward-intro .avatar[data-v-bda0fe94]{width:36px;height:36px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .reward-intro .intro[data-v-bda0fe94]{margin-right:5px;font-weight:700;vertical-align:middle}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .reward-intro i[data-v-bda0fe94]{color:#d96a5f;vertical-align:middle}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs[data-v-bda0fe94]{margin:25px 0}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group[data-v-bda0fe94]{margin:0 -5px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option[data-v-bda0fe94]{position:relative;margin:0 5px 15px;width:155px;height:56px;line-height:54px;border:1px solid #e6e6e6;border-radius:4px;font-weight:400;color:#999;cursor:pointer}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option i[data-v-bda0fe94]{vertical-align:sub}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .amount[data-v-bda0fe94]{font-size:28px;vertical-align:middle}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .piece[data-v-bda0fe94]{font-size:13px;vertical-align:sub}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-text[data-v-bda0fe94]{font-size:16px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-amount-input[data-v-bda0fe94]{position:absolute;top:0;z-index:-1;width:100%;opacity:0}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-amount-input i[data-v-bda0fe94]{position:absolute;top:0;left:10px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-amount-input input[data-v-bda0fe94]{display:block;margin:0 auto;width:80px;height:54px;line-height:54px;border:none;font-size:28px;text-align:center;background:transparent}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-amount-input input[data-v-bda0fe94]::-webkit-inner-spin-button,.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-amount-input input[data-v-bda0fe94]::-webkit-outer-spin-button{-webkit-appearance:none!important;margin:0}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option .custom-amount-input .piece[data-v-bda0fe94]{position:absolute;top:0;right:10px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group input[data-v-bda0fe94]{display:none}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group input:checked+.option[data-v-bda0fe94]{color:#d96a5f;border-color:#d96a5f}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group input:checked+.option .custom-amount-input[data-v-bda0fe94]{z-index:1;opacity:1}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group input:checked+.option .custom-text[data-v-bda0fe94]{opacity:0}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .message[data-v-bda0fe94]{font-size:14px;color:#333}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .message textarea[data-v-bda0fe94]{font-size:14px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .reward-info[data-v-bda0fe94]{font-size:28px;font-weight:700;color:#d96a5f}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay[data-v-bda0fe94]{margin:0 -5px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option[data-v-bda0fe94]{margin:20px 5px 10px;width:155px;height:56px;line-height:54px;text-align:center;border:1px solid #e6e6e6;border-radius:4px;cursor:pointer}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option img[data-v-bda0fe94]{height:30px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option img.wechat[data-v-bda0fe94]{min-width:112px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option img.alipay[data-v-bda0fe94]{min-width:85px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay input[data-v-bda0fe94]{display:none}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay input:checked+.option[data-v-bda0fe94]{color:#d96a5f;border-color:#d96a5f}@media screen and (max-width:600px){.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .main-inputs .amount-group .option[data-v-bda0fe94]{width:46%;margin:0 1% 15px;height:50px;line-height:48px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option[data-v-bda0fe94]{margin:20px 1.5% 10px;width:45%;height:50px;line-height:48px}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option img.alipay[data-v-bda0fe94],.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option img.wechat[data-v-bda0fe94]{min-width:unset;max-width:90%;height:60%}.modal.modal-admire .modal-dialog .modal-content .modal-body .new-reward .choose-pay .option .custom-amount-input input[data-v-bda0fe94]{height:50px;line-height:48px}}.modal.modal-admire .modal-dialog .modal-content .modal-body .wx-qr-code[data-v-bda0fe94]{display:inline-block}.modal.modal-admire .modal-dialog .modal-content .modal-body .wx-qr-code h3[data-v-bda0fe94]{margin-bottom:20px;color:#333}.modal.modal-admire .modal-dialog .modal-content .modal-body .wx-qr-code .qr-code img[data-v-bda0fe94]{margin:0 auto;padding:10px;width:200px;background-color:#fff}.modal.modal-admire .modal-dialog .modal-content .modal-body .wx-qr-code .pay-amount[data-v-bda0fe94]{margin:20px 0;color:#787878;font-size:18px}.modal.modal-admire .modal-dialog .modal-content .modal-body .wx-qr-code .pay-amount span[data-v-bda0fe94]{color:#d96a5f}.modal.modal-admire .modal-dialog .modal-content .modal-footer[data-v-bda0fe94]{padding:20px 15px;border:none;background-color:transparent;text-align:center}",""])},EVdn:function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},c=a.push,u=a.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h=p.toString,m=h.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},b=n.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,a=(n=n||b).createElement("script");if(a.text=t,e)for(i in _)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t}var T=function(t,e){return new T.fn.init(t,e)};function k(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:"3.5.1",constructor:T,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},T.extend=T.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||v(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(c&&i&&(T.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[e],a=r&&!Array.isArray(n)?[]:r||T.isPlainObject(n)?n:{},r=!1,o[e]=T.extend(c,a,i)):void 0!==i&&(o[e]=i));return o},T.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t)||(e=o(t))&&("function"!=typeof(n=p.call(e,"constructor")&&e.constructor)||h.call(n)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(k(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(k(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return l(o)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=a[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var C=function(t){var e,n,i,r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_="sizzle"+1*new Date,w=t.document,x=0,T=0,k=lt(),C=lt(),E=lt(),S=lt(),A=function(t,e){return t===e&&(d=!0),0},R={}.hasOwnProperty,L=[],D=L.pop,O=L.push,I=L.push,P=L.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+F+"*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",U=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",$=new RegExp(F+"+","g"),q=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),H=new RegExp("^"+F+"*,"+F+"*"),z=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),G=new RegExp(F+"|>"),K=new RegExp(U),V=new RegExp("^"+j+"$"),W={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){f()},ot=_t(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(L=P.call(w.childNodes),w.childNodes),L[w.childNodes.length].nodeType}catch(t){I={apply:L.length?function(t,e){O.apply(t,P.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var a,s,c,u,d,h,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&(f(e),e=e||p,m)){if(11!==w&&(d=Z.exec(t)))if(a=d[1]){if(9===w){if(!(c=e.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(y&&(c=y.getElementById(a))&&b(e,c)&&c.id===a)return i.push(c),i}else{if(d[2])return I.apply(i,e.getElementsByTagName(t)),i;if((a=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return I.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!S[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&(G.test(t)||z.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=_)),s=(h=o(t)).length;s--;)h[s]=(u?"#"+u:":scope")+" "+bt(h[s]);v=h.join(",")}try{return I.apply(i,y.querySelectorAll(v)),i}catch(e){S(t,!0)}finally{u===_&&e.removeAttribute("id")}}}return l(t.replace(q,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ct(t){return t[_]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct(function(e){return e=+e,ct(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},a=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||"HTML")},f=st.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!=p&&9===o.nodeType&&o.documentElement?(h=(p=o).documentElement,m=!a(p),w!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",at,!1):r.attachEvent&&r.attachEvent("onunload",at)),n.scope=ut(function(t){return h.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ut(function(t){return h.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(ut(function(t){var e;h.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+M+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",U)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(h.compareDocumentPosition),b=e||J.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==w&&b(w,t)?-1:e==p||e.ownerDocument==w&&b(w,e)?1:u?N(u,t)-N(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t==p?-1:e==p?1:r?-1:a?1:u?N(u,t)-N(u,e):0;if(r===a)return ft(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ft(o[i],s[i]):o[i]==w?-1:s[i]==w?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(f(t),n.matchesSelector&&m&&!S[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=p&&f(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=p&&f(t);var r=i.attrHandle[e.toLowerCase()],a=r&&R.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==a?a:n.attributes||!m?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(A),d){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return u=null,t},r=st.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=st.selectors={cacheLength:50,createPseudo:ct,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&K.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,f,p,h,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===t&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&y){for(b=(p=(c=(u=(d=(f=g)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[x,p,b];break}}else if(y&&(b=p=(c=(u=(d=(f=e)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]=[x,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=N(t,a[o])]=!(n[i]=a[o])}):function(t){return r(t,0,n)}):r}},pseudos:{not:ct(function(t){var e=[],n=[],i=s(t.replace(q,"$1"));return i[_]?ct(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:ct(function(t){return function(e){return st(t,e).length>0}}),contains:ct(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:ct(function(t){return V.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt(function(){return[0]}),last:gt(function(t,e){return[e-1]}),eq:gt(function(t,e,n){return[n<0?n+e:n]}),even:gt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:gt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:gt(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:gt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ht(e);function yt(){}function bt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,r=e.next,a=r||i,o=n&&"parentNode"===a,s=T++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,l){var c,u,d,f=[x,s];if(l){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(u=(d=e[_]||(e[_]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[a])&&c[0]===x&&c[1]===s)return f[2]=c[2];if(u[a]=f,f[2]=t(e,n,l))return!0}return!1}}function wt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),c&&e.push(s)));return o}function Tt(t,e,n,i,r,a){return i&&!i[_]&&(i=Tt(i)),r&&!r[_]&&(r=Tt(r,a)),ct(function(a,o,s,l){var c,u,d,f=[],p=[],h=o.length,m=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!a&&e?m:xt(m,f,t,s,l),v=n?r||(a?t:h||i)?[]:o:g;if(n&&n(g,v,s,l),i)for(c=xt(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(a){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?N(a,d):f[u])>-1&&(a[c]=!(o[c]=d))}}else v=xt(v===o?v.splice(h,v.length):v),r?r(null,o,v,l):I.apply(o,v)})}function kt(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],l=o?1:0,u=_t(function(t){return t===e},s,!0),d=_t(function(t){return N(e,t)>-1},s,!0),f=[function(t,n,i){var r=!o&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];l<a;l++)if(n=i.relative[t[l].type])f=[_t(wt(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<a&&!i.relative[t[r].type];r++);return Tt(l>1&&wt(f),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&kt(t.slice(l,r)),r<a&&kt(t=t.slice(r)),r<a&&bt(t))}f.push(n)}return wt(f)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,o=st.tokenize=function(t,e){var n,r,a,o,s,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(o in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=z.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(q," ")}),s=s.slice(n.length)),i.filter)!(r=W[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):C(t,l).slice(0)},s=st.compile=function(t,e){var n,r=[],a=[],s=E[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=kt(e[n]))[_]?r.push(s):a.push(s);(s=E(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,l,u){var d,h,g,v=0,y="0",b=a&&[],_=[],w=c,T=a||r&&i.find.TAG("*",u),k=x+=null==w?1:Math.random()||.1,C=T.length;for(u&&(c=o==p||o||u);y!==C&&null!=(d=T[y]);y++){if(r&&d){for(h=0,o||d.ownerDocument==p||(f(d),s=!m);g=t[h++];)if(g(d,o||p,s)){l.push(d);break}u&&(x=k)}n&&((d=!g&&d)&&v--,a&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=e[h++];)g(b,_,o,s);if(a){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=D.call(l));_=xt(_)}I.apply(l,_),u&&!a&&_.length>0&&v+e.length>1&&st.uniqueSort(l)}return u&&(x=k,c=w),b};return n?ct(a):a}(a,r))).selector=t}return s},l=st.select=function(t,e,n,r){var a,l,c,u,d,f="function"==typeof t&&t,p=!r&&o(t=f.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&m&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(a=W.needsContext.test(t)?0:l.length;a--&&(c=l[a],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(a,1),!(t=r.length&&bt(l)))return I.apply(n,r),n;break}}return(f||s(t,p))(r,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=_.split("").sort(A).join("")===_,n.detectDuplicates=!!d,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||dt(M,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),st}(n);T.find=C,T.expr=C.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=C.uniqueSort,T.text=C.getText,T.isXMLDoc=C.isXML,T.contains=C.contains,T.escapeSelector=C.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&T(t).is(n))break;i.push(t)}return i},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=T.expr.match.needsContext;function R(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,n){return v(e)?T.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?T.grep(t,function(t){return t===e!==n}):"string"!=typeof e?T.grep(t,function(t){return u.call(e,t)>-1!==n}):T.filter(e,t,n)}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<i;e++)if(T.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)T.find(t,r[e],n);return i>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&A.test(t)?T(t):t||[],!1).length}});var O,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||O,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),L.test(i[1])&&T.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,O=T(b);var P=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,a=[],o="string"!=typeof t&&T(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?T.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(T(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return M(t,"nextSibling")},prev:function(t){return M(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(R(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(t,e){T.fn[t]=function(n,i){var r=T.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=T.filter(i,r)),this.length>1&&(N[t]||T.uniqueSort(r),P.test(t)&&r.reverse()),this.pushStack(r)}});var F=/[^\x20\t\r\n\f]+/g;function j(t){return t}function B(t){throw t}function U(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(F)||[],function(t,n){e[n]=!0}),e}(t):T.extend({},t);var e,n,i,r,a=[],o=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){T.each(n,function(n,i){v(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==x(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return T.each(arguments,function(t,e){for(var n;(n=T.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?T.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||e||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return T.Deferred(function(n){T.each(e,function(e,i){var r=v(t[i[4]])&&t[i[4]];a[i[1]](function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var a=0;function o(t,e,i,r){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(t<a)){if((n=i.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?r?c.call(n,o(a,e,j,r),o(a,e,B,r)):(a++,c.call(n,o(a,e,j,r),o(a,e,B,r),o(a,e,j,e.notifyWith))):(i!==j&&(s=void 0,l=[n]),(r||e.resolveWith)(s,l))}},u=r?c:function(){try{c()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,u.stackTrace),t+1>=a&&(i!==B&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?u():(T.Deferred.getStackHook&&(u.stackTrace=T.Deferred.getStackHook()),n.setTimeout(u))}}return T.Deferred(function(n){e[0][3].add(o(0,n,v(r)?r:j,n.notifyWith)),e[1][3].add(o(0,n,v(t)?t:j)),e[2][3].add(o(0,n,v(i)?i:B))}).promise()},promise:function(t){return null!=t?T.extend(t,r):r}},a={};return T.each(e,function(t,n){var o=n[2],s=n[5];r[n[1]]=o.add,s&&o.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=o.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),a=T.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||a.resolveWith(i,r)}};if(e<=1&&(U(t,a.done(o(n)).resolve,a.reject,!e),"pending"===a.state()||v(r[n]&&r[n].then)))return a.then();for(;n--;)U(r[n],o(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&$.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){n.setTimeout(function(){throw t})};var q=T.Deferred();function H(){b.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),T.ready()}T.fn.ready=function(t){return q.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||q.resolveWith(b,[T]))}}),T.ready.then=q.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var z=function(t,e,n,i,r,a,o){var s=0,l=t.length,c=null==n;if("object"===x(n))for(s in r=!0,n)z(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(T(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):a},G=/^-ms-/,K=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function W(t){return t.replace(G,"ms-").replace(K,V)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=T.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[W(e)]=n;else for(i in e)r[W(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(W):(e=W(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||T.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var Q=new X,J=new X,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return J.hasData(t)||Q.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=J.get(a),1===a.nodeType&&!Q.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=W(i.slice(5)),et(a,i,r[i]));Q.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){J.set(this,t)}):z(this,function(e){var n;if(a&&void 0===e)return void 0!==(n=J.get(a,t))||void 0!==(n=et(a,t))?n:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),T.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,r=n.shift(),a=T._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){T.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:T.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",n])})})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each(function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=T.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=Q.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],at=b.documentElement,ot=function(t){return T.contains(t.ownerDocument,t)},st={composed:!0};at.getRootNode&&(ot=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===T.css(t,"display")};function ct(t,e,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return T.css(t,e,"")},l=s(),c=n&&n[3]||(T.cssNumber[e]?"":"px"),u=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+l)&&it.exec(T.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)T.style(t,e,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),u/=a;u*=2,T.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ut={};function dt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=T.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ft(t,e){for(var n,i,r=[],a=0,o=t.length;a<o;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(r[a]=Q.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&lt(i)&&(r[a]=dt(i))):"none"!==n&&(r[a]="none",Q.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}T.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){lt(this)?T(this).show():T(this).hide()})}});var pt,ht,mt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;pt=b.createDocumentFragment().appendChild(b.createElement("div")),(ht=b.createElement("input")).setAttribute("type","radio"),ht.setAttribute("checked","checked"),ht.setAttribute("name","t"),pt.appendChild(ht),g.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",g.option=!!pt.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&R(t,e)?T.merge([t],n):n}function _t(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,g.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var a,o,s,l,c,u,d=e.createDocumentFragment(),f=[],p=0,h=t.length;p<h;p++)if((a=t[p])||0===a)if("object"===x(a))T.merge(f,a.nodeType?[a]:a);else if(wt.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(gt.exec(a)||["",""])[1].toLowerCase(),l=yt[s]||yt._default,o.innerHTML=l[1]+T.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;T.merge(f,o.childNodes),(o=d.firstChild).textContent=""}else f.push(e.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(i&&T.inArray(a,i)>-1)r&&r.push(a);else if(c=ot(a),o=bt(d.appendChild(a),"script"),c&&_t(o),n)for(u=0;a=o[u++];)vt.test(a.type||"")&&n.push(a);return d}var Tt=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ct=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function St(){return!1}function At(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Rt(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Rt(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=St;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return T().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=T.guid++)),t.each(function(){T.event.add(this,e,r,i,n)})}function Lt(t,e,n){n?(Q.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var i,r,a=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=s.call(arguments),Q.set(this,e,a),i=n(this,e),this[e](),a!==(r=Q.get(this,e))||i?Q.set(this,e,!1):r={},a!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else a.length&&(Q.set(this,e,{value:T.event.trigger(T.extend(a[0],T.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&T.event.add(t,e,Et)}T.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,m,g=Q.get(t);if(Y(t))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&T.find.matchesSelector(at,r),n.guid||(n.guid=T.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(F)||[""]).length;c--;)p=m=(s=Ct.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=T.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=T.event.special[p]||{},u=T.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:h.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),T.event.global[p]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,m,g=Q.hasData(t)&&Q.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(F)||[""]).length;c--;)if(p=m=(s=Ct.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=T.event.special[p]||{},f=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(t,u));o&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,h,g.handle)||T.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)T.event.remove(t,p+e[c],n,i,!0);T.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,o,s=new Array(arguments.length),l=T.event.fix(t),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],u=T.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=T.event.handlers.call(this,l,c),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(i=((T.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,a,o,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?T(r,this).index(c)>-1:T.find(r,this,null,[c]).length),o[r]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&R(e,"input")&&Lt(e,"click",Et),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&R(e,"input")&&Lt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&R(e,"input")&&Q.get(e,"click")||R(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(t,e){T.event.special[t]={setup:function(){return Lt(this,t,At),!1},trigger:function(){return Lt(this,t),!0},delegateType:e}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||T.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),T.fn.extend({on:function(t,e,n,i){return Rt(this,t,e,n,i)},one:function(t,e,n,i){return Rt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each(function(){T.event.remove(this,t,n,e)})}});var Dt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return R(t,"table")&&R(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,i,r,a,o,s;if(1===e.nodeType){if(Q.hasData(t)&&(s=Q.get(t).events))for(r in Q.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)T.event.add(e,r,s[r][n]);J.hasData(t)&&(a=J.access(t),o=T.extend({},a),J.set(e,o))}}function jt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=l(e);var r,a,o,s,c,u,d=0,f=t.length,p=f-1,h=e[0],m=v(h);if(m||f>1&&"string"==typeof h&&!g.checkClone&&Ot.test(h))return t.each(function(r){var a=t.eq(r);m&&(e[0]=h.call(this,r,a.html())),Bt(a,e,n,i)});if(f&&(a=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=T.map(bt(r,"script"),Nt)).length;d<f;d++)c=r,d!==p&&(c=T.clone(c,!0,!0),s&&T.merge(o,bt(c,"script"))),n.call(t[d],c,d);if(s)for(u=o[o.length-1].ownerDocument,T.map(o,Mt),d=0;d<s;d++)c=o[d],vt.test(c.type||"")&&!Q.access(c,"globalEval")&&T.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(It,""),c,u))}return t}function Ut(t,e,n){for(var i,r=e?T.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||T.cleanData(bt(i)),i.parentNode&&(n&&ot(i)&&_t(bt(i,"script")),i.parentNode.removeChild(i));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),l=ot(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(o=bt(s),i=0,r=(a=bt(t)).length;i<r;i++)jt(a[i],o[i]);if(e)if(n)for(a=a||bt(t),o=o||bt(s),i=0,r=a.length;i<r;i++)Ft(a[i],o[i]);else Ft(t,s);return(o=bt(s,"script")).length>0&&_t(o,!l&&bt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=T.event.special,a=0;void 0!==(n=t[a]);a++)if(Y(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?T.event.remove(n,i):T.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return z(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Bt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Bt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Bt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Bt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!yt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(bt(this)),n&&n.replaceChild(e,this))},t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){T.fn[t]=function(t){for(var n,i=[],r=T(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),T(r[o])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var $t=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=function(t,e,n){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=a[r];return i},zt=new RegExp(rt.join("|"),"i");function Gt(t,e,n){var i,r,a,o,s=t.style;return(n=n||qt(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||ot(t)||(o=T.style(t,e)),!g.pixelBoxStyles()&&$t.test(o)&&zt.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),r=36===e(t.width),u.style.position="absolute",a=12===e(u.offsetWidth/3),at.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,a,o,s,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,e,i,r;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",at.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),s=parseInt(r.height)>3,at.removeChild(t)),s}}))}();var Vt=["Webkit","Moz","ms"],Wt=b.createElement("div").style,Yt={};function Xt(t){return T.cssProps[t]||Yt[t]||(t in Wt?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Wt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ne(t,e,n,i,r,a){var o="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=T.css(t,n+rt[o],!0,r)),i?("content"===n&&(l-=T.css(t,"padding"+rt[o],!0,r)),"margin"!==n&&(l-=T.css(t,"border"+rt[o]+"Width",!0,r))):(l+=T.css(t,"padding"+rt[o],!0,r),"padding"!==n?l+=T.css(t,"border"+rt[o]+"Width",!0,r):s+=T.css(t,"border"+rt[o]+"Width",!0,r));return!i&&a>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))||0),l}function ie(t,e,n){var i=qt(t),r=(!g.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,i),a=r,o=Gt(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if($t.test(o)){if(!n)return o;o="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&R(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===T.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===T.css(t,"boxSizing",!1,i),(a=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+ne(t,e,n||(r?"border":"content"),a,i,o)+"px"}function re(t,e,n,i,r){return new re.prototype.init(t,e,n,i,r)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=W(e),l=Jt.test(e),c=t.style;if(l||(e=Xt(s)),o=T.cssHooks[e]||T.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:c[e];"string"==(a=typeof n)&&(r=it.exec(n))&&r[1]&&(n=ct(t,e,r),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=r&&r[3]||(T.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,a,o,s=W(e);return Jt.test(e)||(e=Xt(s)),(o=T.cssHooks[e]||T.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Gt(t,e,i)),"normal"===r&&e in te&&(r=te[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),T.each(["height","width"],function(t,e){T.cssHooks[e]={get:function(t,n,i){if(n)return!Qt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,i):Ht(t,Zt,function(){return ie(t,e,i)})},set:function(t,n,i){var r,a=qt(t),o=!g.scrollboxSize()&&"absolute"===a.position,s=(o||i)&&"border-box"===T.css(t,"boxSizing",!1,a),l=i?ne(t,e,i,s,a):0;return s&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-ne(t,e,"border",!1,a)-.5)),l&&(r=it.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),ee(0,n,l)}}}),T.cssHooks.marginLeft=Kt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(t,e){T.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=a[i]||a[i-2]||a[0];return r}},"margin"!==t&&(T.cssHooks[t+e].set=ee)}),T.fn.extend({css:function(t,e){return z(this,function(t,e,n){var i,r,a={},o=0;if(Array.isArray(e)){for(i=qt(t),r=e.length;o<r;o++)a[e[o]]=T.css(t,e[o],!1,i);return a}return void 0!==n?T.style(t,e,n):T.css(t,e)},t,e,arguments.length>1)}}),T.Tween=re,re.prototype={constructor:re,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(T.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=re.prototype.init,T.fx.step={};var ae,oe,se=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ce(){oe&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,T.fx.interval),T.fx.tick())}function ue(){return n.setTimeout(function(){ae=void 0}),ae=Date.now()}function de(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function fe(t,e,n){for(var i,r=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function pe(t,e,n){var i,r,a=0,o=pe.prefilters.length,s=T.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ae||ue(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return s.notifyWith(t,[c,i,n]),i<1&&o?n:(o||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var i=T.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=W(n)],a=t[n],Array.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=T.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);a<o;a++)if(i=pe.prefilters[a].call(c,t,u,c.opts))return v(i.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return T.map(u,fe,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],pe.tweeners[n]=pe.tweeners[n]||[],pe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,c,u,d="width"in e||"height"in e,f=this,p={},h=t.style,m=t.nodeType&&lt(t),g=Q.get(t,"fxshow");for(i in n.queue||(null==(o=T._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,T.queue(t,"fx").length||o.empty.fire()})})),e)if(r=e[i],se.test(r)){if(delete e[i],a=a||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||T.style(t,i)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(p))for(i in d&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=Q.get(t,"display")),"none"===(u=T.css(t,"display"))&&(c?u=c:(ft([t],!0),c=t.style.display||c,u=T.css(t,"display"),ft([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(t,"float")&&(l||(f.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(t,"fxshow",{display:c}),a&&(g.hidden=!m),m&&ft([t],!0),f.done(function(){for(i in m||ft([t]),Q.remove(t,"fxshow"),p)T.style(t,i,p[i])})),l=fe(m?g[i]:0,i,f),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=T.isEmptyObject(t),a=T.speed(e,n,i),o=function(){var e=pe(this,T.extend({},t),a);(r||Q.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=T.timers,o=Q.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&le.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));!e&&n||T.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=T.timers,o=i?i.length:0;for(n.finish=!0,T.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(t,e){var n=T.fn[e];T.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(de(e,!0),t,i,r)}}),T.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){T.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),ae=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){oe||(oe=!0,ce())},T.fx.stop=function(){oe=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var he,me=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return z(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?T.prop(t,e,n):(1===a&&T.isXMLDoc(t)||(r=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=T.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&R(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var n=me[e]||T.find.attr;me[e]=function(t,e,i){var r,a,o=e.toLowerCase();return i||(a=me[o],me[o]=r,r=null!=n(t,e,i)?o:null,me[o]=a),r}});var ge=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(F)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}T.fn.extend({prop:function(t,e){return z(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&T.isXMLDoc(t)||(e=T.propFix[e]||e,r=T.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(v(t))return this.each(function(e){T(this).addClass(t.call(this,e,be(this)))});if((e=_e(t)).length)for(;n=this[l++];)if(r=be(n),i=1===n.nodeType&&" "+ye(r)+" "){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=ye(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(v(t))return this.each(function(e){T(this).removeClass(t.call(this,e,be(this)))});if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;n=this[l++];)if(r=be(n),i=1===n.nodeType&&" "+ye(r)+" "){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=ye(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(n){T(this).toggleClass(t.call(this,n,be(this),e),e)}):this.each(function(){var e,r,a,o;if(i)for(r=0,a=T(this),o=_e(t);e=o[r++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ye(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;T.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,T(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=T.map(r,function(t){return null==t?"":t+""})),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(we,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:ye(T.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?a+1:r.length;for(i=a<0?l:o?a:0;i<l;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(e=T(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,a=T.makeArray(e),o=r.length;o--;)((i=r[o]).selected=T.inArray(T.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},g.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),g.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,i,r){var a,o,s,l,c,u,d,f,h=[i||b],m=p.call(t,"type")?t.type:t,g=p.call(t,"namespace")?t.namespace.split("."):[];if(o=f=s=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!xe.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[T.expando]?t:new T.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:T.makeArray(e,[t]),d=T.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,xe.test(l+m)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(i.ownerDocument||b)&&h.push(s.defaultView||s.parentWindow||n)}for(a=0;(o=h[a++])&&!t.isPropagationStopped();)f=o,t.type=a>1?l:d.bindType||m,(u=(Q.get(o,"events")||Object.create(null))[t.type]&&Q.get(o,"handle"))&&u.apply(o,e),(u=c&&o[c])&&u.apply&&Y(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),e)||!Y(i)||c&&v(i[m])&&!y(i)&&((s=i[c])&&(i[c]=null),T.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,Te),i[m](),t.isPropagationStopped()&&f.removeEventListener(m,Te),T.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(t,e,n){var i=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(i,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),g.focusin||T.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}});var ke=n.location,Ce={guid:Date.now()},Ee=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Se=/\[\]$/,Ae=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function De(t,e,n,i){var r;if(Array.isArray(e))T.each(e,function(e,r){n||Se.test(t)?i(t,r):De(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==x(e))i(t,e);else for(r in e)De(t+"["+r+"]",e[r],n,i)}T.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){r(this.name,this.value)});else for(n in t)De(n,t[n],e,r);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Le.test(this.nodeName)&&!Re.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Oe=/%20/g,Ie=/#.*$/,Pe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Fe=/^\/\//,je={},Be={},Ue="*/".concat("*"),$e=b.createElement("a");function qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(F)||[];if(v(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function He(t,e,n,i){var r={},a=t===Be;function o(s){var l;return r[s]=!0,T.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function ze(t,e){var n,i,r=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&T.extend(!0,t,i),t}$e.href=ke.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,T.ajaxSettings),e):ze(T.ajaxSettings,t)},ajaxPrefilter:qe(je),ajaxTransport:qe(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,o,s,l,c,u,d,f,p=T.ajaxSetup({},e),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?T(h):T.event,g=T.Deferred(),v=T.Callbacks("once memory"),y=p.statusCode||{},_={},w={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=Ne.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),C(0,e),this}};if(g.promise(k),p.url=((t||p.url||ke.href)+"").replace(Fe,ke.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=$e.protocol+"//"+$e.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=T.param(p.data,p.traditional)),He(je,p,e,k),c)return k;for(d in(u=T.event&&p.global)&&0==T.active++&&T.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),r=p.url.replace(Ie,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Oe,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Ee.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Pe,"$1"),f=(Ee.test(r)?"&":"?")+"_="+Ce.guid+++f),p.url=r+f),p.ifModified&&(T.lastModified[r]&&k.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&k.setRequestHeader("If-None-Match",T.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ue+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,k,p)||c))return k.abort();if(x="abort",v.add(p.complete),k.done(p.success),k.fail(p.error),i=He(Be,p,e,k)){if(k.readyState=1,u&&m.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(s=n.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,i.send(_,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,o,l){var d,f,b,_,w,x=e;c||(c=!0,s&&n.clearTimeout(s),i=void 0,a=l||"",k.readyState=t>0?4:0,d=t>=200&&t<300||304===t,o&&(_=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,k,o)),!d&&T.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),_=function(t,e,n,i){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(p,_,k,d),d?(p.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=w),(w=k.getResponseHeader("etag"))&&(T.etag[r]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=_.state,f=_.data,d=!(b=_.error))):(b=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(e||x)+"",d?g.resolveWith(h,[f,x,k]):g.rejectWith(h,[k,x,b]),k.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[k,p,d?f:b]),v.fireWith(h,[k,x]),u&&(m.trigger("ajaxComplete",[k,p]),--T.active||T.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,e){T[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:r,data:n,success:i},T.isPlainObject(t)&&t))}}),T.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){T(this).wrapInner(t.call(this,e))}):this.each(function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(n){T(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ge={0:200,1223:204},Ke=T.ajaxSettings.xhr();g.cors=!!Ke&&"withCredentials"in Ke,g.ajax=Ke=!!Ke,T.ajaxTransport(function(t){var e,i;if(g.cors||Ke&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ge[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ve,We=[],Ye=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||T.expando+"_"+Ce.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,i){var r,a,o,s=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||T.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=n[r],n[r]=function(){o=arguments},i.always(function(){void 0===a?T(n).removeProp(r):n[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),o&&v(a)&&a(o[0]),o=a=void 0}),"script"}),g.createHTMLDocument=((Ve=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((i=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(i)):e=b),a=!n&&[],(r=L.exec(t))?[e.createElement(r[1])]:(r=xt([t],e,a),a&&a.length&&T(a).remove(),T.merge([],r.childNodes)));var i,r,a},T.fn.load=function(t,e,n){var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=ye(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&T.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,c=T.css(t,"position"),u=T(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=T.css(t,"top"),l=T.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,T.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),u.css(d))}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===T.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),r.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-T.css(i,"marginTop",!0),left:e.left-r.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||at})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;T.fn[t]=function(i){return z(this,function(t,i,r){var a;if(y(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r},t,i,arguments.length)}}),T.each(["top","left"],function(t,e){T.cssHooks[e]=Kt(g.pixelPosition,function(t,n){if(n)return n=Gt(t,e),$t.test(n)?T(t).position()[e]+"px":n})}),T.each({Height:"height",Width:"width"},function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){T.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===a?"margin":"border");return z(this,function(e,n,r){var a;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===r?T.css(e,n,s):T.style(e,n,r,s)},e,o?r:void 0,o)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var Xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||T.guid++,r},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=R,T.isFunction=v,T.isWindow=y,T.camelCase=W,T.type=x,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(Xe,"")},void 0===(i=function(){return T}.apply(e,[]))||(t.exports=i);var Qe=n.jQuery,Je=n.$;return T.noConflict=function(t){return n.$===T&&(n.$=Je),t&&n.jQuery===T&&(n.jQuery=Qe),T},void 0===r&&(n.jQuery=n.$=T),T})},Ejw7:function(t,e,n){"use strict";var i=n("YfZI");n.n(i).a},FBYH:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'@charset "UTF-8";.deleted-answer{opacity:.2}.tool-cabinet .bottom-tool{font-size:0;margin:20px 0}.tool-cabinet .bottom-tool .action-btn{background:none;height:20px;line-height:20px;color:#969696;margin-right:36px;font-size:14px}.tool-cabinet .bottom-tool .action-btn.no-margin{margin-right:0}.tool-cabinet .bottom-tool .action-btn i{margin-right:4px}.tool-cabinet .bottom-tool .action-btn.answer-btn{color:#2b89ca}.tool-cabinet .bottom-tool .action-btn.like.active,.tool-cabinet .bottom-tool .action-btn.like:hover{color:#d96a5f}.tool-cabinet .bottom-tool .action-btn.delete,.tool-cabinet .bottom-tool .action-btn.report{margin-right:0}.tool-cabinet .bottom-tool .action-btn:hover{color:#515151}@media screen and (max-width:600px){.tool-cabinet .bottom-tool .action-btn{margin-right:20px}}.tool-cabinet .bottom-tool .action-btn.accept{margin-right:20px;color:#d96a5f}.tool-cabinet .bottom-tool .action-btn.accept i{margin-right:0}.tool-cabinet .bottom-tool .action-btn.accept i.chacha{display:none;font-size:15px}.tool-cabinet .bottom-tool .action-btn.accept.already:hover i,.tool-cabinet .bottom-tool .action-btn.accept.already i.chacha{display:none}.tool-cabinet .bottom-tool .action-btn.accept.already:hover i.chacha{display:inline-block}.tool-cabinet .bottom-tool .action-btn.accept.already:hover span{display:none}.tool-cabinet .bottom-tool .action-btn.accept.already:hover:after{content:"\\53D6\\6D88\\91C7\\7EB3"}.tool-cabinet .bottom-tool.question-tool{margin:0 0 24px}.tool-cabinet .invite-answer{margin-bottom:36px;margin-top:-11px;overflow:hidden}.tool-cabinet .invite-answer .invite-user{border-top:1px solid #efefef}.tool-cabinet .invite-answer .invite-user .invite-status{height:50px;line-height:50px;color:#666;font-size:14px}.tool-cabinet .invite-answer .invite-user .invite-list{max-height:338px;overflow:auto;overflow-x:hidden;border-top:1px solid #f8f8f8}.tool-cabinet .invite-answer .invite-user .invite-list .note-info{width:98%;margin-top:20px}.tool-cabinet .invite-answer .invite-user .invite-list .note-info .btn-base{margin:4px 0 0 10px;padding:7px 18px;float:right}.tool-cabinet .invite-answer .invite-user .invite-list .note-info .btn-base.btn-follow{background-color:#2b89ca!important;border-color:#2b89ca!important}.tool-cabinet .invite-answer .invite-user .invite-list .note-info .btn-base i{font-size:16px}.tool-cabinet .comment-container{background-color:#f7f7f7;border-radius:2px;padding:0 20px}.tool-cabinet .comment-container .comment-item:last-of-type{border-bottom:none!important}.tool-cabinet .comment-container .btn-base.btn-handle{background-color:#2b89ca!important;border-color:#2b89ca!important}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(10%)}',""])},FbQ8:function(t,e,n){"use strict";n.r(e);var i={name:"MyVideoList",props:["user_id"],created:function(){this.loadData()},mounted:function(){},methods:{loadData:function(){var t=this,e="/api/user/"+this.user_id+"/videos";this.title&&(e=e+"?title="+this.title),this.$http.get(e).then(function(e){t.list=e.data.data})},select_video:function(t){$(".editable").summernote("restoreRange"),$(t.target).parent().hide();var e=$(t.target).attr("data-video-id"),n=$(t.target).attr("src");$(".editable").summernote("insertImage",n,function(t){});var i=$('input[name="image_url"]');return i.val(n),$('<input type="hidden" name="videos[]" value="'+e+'">').insertBefore(i),t.preventDefault(),!1}},data:function(){return{currentPage:1,allLoaded:!1,title:null,list:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row bottom10",attrs:{id:"my_videos"}},[n("div",{staticClass:"col-md-12 top10"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"视频所在文章标题..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.loadData}},[t._v("搜索")])])])]),t._v(" "),t._l(t.list,function(e){return n("div",{staticClass:"col-xs-4 col-md-3 top5"},[n("img",{staticClass:"img img-responsive",attrs:{src:e.cover,alt:e.title,"data-video-id":e.id},on:{click:t.select_video}}),t._v(" "),n("p",{staticClass:"strip_title"},[t._v(t._s(e.title))])])})],2)},[],!1,null,"54d76051",null);e.default=a.exports},FeXY:function(t,e,n){"use strict";var i=n("ABx6");n.n(i).a},FrCC:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".delete-notebook .modal-dialog .modal-body i{color:#d96a5f;font-size:52px}.delete-notebook .modal-dialog .modal-body span{font-size:20px}.delete-notebook .modal-dialog .clearfix .submit{margin-left:10px}",""])},Ftxl:function(t,e,n){"use strict";n.r(e);var i={name:"MyImageList",props:["user_id"],created:function(){this.loadData()},mounted:function(){},methods:{loadData:function(){var t=this,e="/api/user/"+this.user_id+"/images";this.title&&(e=e+"?title="+this.title),this.$http.get(e).then(function(e){t.list=e.data.data})},loadMore:function(){var t=this,e="/api/user/"+this.user_id+"/images?page="+this.currentPage;this.title&&(e=e+"&title="+this.title),this.$http.get(e).then(function(e){t.list=t.list.concat(e.data.data),t.currentPage++})},select_image:function(t){$(".editable").summernote("restoreRange"),$(t.target).parent().hide();var e=$(t.target).attr("src");e=e.replace(".small",""),$(".editable").summernote("insertImage",e,function(t){t.attr("data-url-big",e),t.addClass("img-responsive")});var n=$('input[name="image_url"]');n.val(e),$('<input type="hidden" name="images[]" value="'+e+'">').insertBefore(n);var i=$("#article_image_template");if(i.length){var r=i.clone();(r=r.insertBefore(i)).find("img").attr("src",e),r.find("input").val(e),r.removeClass("hide")}return t.preventDefault(),!1}},data:function(){return{currentPage:1,allLoaded:!1,title:null,list:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row bottom10",attrs:{id:"my_images"}},[n("div",{staticClass:"col-md-12 top10"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"图片所在文章标题..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.loadData}},[t._v("搜索")])])])]),t._v(" "),t._l(t.list,function(e){return n("div",{staticClass:"col-xs-4 col-md-3 top5"},[n("img",{staticClass:"img img-responsive",attrs:{src:e.url_small,alt:e.title,"big-url":e.url},on:{click:t.select_image}}),t._v(" "),n("p",{staticClass:"strip_title"},[t._v(t._s(e.title))])])})],2)},[],!1,null,"6e809b06",null);e.default=a.exports},G9PF:function(t,e,n){"use strict";n.r(e);var i={name:"Recommend",created:function(){this.fetchData()},methods:{fetchData:function(){var t=window.tokenize("/api/follow/recommends"),e=this;window.axios.get(t).then(function(t){e.user=t.data.user,e.recommends=t.data.recommends,e.recommended_users=t.data.recommended_users.data,e.recommended_categories=t.data.recommended_categories.data,e.loaded=!0})}},data:function(){return{loaded:!1,user:null,recommends:[],recommended_users:[],recommended_categories:[]}}},r=(n("/2I0"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",{staticClass:"recommends"},[t._m(0),t._v(" "),n("div",{staticClass:"note-wrap tab-content"},[n("ul",{staticClass:"fade in active note-list tab-pane",attrs:{role:"tabpanel",id:"entire"}},t._l(t.recommends,function(e){return n("div",["users"==e.type?n("li",{staticClass:"note-info info-md"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.id}},[n("img",{attrs:{src:e.avatar,alt:""}})]),t._v(" "),n("follow",{attrs:{type:"users",id:e.id,"user-id":t.user.id,followed:e.is_followed}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/user/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"preview"},[t._v(t._s(e.introduction))]),t._v(" "),n("p",{staticClass:"preview"},t._l(e.collections,function(e){return n("span",[n("i",{staticClass:"iconfont icon-wenji"}),t._v(t._s(e.name))])}),0),t._v(" "),n("p",{staticClass:"preview"},[n("a",{attrs:{href:"/user/"+e.followed_user_id}},[t._v(t._s(e.followed_user))]),t._v("关注了作者")])])],1):t._e(),t._v(" "),"categories"==e.type?n("li",{staticClass:"note-info info-md"},[n("a",{staticClass:"avatar-category",attrs:{href:"/"+e.name_en}},[n("img",{attrs:{src:e.logo,alt:""}})]),t._v(" "),n("follow",{attrs:{type:"categories",id:e.id,"user-id":t.user.id,followed:e.is_followed}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/"+e.name_en}},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"preview"},[t._v(t._s(e.description))]),t._v(" "),n("p",{staticClass:"preview"},[n("span",[n("i",{staticClass:"iconfont icon-quanbu"}),t._v(t._s(e.count)+"篇作品 · "+t._s(e.count_follows)+"人关注")])]),t._v(" "),n("p",{staticClass:"preview"},[n("a",{attrs:{href:"/user/"+e.followed_user_id}},[t._v(t._s(e.followed_user))]),t._v("关注了该专题")])])],1):t._e()])}),0),t._v(" "),n("ul",{staticClass:"fade note-list tab-pane",attrs:{role:"tabpanel",id:"author"}},t._l(t.recommended_users,function(e){return n("li",{staticClass:"note-info info-md"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.id}},[n("img",{attrs:{src:e.avatar,alt:""}})]),t._v(" "),n("follow",{attrs:{type:"users",id:e.id,"user-id":t.user.id,followed:e.followed}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/user/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"preview"},[t._v(t._s(e.introduction))]),t._v(" "),n("p",{staticClass:"preview"},t._l(e.collections,function(e){return n("span",[n("i",{staticClass:"iconfont icon-wenji"}),t._v(t._s(e.name))])}),0)])],1)}),0),t._v(" "),n("ul",{staticClass:"fade note-list tab-pane",attrs:{role:"tabpanel",id:"category"}},t._l(t.recommended_categories,function(e){return n("li",{staticClass:"note-info info-md"},[n("a",{staticClass:"avatar-category",attrs:{href:"/"+e.name_en}},[n("img",{attrs:{src:e.logo,alt:""}})]),t._v(" "),n("follow",{attrs:{type:"categories",id:e.id,"user-id":t.user.id,followed:e.followed}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/"+e.name_en}},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"preview"},[t._v(t._s(e.description))]),t._v(" "),n("p",{staticClass:"preview"},[n("span",[n("i",{staticClass:"iconfont icon-quanbu"}),t._v(t._s(e.count)+"篇作品 · "+t._s(e.count_follows)+"人关注")])])])],1)}),0)])]):n("div",{staticClass:"loading"})},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",attrs:{id:"trigger-menu",role:"tablist"}},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#entire","aria-controls":"entire",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-duoxuan"}),this._v("全部推荐")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#author","aria-controls":"author",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-yonghu01"}),this._v("推荐作者")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#category","aria-controls":"category",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-zhuanti1"}),this._v("推荐专题")])])])}],!1,null,"3c8c99b4",null);e.default=a.exports},GGGH:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.signs[data-v-4ff10880]{width:40%;min-width:340px;max-width:400px;margin:60px auto 0;padding:50px 50px 30px;background-color:#fff;border-radius:4px;box-shadow:0 0 8px rgba(0,0,0,.1);vertical-align:middle;display:inline-block}.signs .title[data-v-4ff10880]{margin-bottom:50px;font-weight:400}.signs .title[data-v-4ff10880],.signs .title .normal-title a[data-v-4ff10880]{padding:10px;color:#969696}.signs .title .normal-title b[data-v-4ff10880]{padding:10px}.signs .title .normal-title .active[data-v-4ff10880]{font-weight:700;color:#d96a5f;border-bottom:2px solid #d96a5f}.signs .signs-container form[data-v-4ff10880]{margin-bottom:30px}.signs .signs-container form .input-prepend[data-v-4ff10880]{position:relative;width:100%;margin-bottom:20px}.signs .signs-container form .input-prepend input[data-v-4ff10880]{width:100%;height:50px;margin-bottom:0;padding:4px 12px 4px 35px;border:1px solid #c4c4c4;border-radius:0 0 4px 4px;background-color:hsla(0,0%,71%,.1);vertical-align:middle;font-size:15px}.signs .signs-container form .input-prepend i[data-v-4ff10880]{position:absolute;width:30px;height:30px;text-align:center;line-height:30px;top:10px;left:5px;font-size:18px;color:#969696}.signs .signs-container form .restyle[data-v-4ff10880]{margin-bottom:0}.signs .signs-container form .restyle input[data-v-4ff10880]{border-bottom:none;border-radius:4px 4px 0 0}.signs .signs-container form .no-radius input[data-v-4ff10880]{border-radius:0}.signs .signs-container form .no-radius i[data-v-4ff10880]{font-size:20px}.signs .signs-container form .remember-btn[data-v-4ff10880]{float:left;margin:15px 0}.signs .signs-container form .remember-btn span[data-v-4ff10880]{margin-left:5px;font-size:15px;color:#969696;vertical-align:middle}.signs .signs-container form .forget-btn[data-v-4ff10880]{float:right;position:relative;margin:15px 0;font-size:14px}.signs .signs-container form .forget-btn>a[data-v-4ff10880]{color:#969696}.signs .signs-container form .forget-btn .dropdown-menu[data-v-4ff10880]{right:5px}.signs .signs-container form .btn-base[data-v-4ff10880]{width:100%;padding:12px;font-size:18px}.signs .signs-container form .sign-up-msg[data-v-4ff10880]{margin:10px 0;padding:0;text-align:center;font-size:12px;line-height:20px;color:#969696}.signs .signs-container form .sign-up-msg a[data-v-4ff10880]{color:#2b89ca}.signs .signs-container .more-sign[data-v-4ff10880]{margin-top:30px}.signs .signs-container .more-sign h6[data-v-4ff10880]{position:relative;margin:0 0 20px;font-size:12px;color:#969696}.signs .signs-container .more-sign h6[data-v-4ff10880]:after,.signs .signs-container .more-sign h6[data-v-4ff10880]:before{content:"";border-top:1px solid #b5b5b5;display:block;position:absolute;width:60px;top:5px}.signs .signs-container .more-sign h6[data-v-4ff10880]:after{right:30px}.signs .signs-container .more-sign h6[data-v-4ff10880]:before{left:30px}',""])},GlJ5:function(t,e,n){"use strict";var i=n("8GpF");n.n(i).a},GurB:function(t,e,n){"use strict";var i=n("ot06");n.n(i).a},H4GE:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".submissions .more-option[data-v-271b04e0]{position:absolute;top:0;right:15px;font-size:14px;color:#969696}.submissions .more-option span[data-v-271b04e0]{margin-left:5px;vertical-align:middle}.submissions .article-list[data-v-271b04e0]{padding-top:50px!important}.submissions .article-list .article-item[data-v-271b04e0]{border-top:none!important;padding:0 0 15px!important}.submissions .article-list .article-item .push-action[data-v-271b04e0]{margin-top:10px;font-size:12px;color:#969696;line-height:20px}.submissions .article-list .article-item .push-action .btn-base[data-v-271b04e0]{vertical-align:baseline;margin-right:5px}.submissions .article-list .article-item .push-action .push-time[data-v-271b04e0]{font-size:12px;color:#969696}.submissions .article-list .article-item .push-action .push-status[data-v-271b04e0]{margin-right:5px;font-weight:700}.submissions .article-list .article-item .push-action .push-status .push-remove[data-v-271b04e0]{margin-left:5px;font-weight:400;color:#d96a5f;vertical-align:middle}",""])},H76i:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".comment-list{word-break:break-all}.comment-list li{font-size:15px}.comment-list li p{margin:10px 0}.comment-list li p a{color:#2b89ca}.comment-list li .user-info .title{font-weight:400}.comment-list li .tool-group a:nth-child(2){margin-left:10px}.comment-list li .tool-group i{font-size:16px}.comment-list li .tool-group span{font-size:13px}",""])},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},HSyT:function(t,e,n){var i,r,a;r="undefined"!=typeof window?window:this,a=function(n,r){var a=[],o=n.document,s=a.slice,l=a.concat,c=a.push,u=a.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h={},m=function(t,e){return new m.fn.init(t,e)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([\da-z])/gi,b=function(t,e){return e.toUpperCase()};function _(t){var e=!!t&&"length"in t&&t.length,n=m.type(t);return"function"!==n&&!m.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}m.fn=m.prototype={jquery:"2.2.4",constructor:m,selector:"",length:0,toArray:function(){return s.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:s.call(this)},pushStack:function(t){var e=m.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return m.each(this,t)},map:function(t){return this.pushStack(m.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},m.extend=m.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||m.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],o!==(i=t[e])&&(c&&i&&(m.isPlainObject(i)||(r=m.isArray(i)))?(r?(r=!1,a=n&&m.isArray(n)?n:[]):a=n&&m.isPlainObject(n)?n:{},o[e]=m.extend(c,a,i)):void 0!==i&&(o[e]=i));return o},m.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===m.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!m.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==m.type(t)||t.nodeType||m.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=m.trim(t))&&(1===t.indexOf("use strict")?((e=o.createElement("script")).text=t,o.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(v,"ms-").replace(y,b)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(_(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(_(Object(t))?m.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(_(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return l.apply([],o)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m.isFunction(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||m.guid++,r},now:Date.now,support:h}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=a[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var w=function(t){var e,n,i,r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_="sizzle"+1*new Date,w=t.document,x=0,T=0,k=rt(),C=rt(),E=rt(),S=function(t,e){return t===e&&(d=!0),0},A={}.hasOwnProperty,R=[],L=R.pop,D=R.push,O=R.push,I=R.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+M+"*("+F+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),q=new RegExp("^"+M+"*,"+M+"*"),H=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),G=new RegExp(B),K=new RegExp("^"+F+"$"),V={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),et=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},nt=function(){f()};try{O.apply(R=I.call(w.childNodes),w.childNodes),R[w.childNodes.length].nodeType}catch(t){O={apply:R.length?function(t,e){D.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,i,r){var a,s,c,u,d,h,v,y,x=e&&e.ownerDocument,T=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return i;if(!r&&((e?e.ownerDocument||e:w)!==p&&f(e),e=e||p,m)){if(11!==T&&(h=Q.exec(t)))if(a=h[1]){if(9===T){if(!(c=e.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(x&&(c=x.getElementById(a))&&b(e,c)&&c.id===a)return i.push(c),i}else{if(h[2])return O.apply(i,e.getElementsByTagName(t)),i;if((a=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!E[t+" "]&&(!g||!g.test(t))){if(1!==T)x=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(Z,"\\$&"):e.setAttribute("id",u=_),s=(v=o(t)).length,d=K.test(u)?"#"+u:"[id='"+u+"']";s--;)v[s]=d+" "+ht(v[s]);y=v.join(","),x=J.test(t)&&ft(e.parentNode)||e}if(y)try{return O.apply(i,x.querySelectorAll(y)),i}catch(t){}finally{u===_&&e.removeAttribute("id")}}}return l(t.replace($,"$1"),e,i,r)}function rt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[_]=!0,t}function ot(t){var e=p.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=it.support={},a=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=it.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!==p&&9===o.nodeType&&o.documentElement?(h=(p=o).documentElement,m=!a(p),(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),n.attributes=ot(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ot(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=ot(function(t){return h.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(tt,et);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(tt,et);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=X.test(p.querySelectorAll))&&(ot(function(t){h.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ot(function(t){var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=X.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=X.test(h.compareDocumentPosition),b=e||X.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===w&&b(w,t)?-1:e===p||e.ownerDocument===w&&b(w,e)?1:u?P(u,t)-P(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t===p?-1:e===p?1:r?-1:a?1:u?P(u,t)-P(u,e):0;if(r===a)return lt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?lt(o[i],s[i]):o[i]===w?-1:s[i]===w?1:0},p):p},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(z,"='$1']"),n.matchesSelector&&m&&!E[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return it(e,p,null,[t]).length>0},it.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),b(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],a=r&&A.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==a?a:n.attributes||!m?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,i=[],r=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(S),d){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return u=null,t},r=it.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=it.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,et),t[3]=(t[3]||t[4]||t[5]||"").replace(tt,et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+M+")"+t+"("+M+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=it.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,f,p,h,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===t&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&y){for(b=(p=(c=(u=(d=(f=g)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[x,p,b];break}}else if(y&&(b=p=(c=(u=(d=(f=e)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]=[x,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=P(t,a[o])]=!(n[i]=a[o])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=s(t.replace($,"$1"));return i[_]?at(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return it(t,e).length>0}}),contains:at(function(t){return t=t.replace(tt,et),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return K.test(t||"")||it.error("unsupported lang: "+t),t=t.replace(tt,et).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ut(e);function pt(){}function ht(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,a=T++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,a)}:function(e,n,o){var s,l,c,u=[x,a];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((s=(l=(c=e[_]||(e[_]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&s[0]===x&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,o))return!0}}}function gt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function vt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),c&&e.push(s)));return o}function yt(t,e,n,i,r,a){return i&&!i[_]&&(i=yt(i)),r&&!r[_]&&(r=yt(r,a)),at(function(a,o,s,l){var c,u,d,f=[],p=[],h=o.length,m=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!a&&e?m:vt(m,f,t,s,l),v=n?r||(a?t:h||i)?[]:o:g;if(n&&n(g,v,s,l),i)for(c=vt(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(a){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?P(a,d):f[u])>-1&&(a[c]=!(o[c]=d))}}else v=vt(v===o?v.splice(h,v.length):v),r?r(null,o,v,l):O.apply(o,v)})}function bt(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],l=o?1:0,u=mt(function(t){return t===e},s,!0),d=mt(function(t){return P(e,t)>-1},s,!0),f=[function(t,n,i){var r=!o&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];l<a;l++)if(n=i.relative[t[l].type])f=[mt(gt(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<a&&!i.relative[t[r].type];r++);return yt(l>1&&gt(f),l>1&&ht(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace($,"$1"),n,l<r&&bt(t.slice(l,r)),r<a&&bt(t=t.slice(r)),r<a&&ht(t))}f.push(n)}return gt(f)}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,o=it.tokenize=function(t,e){var n,r,a,o,s,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(o in n&&!(r=q.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=H.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace($," ")}),s=s.slice(n.length)),i.filter)!(r=V[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?it.error(t):C(t,l).slice(0)},s=it.compile=function(t,e){var n,r=[],a=[],s=E[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=bt(e[n]))[_]?r.push(s):a.push(s);(s=E(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,l,u){var d,h,g,v=0,y="0",b=a&&[],_=[],w=c,T=a||r&&i.find.TAG("*",u),k=x+=null==w?1:Math.random()||.1,C=T.length;for(u&&(c=o===p||o||u);y!==C&&null!=(d=T[y]);y++){if(r&&d){for(h=0,o||d.ownerDocument===p||(f(d),s=!m);g=t[h++];)if(g(d,o||p,s)){l.push(d);break}u&&(x=k)}n&&((d=!g&&d)&&v--,a&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=e[h++];)g(b,_,o,s);if(a){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=L.call(l));_=vt(_)}O.apply(l,_),u&&!a&&_.length>0&&v+e.length>1&&it.uniqueSort(l)}return u&&(x=k,c=w),b};return n?at(a):a}(a,r))).selector=t}return s},l=it.select=function(t,e,r,a){var l,c,u,d,f,p="function"==typeof t&&t,h=!a&&o(t=p.selector||t);if(r=r||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===e.nodeType&&m&&i.relative[c[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(tt,et),e)||[])[0]))return r;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=V.needsContext.test(t)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((f=i.find[d])&&(a=f(u.matches[0].replace(tt,et),J.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=a.length&&ht(c)))return O.apply(r,a),r;break}}return(p||s(t,h))(a,e,!m,r,!e||J.test(t)&&ft(e.parentNode)||e),r},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!d,f(),n.sortDetached=ot(function(t){return 1&t.compareDocumentPosition(p.createElement("div"))}),ot(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ot(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ot(function(t){return null==t.getAttribute("disabled")})||st(N,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(n);m.find=w,m.expr=w.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=w.uniqueSort,m.text=w.getText,m.isXMLDoc=w.isXML,m.contains=w.contains;var x=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&m(t).is(n))break;i.push(t)}return i},T=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=m.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function S(t,e,n){if(m.isFunction(e))return m.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return m.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(E.test(e))return m.filter(e,t,n);e=m.filter(e,t)}return m.grep(t,function(t){return u.call(e,t)>-1!==n})}m.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?m.find.matchesSelector(i,t)?[i]:[]:m.find.matches(t,m.grep(e,function(t){return 1===t.nodeType}))},m.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(m(t).filter(function(){for(e=0;e<n;e++)if(m.contains(r[e],this))return!0}));for(e=0;e<n;e++)m.find(t,r[e],i);return(i=this.pushStack(n>1?m.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&k.test(t)?m(t):t||[],!1).length}});var A,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof m?e[0]:e,m.merge(this,m.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:o,!0)),C.test(i[1])&&m.isPlainObject(e))for(i in e)m.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=o.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=o,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):m.isFunction(t)?void 0!==n.ready?n.ready(t):t(m):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),m.makeArray(t,this))}).prototype=m.fn,A=m(o);var L=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}m.fn.extend({has:function(t){var e=m(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(m.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=k.test(t)||"string"!=typeof t?m(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?m.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(m(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),m.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,"parentNode")},parentsUntil:function(t,e,n){return x(t,"parentNode",n)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return x(t,"nextSibling")},prevAll:function(t){return x(t,"previousSibling")},nextUntil:function(t,e,n){return x(t,"nextSibling",n)},prevUntil:function(t,e,n){return x(t,"previousSibling",n)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return t.contentDocument||m.merge([],t.childNodes)}},function(t,e){m.fn[t]=function(n,i){var r=m.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=m.filter(i,r)),this.length>1&&(D[t]||m.uniqueSort(r),L.test(t)&&r.reverse()),this.pushStack(r)}});var I,P=/\S+/g;function N(){o.removeEventListener("DOMContentLoaded",N),n.removeEventListener("load",N),m.ready()}m.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return m.each(t.match(P)||[],function(t,n){e[n]=!0}),e}(t):m.extend({},t);var e,n,i,r,a=[],o=[],s=-1,l=function(){for(r=t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){m.each(n,function(n,i){m.isFunction(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==m.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return m.each(arguments,function(t,e){for(var n;(n=m.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?m.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},m.extend({Deferred:function(t){var e=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return m.Deferred(function(n){m.each(e,function(e,a){var o=m.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&m.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?m.extend(t,i):i}},r={};return i.pipe=i.then,m.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=s.call(arguments),o=a.length,l=1!==o||t&&m.isFunction(t.promise)?o:0,c=1===l?t:m.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?s.call(arguments):r,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);r<o;r++)a[r]&&m.isFunction(a[r].promise)?a[r].promise().progress(u(r,n,e)).done(u(r,i,a)).fail(c.reject):--l;return l||c.resolveWith(i,a),c.promise()}}),m.fn.ready=function(t){return m.ready.promise().done(t),this},m.extend({isReady:!1,readyWait:1,holdReady:function(t){t?m.readyWait++:m.ready(!0)},ready:function(t){(!0===t?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==t&&--m.readyWait>0||(I.resolveWith(o,[m]),m.fn.triggerHandler&&(m(o).triggerHandler("ready"),m(o).off("ready"))))}}),m.ready.promise=function(t){return I||(I=m.Deferred(),"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?n.setTimeout(m.ready):(o.addEventListener("DOMContentLoaded",N),n.addEventListener("load",N))),I.promise(t)},m.ready.promise();var M=function(t,e,n,i,r,a,o){var s=0,l=t.length,c=null==n;if("object"===m.type(n))for(s in r=!0,n)M(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,m.isFunction(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(m(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):a},F=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function j(){this.expando=m.expando+j.uid++}j.uid=1,j.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!F(t))return{};var e=t[this.expando];return e||(e={},F(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,m.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{m.isArray(e)?i=e.concat(e.map(m.camelCase)):(r=m.camelCase(e),i=e in a?[e,r]:(i=r)in a?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete a[i[n]]}(void 0===e||m.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!m.isEmptyObject(e)}};var B=new j,U=new j,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function H(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:$.test(n)?m.parseJSON(n):n)}catch(t){}U.set(t,e,n)}else n=void 0;return n}m.extend({hasData:function(t){return U.hasData(t)||B.hasData(t)},data:function(t,e,n){return U.access(t,e,n)},removeData:function(t,e){U.remove(t,e)},_data:function(t,e,n){return B.access(t,e,n)},_removeData:function(t,e){B.remove(t,e)}}),m.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=U.get(a),1===a.nodeType&&!B.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),H(a,i,r[i]));B.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){U.set(this,t)}):M(this,function(e){var n,i;if(a&&void 0===e)return void 0!==(n=U.get(a,t)||U.get(a,t.replace(q,"-$&").toLowerCase()))?n:(i=m.camelCase(t),void 0!==(n=U.get(a,i))||void 0!==(n=H(a,i,void 0))?n:void 0);i=m.camelCase(t),this.each(function(){var n=U.get(this,i);U.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&U.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){U.remove(this,t)})}}),m.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=B.get(t,e),n&&(!i||m.isArray(n)?i=B.access(t,e,m.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=m.queue(t,e),i=n.length,r=n.shift(),a=m._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){m.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return B.get(t,n)||B.access(t,n,{empty:m.Callbacks("once memory").add(function(){B.remove(t,[e+"queue",n])})})}}),m.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?m.queue(this[0],t):void 0===e?this:this.each(function(){var n=m.queue(this,t,e);m._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&m.dequeue(this,t)})},dequeue:function(t){return this.each(function(){m.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=m.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=B.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],V=function(t,e){return t=e||t,"none"===m.css(t,"display")||!m.contains(t.ownerDocument,t)};function W(t,e,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return m.css(t,e,"")},l=s(),c=n&&n[3]||(m.cssNumber[e]?"":"px"),u=(m.cssNumber[e]||"px"!==c&&+l)&&G.exec(m.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=a=a||".5",m.style(t,e,u+c)}while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,Q=/^$|\/(?:java|ecma)script/i,J={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&m.nodeName(t,e)?m.merge([t],n):n}function tt(t,e){for(var n=0,i=t.length;n<i;n++)B.set(t[n],"globalEval",!e||B.get(e[n],"globalEval"))}J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var et,nt,it=/<|&#?\w+;/;function rt(t,e,n,i,r){for(var a,o,s,l,c,u,d=e.createDocumentFragment(),f=[],p=0,h=t.length;p<h;p++)if((a=t[p])||0===a)if("object"===m.type(a))m.merge(f,a.nodeType?[a]:a);else if(it.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(X.exec(a)||["",""])[1].toLowerCase(),l=J[s]||J._default,o.innerHTML=l[1]+m.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;m.merge(f,o.childNodes),(o=d.firstChild).textContent=""}else f.push(e.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(i&&m.inArray(a,i)>-1)r&&r.push(a);else if(c=m.contains(a.ownerDocument,a),o=Z(d.appendChild(a),"script"),c&&tt(o),n)for(u=0;a=o[u++];)Q.test(a.type||"")&&n.push(a);return d}et=o.createDocumentFragment().appendChild(o.createElement("div")),(nt=o.createElement("input")).setAttribute("type","radio"),nt.setAttribute("checked","checked"),nt.setAttribute("name","t"),et.appendChild(nt),h.checkClone=et.cloneNode(!0).cloneNode(!0).lastChild.checked,et.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!et.cloneNode(!0).lastChild.defaultValue;var at=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;function lt(){return!0}function ct(){return!1}function ut(){try{return o.activeElement}catch(t){}}function dt(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)dt(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ct;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return m().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=m.guid++)),t.each(function(){m.event.add(this,e,r,i,n)})}m.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,g,v=B.get(t);if(v)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=m.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(e){return void 0!==m&&m.event.triggered!==e.type?m.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(P)||[""]).length;c--;)p=g=(s=st.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=m.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=m.event.special[p]||{},u=m.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:h.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),m.event.global[p]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,g,v=B.hasData(t)&&B.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(P)||[""]).length;c--;)if(p=g=(s=st.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=m.event.special[p]||{},f=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(t,u));o&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,h,v.handle)||m.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)m.event.remove(t,p+e[c],n,i,!0);m.isEmptyObject(l)&&B.remove(t,"handle events")}},dispatch:function(t){t=m.event.fix(t);var e,n,i,r,a,o=[],l=s.call(arguments),c=(B.get(this,"events")||{})[t.type]||[],u=m.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=m.event.handlers.call(this,t,c),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((m.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(a=e[n]).selector+" "]&&(i[r]=a.needsContext?m(r,this).index(l)>-1:m.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||o).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[m.expando])return t;var e,n,i,r=t.type,a=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=ot.test(r)?this.mouseHooks:at.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new m.Event(a),e=i.length;e--;)t[n=i[e]]=a[n];return t.target||(t.target=o),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ut()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ut()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(t){return m.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},m.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},m.Event=function(t,e){if(!(this instanceof m.Event))return new m.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?lt:ct):this.type=t,e&&m.extend(this,e),this.timeStamp=t&&t.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:ct,isPropagationStopped:ct,isImmediatePropagationStopped:ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=lt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=lt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=lt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){m.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||m.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),m.fn.extend({on:function(t,e,n,i){return dt(this,t,e,n,i)},one:function(t,e,n,i){return dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,m(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=ct),this.each(function(){m.event.remove(this,t,n,e)})}});var ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,pt=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^true\/(.*)/,gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function vt(t,e){return m.nodeName(t,"table")&&m.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function yt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function bt(t){var e=mt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _t(t,e){var n,i,r,a,o,s,l,c;if(1===e.nodeType){if(B.hasData(t)&&(a=B.access(t),o=B.set(e,a),c=a.events))for(r in delete o.handle,o.events={},c)for(n=0,i=c[r].length;n<i;n++)m.event.add(e,r,c[r][n]);U.hasData(t)&&(s=U.access(t),l=m.extend({},s),U.set(e,l))}}function wt(t,e,n,i){e=l.apply([],e);var r,a,o,s,c,u,d=0,f=t.length,p=f-1,g=e[0],v=m.isFunction(g);if(v||f>1&&"string"==typeof g&&!h.checkClone&&ht.test(g))return t.each(function(r){var a=t.eq(r);v&&(e[0]=g.call(this,r,a.html())),wt(a,e,n,i)});if(f&&(a=(r=rt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=m.map(Z(r,"script"),yt)).length;d<f;d++)c=r,d!==p&&(c=m.clone(c,!0,!0),s&&m.merge(o,Z(c,"script"))),n.call(t[d],c,d);if(s)for(u=o[o.length-1].ownerDocument,m.map(o,bt),d=0;d<s;d++)c=o[d],Q.test(c.type||"")&&!B.access(c,"globalEval")&&m.contains(u,c)&&(c.src?m._evalUrl&&m._evalUrl(c.src):m.globalEval(c.textContent.replace(gt,"")))}return t}function xt(t,e,n){for(var i,r=e?m.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||m.cleanData(Z(i)),i.parentNode&&(n&&m.contains(i.ownerDocument,i)&&tt(Z(i,"script")),i.parentNode.removeChild(i));return t}m.extend({htmlPrefilter:function(t){return t.replace(ft,"<$1></$2>")},clone:function(t,e,n){var i,r,a,o,s,l,c,u=t.cloneNode(!0),d=m.contains(t.ownerDocument,t);if(!(h.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||m.isXMLDoc(t)))for(o=Z(u),i=0,r=(a=Z(t)).length;i<r;i++)s=a[i],void 0,"input"===(c=(l=o[i]).nodeName.toLowerCase())&&Y.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(a=a||Z(t),o=o||Z(u),i=0,r=a.length;i<r;i++)_t(a[i],o[i]);else _t(t,u);return(o=Z(u,"script")).length>0&&tt(o,!d&&Z(t,"script")),u},cleanData:function(t){for(var e,n,i,r=m.event.special,a=0;void 0!==(n=t[a]);a++)if(F(n)){if(e=n[B.expando]){if(e.events)for(i in e.events)r[i]?m.event.remove(n,i):m.removeEvent(n,i,e.handle);n[B.expando]=void 0}n[U.expando]&&(n[U.expando]=void 0)}}}),m.fn.extend({domManip:wt,detach:function(t){return xt(this,t,!0)},remove:function(t){return xt(this,t)},text:function(t){return M(this,function(t){return void 0===t?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return wt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||vt(this,t).appendChild(t)})},prepend:function(){return wt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=vt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(m.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return m.clone(this,t,e)})},html:function(t){return M(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!pt.test(t)&&!J[(X.exec(t)||["",""])[1].toLowerCase()]){t=m.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(m.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return wt(this,arguments,function(e){var n=this.parentNode;m.inArray(this,t)<0&&(m.cleanData(Z(this)),n&&n.replaceChild(e,this))},t)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){m.fn[t]=function(t){for(var n,i=[],r=m(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),m(r[o])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Tt,kt={HTML:"block",BODY:"block"};function Ct(t,e){var n=m(e.createElement(t)).appendTo(e.body),i=m.css(n[0],"display");return n.detach(),i}function Et(t){var e=o,n=kt[t];return n||("none"!==(n=Ct(t,e))&&n||((e=(Tt=(Tt||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Ct(t,e),Tt.detach()),kt[t]=n),n}var St=/^margin/,At=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),Rt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Lt=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in r=n.apply(t,i||[]),e)t.style[a]=o[a];return r},Dt=o.documentElement;function Ot(t,e,n){var i,r,a,o,s=t.style;return""!==(o=(n=n||Rt(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==o||m.contains(t.ownerDocument,t)||(o=m.style(t,e)),n&&!h.pixelMarginRight()&&At.test(o)&&St.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function It(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var t,e,i,r,a=o.createElement("div"),s=o.createElement("div");function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Dt.appendChild(a);var o=n.getComputedStyle(s);t="1%"!==o.top,r="2px"===o.marginLeft,e="4px"===o.width,s.style.marginRight="50%",i="4px"===o.marginRight,Dt.removeChild(a)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),m.extend(h,{pixelPosition:function(){return l(),t},boxSizingReliable:function(){return null==e&&l(),e},pixelMarginRight:function(){return null==e&&l(),i},reliableMarginLeft:function(){return null==e&&l(),r},reliableMarginRight:function(){var t,e=s.appendChild(o.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",Dt.appendChild(a),t=!parseFloat(n.getComputedStyle(e).marginRight),Dt.removeChild(a),s.removeChild(e),t}}))}();var Pt=/^(none|table(?!-c[ea]).+)/,Nt={position:"absolute",visibility:"hidden",display:"block"},Mt={letterSpacing:"0",fontWeight:"400"},Ft=["Webkit","O","Moz","ms"],jt=o.createElement("div").style;function Bt(t){if(t in jt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Ft.length;n--;)if((t=Ft[n]+e)in jt)return t}function Ut(t,e,n){var i=G.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function $t(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=m.css(t,n+K[a],!0,r)),i?("content"===n&&(o-=m.css(t,"padding"+K[a],!0,r)),"margin"!==n&&(o-=m.css(t,"border"+K[a]+"Width",!0,r))):(o+=m.css(t,"padding"+K[a],!0,r),"padding"!==n&&(o+=m.css(t,"border"+K[a]+"Width",!0,r)));return o}function qt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=Rt(t),o="border-box"===m.css(t,"boxSizing",!1,a);if(r<=0||null==r){if(((r=Ot(t,e,a))<0||null==r)&&(r=t.style[e]),At.test(r))return r;i=o&&(h.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+$t(t,e,n||(o?"border":"content"),i,a)+"px"}function Ht(t,e){for(var n,i,r,a=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(a[o]=B.get(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(a[o]=B.access(i,"olddisplay",Et(i.nodeName)))):(r=V(i),"none"===n&&r||B.set(i,"olddisplay",r?n:m.css(i,"display"))));for(o=0;o<s;o++)(i=t[o]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function zt(t,e,n,i,r){return new zt.prototype.init(t,e,n,i,r)}m.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ot(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=m.camelCase(e),l=t.style;if(e=m.cssProps[s]||(m.cssProps[s]=Bt(s)||s),o=m.cssHooks[e]||m.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];"string"==(a=typeof n)&&(r=G.exec(n))&&r[1]&&(n=W(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(m.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var r,a,o,s=m.camelCase(e);return e=m.cssProps[s]||(m.cssProps[s]=Bt(s)||s),(o=m.cssHooks[e]||m.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Ot(t,e,i)),"normal"===r&&e in Mt&&(r=Mt[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),m.each(["height","width"],function(t,e){m.cssHooks[e]={get:function(t,n,i){if(n)return Pt.test(m.css(t,"display"))&&0===t.offsetWidth?Lt(t,Nt,function(){return qt(t,e,i)}):qt(t,e,i)},set:function(t,n,i){var r,a=i&&Rt(t),o=i&&$t(t,e,i,"border-box"===m.css(t,"boxSizing",!1,a),a);return o&&(r=G.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=m.css(t,e)),Ut(0,n,o)}}}),m.cssHooks.marginLeft=It(h.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ot(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),m.cssHooks.marginRight=It(h.reliableMarginRight,function(t,e){if(e)return Lt(t,{display:"inline-block"},Ot,[t,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(t,e){m.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+K[i]+e]=a[i]||a[i-2]||a[0];return r}},St.test(t)||(m.cssHooks[t+e].set=Ut)}),m.fn.extend({css:function(t,e){return M(this,function(t,e,n){var i,r,a={},o=0;if(m.isArray(e)){for(i=Rt(t),r=e.length;o<r;o++)a[e[o]]=m.css(t,e[o],!1,i);return a}return void 0!==n?m.style(t,e,n):m.css(t,e)},t,e,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){V(this)?m(this).show():m(this).hide()})}}),m.Tween=zt,zt.prototype={constructor:zt,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||m.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(m.cssNumber[n]?"":"px")},cur:function(){var t=zt.propHooks[this.prop];return t&&t.get?t.get(this):zt.propHooks._default.get(this)},run:function(t){var e,n=zt.propHooks[this.prop];return this.options.duration?this.pos=e=m.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):zt.propHooks._default.set(this),this}},zt.prototype.init.prototype=zt.prototype,zt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=m.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){m.fx.step[t.prop]?m.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[m.cssProps[t.prop]]&&!m.cssHooks[t.prop]?t.elem[t.prop]=t.now:m.style(t.elem,t.prop,t.now+t.unit)}}},zt.propHooks.scrollTop=zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},m.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},m.fx=zt.prototype.init,m.fx.step={};var Gt,Kt,Vt=/^(?:toggle|show|hide)$/,Wt=/queueHooks$/;function Yt(){return n.setTimeout(function(){Gt=void 0}),Gt=m.now()}function Xt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=K[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Qt(t,e,n){for(var i,r=(Jt.tweeners[e]||[]).concat(Jt.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function Jt(t,e,n){var i,r,a=0,o=Jt.prefilters.length,s=m.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Gt||Yt(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return s.notifyWith(t,[c,i,n]),i<1&&o?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:m.extend({},e),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:e,originalOptions:n,startTime:Gt||Yt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=m.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=m.camelCase(n)],a=t[n],m.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=m.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);a<o;a++)if(i=Jt.prefilters[a].call(c,t,u,c.opts))return m.isFunction(i.stop)&&(m._queueHooks(c.elem,c.opts.queue).stop=m.proxy(i.stop,i)),i;return m.map(u,Qt,c),m.isFunction(c.opts.start)&&c.opts.start.call(t,c),m.fx.timer(m.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}m.Animation=m.extend(Jt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return W(n.elem,t,G.exec(e),n),n}]},tweener:function(t,e){m.isFunction(t)?(e=t,t=["*"]):t=t.match(P);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Jt.tweeners[n]=Jt.tweeners[n]||[],Jt.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,c,u=this,d={},f=t.style,p=t.nodeType&&V(t),h=B.get(t,"fxshow");for(i in n.queue||(null==(s=m._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,m.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=m.css(t,"display"))?B.get(t,"olddisplay")||Et(t.nodeName):c)&&"none"===m.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],Vt.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;p=!0}d[i]=h&&h[i]||m.style(t,i)}else c=void 0;if(m.isEmptyObject(d))"inline"===("none"===c?Et(t.nodeName):c)&&(f.display=c);else for(i in h?"hidden"in h&&(p=h.hidden):h=B.access(t,"fxshow",{}),a&&(h.hidden=!p),p?m(t).show():u.done(function(){m(t).hide()}),u.done(function(){var e;for(e in B.remove(t,"fxshow"),d)m.style(t,e,d[e])}),d)o=Qt(p?h[i]:0,i,u),i in h||(h[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Jt.prefilters.unshift(t):Jt.prefilters.push(t)}}),m.speed=function(t,e,n){var i=t&&"object"==typeof t?m.extend({},t):{complete:n||!n&&e||m.isFunction(t)&&t,duration:t,easing:n&&e||e&&!m.isFunction(e)&&e};return i.duration=m.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in m.fx.speeds?m.fx.speeds[i.duration]:m.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(t,e,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=m.isEmptyObject(t),a=m.speed(e,n,i),o=function(){var e=Jt(this,m.extend({},t),a);(r||B.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=m.timers,o=B.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Wt.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));!e&&n||m.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=B.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=m.timers,o=i?i.length:0;for(n.finish=!0,m.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(t,e){var n=m.fn[e];m.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Xt(e,!0),t,i,r)}}),m.each({slideDown:Xt("show"),slideUp:Xt("hide"),slideToggle:Xt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){m.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),m.timers=[],m.fx.tick=function(){var t,e=0,n=m.timers;for(Gt=m.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||m.fx.stop(),Gt=void 0},m.fx.timer=function(t){m.timers.push(t),t()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Kt||(Kt=n.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){n.clearInterval(Kt),Kt=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(t,e){return t=m.fx&&m.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=o.createElement("input"),e=o.createElement("select"),n=e.appendChild(o.createElement("option"));t.type="checkbox",h.checkOn=""!==t.value,h.optSelected=n.selected,e.disabled=!0,h.optDisabled=!n.disabled,(t=o.createElement("input")).value="t",t.type="radio",h.radioValue="t"===t.value}();var Zt,te=m.expr.attrHandle;m.fn.extend({attr:function(t,e){return M(this,m.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){m.removeAttr(this,t)})}}),m.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?m.prop(t,e,n):(1===a&&m.isXMLDoc(t)||(e=e.toLowerCase(),r=m.attrHooks[e]||(m.expr.match.bool.test(e)?Zt:void 0)),void 0!==n?null===n?void m.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=m.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!h.radioValue&&"radio"===e&&m.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(P);if(a&&1===t.nodeType)for(;n=a[r++];)i=m.propFix[n]||n,m.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Zt={set:function(t,e,n){return!1===e?m.removeAttr(t,n):t.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(t,e){var n=te[e]||m.find.attr;te[e]=function(t,e,i){var r,a;return i||(a=te[e],te[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,te[e]=a),r}});var ee=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;m.fn.extend({prop:function(t,e){return M(this,m.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[m.propFix[t]||t]})}}),m.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&m.isXMLDoc(t)||(e=m.propFix[e]||e,r=m.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=m.find.attr(t,"tabindex");return e?parseInt(e,10):ee.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(m.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;function re(t){return t.getAttribute&&t.getAttribute("class")||""}m.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(m.isFunction(t))return this.each(function(e){m(this).addClass(t.call(this,e,re(this)))});if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(m.isFunction(t))return this.each(function(e){m(this).removeClass(t.call(this,e,re(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):m.isFunction(t)?this.each(function(n){m(this).toggleClass(t.call(this,n,re(this),e),e)}):this.each(function(){var e,i,r,a;if("string"===n)for(i=0,r=m(this),a=t.match(P)||[];e=a[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=re(this))&&B.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":B.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+re(n)+" ").replace(ie," ").indexOf(e)>-1)return!0;return!1}});var ae=/\r/g,oe=/[\x20\t\r\n\f]+/g;m.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,m(this).val()):t)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,function(t){return null==t?"":t+""})),(e=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ae,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(t){var e=m.find.attr(t,"value");return null!=e?e:m.trim(m.text(t)).replace(oe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(e=m(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=m.makeArray(e),o=r.length;o--;)((i=r[o]).selected=m.inArray(m.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(t,e){if(m.isArray(e))return t.checked=m.inArray(m(t).val(),e)>-1}},h.checkOn||(m.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var se=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(t,e,i,r){var a,s,l,c,u,d,f,h=[i||o],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(s=l=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!se.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[m.expando]?t:new m.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:m.makeArray(e,[t]),f=m.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!m.isWindow(i)){for(c=f.delegateType||g,se.test(c+g)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(i.ownerDocument||o)&&h.push(l.defaultView||l.parentWindow||n)}for(a=0;(s=h[a++])&&!t.isPropagationStopped();)t.type=a>1?c:f.bindType||g,(d=(B.get(s,"events")||{})[t.type]&&B.get(s,"handle"))&&d.apply(s,e),(d=u&&s[u])&&d.apply&&F(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),e)||!F(i)||u&&m.isFunction(i[g])&&!m.isWindow(i)&&((l=i[u])&&(i[u]=null),m.event.triggered=g,i[g](),m.event.triggered=void 0,l&&(i[u]=l)),t.result}},simulate:function(t,e,n){var i=m.extend(new m.Event,n,{type:t,isSimulated:!0});m.event.trigger(i,null,e)}}),m.fn.extend({trigger:function(t,e){return this.each(function(){m.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return m.event.trigger(t,e,n,!0)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){m.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),m.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),h.focusin="onfocusin"in n,h.focusin||m.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){m.event.simulate(e,t.target,m.event.fix(t))};m.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=B.access(i,e);r||i.addEventListener(t,n,!0),B.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=B.access(i,e)-1;r?B.access(i,e,r):(i.removeEventListener(t,n,!0),B.remove(i,e))}}});var le=n.location,ce=m.now(),ue=/\?/;m.parseJSON=function(t){return JSON.parse(t+"")},m.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+t),e};var de=/#.*$/,fe=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:GET|HEAD)$/,me=/^\/\//,ge={},ve={},ye="*/".concat("*"),be=o.createElement("a");function _e(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(P)||[];if(m.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function we(t,e,n,i){var r={},a=t===ve;function o(s){var l;return r[s]=!0,m.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function xe(t,e){var n,i,r=m.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&m.extend(!0,t,i),t}be.href=le.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?xe(xe(t,m.ajaxSettings),e):xe(m.ajaxSettings,t)},ajaxPrefilter:_e(ge),ajaxTransport:_e(ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,s,l,c,u,d,f=m.ajaxSetup({},e),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?m(p):m.event,g=m.Deferred(),v=m.Callbacks("once memory"),y=f.statusCode||{},b={},_={},w=0,x="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=pe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=_[n]=_[n]||t,b[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)y[e]=[y[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),k(0,e),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||le.href)+"").replace(de,"").replace(me,le.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=m.trim(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){c=o.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=be.protocol+"//"+be.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=m.param(f.data,f.traditional)),we(ge,f,e,T),2===w)return T;for(d in(u=m.event&&f.global)&&0==m.active++&&m.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!he.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(ue.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=fe.test(r)?r.replace(fe,"$1_="+ce++):r+(ue.test(r)?"&":"?")+"_="+ce++)),f.ifModified&&(m.lastModified[r]&&T.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&T.setRequestHeader("If-None-Match",m.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ye+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,T,f)||2===w))return T.abort();for(d in x="abort",{success:1,error:1,complete:1})T[d](f[d]);if(i=we(ve,f,e,T)){if(T.readyState=1,u&&h.trigger("ajaxSend",[T,f]),2===w)return T;f.async&&f.timeout>0&&(l=n.setTimeout(function(){T.abort("timeout")},f.timeout));try{w=1,i.send(b,k)}catch(t){if(!(w<2))throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,o,s){var c,d,b,_,x,k=e;2!==w&&(w=2,l&&n.clearTimeout(l),i=void 0,a=s||"",T.readyState=t>0?4:0,c=t>=200&&t<300||304===t,o&&(_=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,T,o)),_=function(t,e,n,i){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(f,_,T,c),c?(f.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=x),(x=T.getResponseHeader("etag"))&&(m.etag[r]=x)),204===t||"HEAD"===f.type?k="nocontent":304===t?k="notmodified":(k=_.state,d=_.data,c=!(b=_.error))):(b=k,!t&&k||(k="error",t<0&&(t=0))),T.status=t,T.statusText=(e||k)+"",c?g.resolveWith(p,[d,k,T]):g.rejectWith(p,[T,k,b]),T.statusCode(y),y=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?d:b]),v.fireWith(p,[T,k]),u&&(h.trigger("ajaxComplete",[T,f]),--m.active||m.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,n){return m.get(t,e,n,"json")},getScript:function(t,e){return m.get(t,void 0,e,"script")}}),m.each(["get","post"],function(t,e){m[e]=function(t,n,i,r){return m.isFunction(n)&&(r=r||i,i=n,n=void 0),m.ajax(m.extend({url:t,type:e,dataType:r,data:n,success:i},m.isPlainObject(t)&&t))}}),m._evalUrl=function(t){return m.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(t){var e;return m.isFunction(t)?this.each(function(e){m(this).wrapAll(t.call(this,e))}):(this[0]&&(e=m(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return m.isFunction(t)?this.each(function(e){m(this).wrapInner(t.call(this,e))}):this.each(function(){var e=m(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=m.isFunction(t);return this.each(function(n){m(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(t){return!m.expr.filters.visible(t)},m.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Te=/%20/g,ke=/\[\]$/,Ce=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ae(t,e,n,i){var r;if(m.isArray(e))m.each(e,function(e,r){n||ke.test(t)?i(t,r):Ae(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==m.type(e))i(t,e);else for(r in e)Ae(t+"["+r+"]",e[r],n,i)}m.param=function(t,e){var n,i=[],r=function(t,e){e=m.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(t)||t.jquery&&!m.isPlainObject(t))m.each(t,function(){r(this.name,this.value)});else for(n in t)Ae(n,t[n],e,r);return i.join("&").replace(Te,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=m.prop(this,"elements");return t?m.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!m(this).is(":disabled")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=m(this).val();return null==n?null:m.isArray(n)?m.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),m.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Re={0:200,1223:204},Le=m.ajaxSettings.xhr();h.cors=!!Le&&"withCredentials"in Le,h.ajax=Le=!!Le,m.ajaxTransport(function(t){var e,i;if(h.cors||Le&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Re[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return m.globalEval(t),t}}}),m.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),m.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=m("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),o.head.appendChild(e[0])},abort:function(){n&&n()}}});var De=[],Oe=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||m.expando+"_"+ce++;return this[t]=!0,t}}),m.ajaxPrefilter("json jsonp",function(t,e,i){var r,a,o,s=!1!==t.jsonp&&(Oe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Oe,"$1"+r):!1!==t.jsonp&&(t.url+=(ue.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||m.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=n[r],n[r]=function(){o=arguments},i.always(function(){void 0===a?m(n).removeProp(r):n[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,De.push(r)),o&&m.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),m.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||o;var i=C.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt([t],e,r),r&&r.length&&m(r).remove(),m.merge([],i.childNodes))};var Ie=m.fn.load;function Pe(t){return m.isWindow(t)?t:9===t.nodeType&&t.defaultView}m.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=m.trim(t.slice(s)),t=t.slice(0,s)),m.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&m.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?m("<div>").append(m.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){m.fn[e]=function(t){return this.on(e,t)}}),m.expr.filters.animated=function(t){return m.grep(m.timers,function(e){return t===e.elem}).length},m.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,c=m.css(t,"position"),u=m(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=m.css(t,"top"),l=m.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),m.isFunction(e)&&(e=e.call(t,n,m.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},m.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){m.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(e=a.documentElement,m.contains(e,i)?(r=i.getBoundingClientRect(),n=Pe(a),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===m.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),m.nodeName(t[0],"html")||(i=t.offset()),i.top+=m.css(t[0],"borderTopWidth",!0),i.left+=m.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-m.css(n,"marginTop",!0),left:e.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===m.css(t,"position");)t=t.offsetParent;return t||Dt})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;m.fn[t]=function(i){return M(this,function(t,i,r){var a=Pe(t);if(void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r},t,i,arguments.length)}}),m.each(["top","left"],function(t,e){m.cssHooks[e]=It(h.pixelPosition,function(t,n){if(n)return n=Ot(t,e),At.test(n)?m(t).position()[e]+"px":n})}),m.each({Height:"height",Width:"width"},function(t,e){m.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){m.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===r?"margin":"border");return M(this,function(e,n,i){var r;return m.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?m.css(e,n,o):m.style(e,n,i,o)},e,a?i:void 0,a,null)}})}),m.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,void 0===(i=function(){return m}.apply(e,[]))||(t.exports=i);var Ne=n.jQuery,Me=n.$;return m.noConflict=function(t){return n.$===m&&(n.$=Me),t&&n.jQuery===m&&(n.jQuery=Ne),m},r||(n.jQuery=n.$=m),m},"object"==typeof t.exports?t.exports=r.document?a(r,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return a(t)}:a(r)},HiMK:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".FAQ .modal-dialog.simple .modal-body{border-bottom:1px solid #e5e5e5}.FAQ .modal-dialog.simple .modal-body .solution{font-size:14px}.FAQ .modal-dialog.simple .modal-body .solution ul li{margin-top:20px}.FAQ .modal-dialog.simple footer{text-align:center}.FAQ .modal-dialog.simple footer .cancel{float:unset;font-size:16px;color:#ec7259}",""])},HijD:function(t,e,n){window._=n("LvDl");try{window.$=window.jQuery=n("EVdn"),n("VSY+")}catch(t){}window.axios=n("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var i=document.head.querySelector('meta[name="csrf-token"]');i?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=i.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},Hye6:function(t,e,n){var i=n("dMPS");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n,i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[i].concat(o).concat([a]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},INkZ:function(t,e,n){"use strict";(function(e,n){var i=Object.freeze({});function r(t){return null==t}function a(t){return null!=t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function l(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return a(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function h(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var g=m("slot,component",!0),v=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function _(t,e){return b.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var x=/-(\w)/g,T=w(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),k=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),C=/\B([A-Z])/g,E=w(function(t){return t.replace(C,"-$1").toLowerCase()}),S=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function A(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function R(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function D(t,e,n){}var O=function(t,e,n){return!1},I=function(t){return t};function P(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(t,n){return P(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(n){return P(t[n],e[n])})}catch(t){return!1}}function N(t,e){for(var n=0;n<t.length;n++)if(P(t[n],e))return n;return-1}function M(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",j=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:D,parsePlatformTagName:I,mustUseProp:O,async:!0,_lifecycleHooks:B},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var H,z=new RegExp("[^"+$.source+".$_\\d]"),G="__proto__"in{},K="undefined"!=typeof window,V="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=V&&WXEnvironment.platform.toLowerCase(),Y=K&&window.navigator.userAgent.toLowerCase(),X=Y&&/msie|trident/.test(Y),Q=Y&&Y.indexOf("msie 9.0")>0,J=Y&&Y.indexOf("edge/")>0,Z=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===W),tt=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(K)try{var it={};Object.defineProperty(it,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,it)}catch(i){}var rt=function(){return void 0===H&&(H=!K&&!V&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV),H},at=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,lt="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=D,ut=0,dt=function(){this.id=ut++,this.subs=[]};dt.prototype.addSub=function(t){this.subs.push(t)},dt.prototype.removeSub=function(t){y(this.subs,t)},dt.prototype.depend=function(){dt.target&&dt.target.addDep(this)},dt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},dt.target=null;var ft=[];function pt(t){ft.push(t),dt.target=t}function ht(){ft.pop(),dt.target=ft[ft.length-1]}var mt=function(t,e,n,i,r,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},gt={child:{configurable:!0}};gt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,gt);var vt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function yt(t){return new mt(void 0,void 0,void 0,String(t))}function bt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var _t=Array.prototype,wt=Object.create(_t);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=_t[t];q(wt,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a})});var xt=Object.getOwnPropertyNames(wt),Tt=!0;function kt(t){Tt=t}var Ct=function(t){var e;this.value=t,this.dep=new dt,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)?(G?(e=wt,t.__proto__=e):function(t,e,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];q(t,a,e[a])}}(t,wt,xt),this.observeArray(t)):this.walk(t)};function Et(t,e){var n;if(l(t)&&!(t instanceof mt))return _(t,"__ob__")&&t.__ob__ instanceof Ct?n=t.__ob__:Tt&&!rt()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ct(t)),e&&n&&n.vmCount++,n}function St(t,e,n,i,r){var a=new dt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(n=t[e]);var c=!r&&Et(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return dt.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,i=0,r=e.length;i<r;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!=e&&i!=i||s&&!l||(l?l.call(t,e):n=e,c=!r&&Et(e),a.notify())}})}}function At(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(St(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Rt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||_(t,e)&&(delete t[e],n&&n.dep.notify())}}Ct.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)St(t,e[n])},Ct.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Et(t[e])};var Lt=U.optionMergeStrategies;function Dt(t,e){if(!e)return t;for(var n,i,r,a=lt?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(i=t[n],r=e[n],_(t,n)?i!==r&&u(i)&&u(r)&&Dt(i,r):At(t,n,r));return t}function Ot(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?Dt(i,r):r}:e?t?function(){return Dt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function It(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Pt(t,e,n,i){var r=Object.create(t||null);return e?R(r,e):r}Lt.data=function(t,e,n){return n?Ot(t,e,n):e&&"function"!=typeof e?t:Ot(t,e)},B.forEach(function(t){Lt[t]=It}),j.forEach(function(t){Lt[t+"s"]=Pt}),Lt.watch=function(t,e,n,i){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var a in R(r,t),e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return R(r,t),e&&R(r,e),r},Lt.provide=Ot;var Nt=function(t,e){return void 0===e?t:e};function Mt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,a={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(a[T(r)]={type:null});else if(u(n))for(var o in n)r=n[o],a[T(o)]=u(r)?r:{type:r};t.props=a}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var a in n){var o=n[a];i[a]=u(o)?R({from:a},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=Mt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Mt(t,e.mixins[i],n);var a,o={};for(a in t)s(a);for(a in e)_(t,a)||s(a);function s(i){var r=Lt[i]||Nt;o[i]=r(t[i],e[i],n,i)}return o}function Ft(t,e,n,i){if("string"==typeof n){var r=t[e];if(_(r,n))return r[n];var a=T(n);if(_(r,a))return r[a];var o=k(a);return _(r,o)?r[o]:r[n]||r[a]||r[o]}}function jt(t,e,n,i){var r=e[t],a=!_(n,t),o=n[t],s=$t(Boolean,r.type);if(s>-1)if(a&&!_(r,"default"))o=!1;else if(""===o||o===E(t)){var l=$t(String,r.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(_(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof i&&"Function"!==Bt(e.type)?i.call(t):i}}(i,r,t);var c=Tt;kt(!0),Et(o),kt(c)}return o}function Bt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ut(t,e){return Bt(t)===Bt(e)}function $t(t,e){if(!Array.isArray(e))return Ut(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Ut(e[n],t))return n;return-1}function qt(t,e,n){pt();try{if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(i,t,e,n))return}catch(t){zt(t,i,"errorCaptured hook")}}zt(t,e,n)}finally{ht()}}function Ht(t,e,n,i,r){var a;try{(a=n?t.apply(e,n):t.call(e))&&!a._isVue&&f(a)&&!a._handled&&(a.catch(function(t){return qt(t,i,r+" (Promise/async)")}),a._handled=!0)}catch(t){qt(t,i,r)}return a}function zt(t,e,n){if(U.errorHandler)try{return U.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Gt(e,null,"config.errorHandler")}Gt(t,e,n)}function Gt(t,e,n){if(!K&&!V||"undefined"==typeof console)throw t;console.error(t)}var Kt,Vt=!1,Wt=[],Yt=!1;function Xt(){Yt=!1;var t=Wt.slice(0);Wt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ot(Promise)){var Qt=Promise.resolve();Kt=function(){Qt.then(Xt),Z&&setTimeout(D)},Vt=!0}else if(X||"undefined"==typeof MutationObserver||!ot(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Kt=void 0!==n&&ot(n)?function(){n(Xt)}:function(){setTimeout(Xt,0)};else{var Jt=1,Zt=new MutationObserver(Xt),te=document.createTextNode(String(Jt));Zt.observe(te,{characterData:!0}),Kt=function(){Jt=(Jt+1)%2,te.data=String(Jt)},Vt=!0}function ee(t,e){var n;if(Wt.push(function(){if(t)try{t.call(e)}catch(t){qt(t,e,"nextTick")}else n&&n(e)}),Yt||(Yt=!0,Kt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ne=new st;function ie(t){!function t(e,n){var i,r,a=Array.isArray(e);if(!(!a&&!l(e)||Object.isFrozen(e)||e instanceof mt)){if(e.__ob__){var o=e.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(i=e.length;i--;)t(e[i],n);else for(i=(r=Object.keys(e)).length;i--;)t(e[r[i]],n)}}(t,ne),ne.clear()}var re=w(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}});function ae(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return Ht(i,null,arguments,e,"v-on handler");for(var r=i.slice(),a=0;a<r.length;a++)Ht(r[a],null,t,e,"v-on handler")}return n.fns=t,n}function oe(t,e,n,i,a,s){var l,c,u,d;for(l in t)c=t[l],u=e[l],d=re(l),r(c)||(r(u)?(r(c.fns)&&(c=t[l]=ae(c,s)),o(d.once)&&(c=t[l]=a(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)r(t[l])&&i((d=re(l)).name,e[l],d.capture)}function se(t,e,n){var i;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){n.apply(this,arguments),y(i.fns,l)}r(s)?i=ae([l]):a(s.fns)&&o(s.merged)?(i=s).fns.push(l):i=ae([s,l]),i.merged=!0,t[e]=i}function le(t,e,n,i,r){if(a(e)){if(_(e,n))return t[n]=e[n],r||delete e[n],!0;if(_(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function ce(t){return s(t)?[yt(t)]:Array.isArray(t)?function t(e,n){var i,l,c,u,d=[];for(i=0;i<e.length;i++)r(l=e[i])||"boolean"==typeof l||(u=d[c=d.length-1],Array.isArray(l)?l.length>0&&(ue((l=t(l,(n||"")+"_"+i))[0])&&ue(u)&&(d[c]=yt(u.text+l[0].text),l.shift()),d.push.apply(d,l)):s(l)?ue(u)?d[c]=yt(u.text+l):""!==l&&d.push(yt(l)):ue(l)&&ue(u)?d[c]=yt(u.text+l.text):(o(e._isVList)&&a(l.tag)&&r(l.key)&&a(n)&&(l.key="__vlist"+n+"_"+i+"__"),d.push(l)));return d}(t):void 0}function ue(t){return a(t)&&a(t.text)&&!1===t.isComment}function de(t,e){if(t){for(var n=Object.create(null),i=lt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){for(var o=t[a].from,s=e;s;){if(s._provided&&_(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s&&"default"in t[a]){var l=t[a].default;n[a]="function"==typeof l?l.call(e):l}}}return n}}function fe(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var a=t[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,l=n[s]||(n[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(pe)&&delete n[c];return n}function pe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function he(t,e,n){var r,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==i&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=me(e,l,t[l]))}else r={};for(var c in e)c in r||(r[c]=ge(e,c));return t&&Object.isExtensible(t)&&(t._normalized=r),q(r,"$stable",o),q(r,"$key",s),q(r,"$hasNormal",a),r}function me(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ce(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function ge(t,e){return function(){return t[e]}}function ve(t,e){var n,i,r,o,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(l(t))if(lt&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),u=c.next();!u.done;)n.push(e(u.value,n.length)),u=c.next()}else for(o=Object.keys(t),n=new Array(o.length),i=0,r=o.length;i<r;i++)s=o[i],n[i]=e(t[s],s,i);return a(n)||(n=[]),n._isVList=!0,n}function ye(t,e,n,i){var r,a=this.$scopedSlots[t];a?(n=n||{},i&&(n=R(R({},i),n)),r=a(n)||e):r=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function be(t){return Ft(this.$options,"filters",t)||I}function _e(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function we(t,e,n,i,r){var a=U.keyCodes[e]||n;return r&&i&&!U.keyCodes[e]?_e(r,i):a?_e(a,t):i?E(i)!==e:void 0}function xe(t,e,n,i,r){if(n&&l(n)){var a;Array.isArray(n)&&(n=L(n));var o=function(o){if("class"===o||"style"===o||v(o))a=t;else{var s=t.attrs&&t.attrs.type;a=i||U.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=T(o),c=E(o);l in a||c in a||(a[o]=n[o],r&&((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}))};for(var s in n)o(s)}return t}function Te(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||Ce(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i}function ke(t,e,n){return Ce(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ce(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Ee(t[i],e+"_"+i,n);else Ee(t,e,n)}function Ee(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Se(t,e){if(e&&u(e)){var n=t.on=t.on?R({},t.on):{};for(var i in e){var r=n[i],a=e[i];n[i]=r?[].concat(r,a):a}}return t}function Ae(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var a=t[r];Array.isArray(a)?Ae(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return i&&(e.$key=i),e}function Re(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Le(t,e){return"string"==typeof t?e+t:t}function De(t){t._o=ke,t._n=h,t._s=p,t._l=ve,t._t=ye,t._q=P,t._i=N,t._m=Te,t._f=be,t._k=we,t._b=xe,t._v=yt,t._e=vt,t._u=Ae,t._g=Se,t._d=Re,t._p=Le}function Oe(t,e,n,r,a){var s,l=this,c=a.options;_(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var u=o(c._compiled),d=!u;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=de(c.inject,r),this.slots=function(){return l.$slots||he(t.scopedSlots,l.$slots=fe(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return he(t.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=he(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var a=Be(s,t,e,n,i,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=r),a}:this._c=function(t,e,n,i){return Be(s,t,e,n,i,d)}}function Ie(t,e,n,i,r){var a=bt(t);return a.fnContext=n,a.fnOptions=i,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function Pe(t,e){for(var n in e)t[T(n)]=e[n]}De(Oe.prototype);var Ne={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Ne.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:Ye},i=t.data.inlineTemplate;return a(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}(t)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,a){var o=r.data.scopedSlots,s=t.$scopedSlots,l=!!(o&&!o.$stable||s!==i&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),c=!!(a||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=a,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){kt(!1);for(var u=t._props,d=t.$options._propKeys||[],f=0;f<d.length;f++){var p=d[f],h=t.$options.props;u[p]=jt(p,h,e,t)}kt(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,We(t,n,m),c&&(t.$slots=fe(a,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Ze(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,en.push(e)):Je(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Qe(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Ze(e,"deactivated")}}(e,!0):e.$destroy())}},Me=Object.keys(Ne);function Fe(t,e,n,s,c){if(!r(t)){var u=n.$options._base;if(l(t)&&(t=u.extend(t)),"function"==typeof t){var d;if(r(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=$e;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var i=t.owners=[n],s=!0,c=null,u=null;n.$on("hook:destroyed",function(){return y(i,n)});var d=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},p=M(function(n){t.resolved=qe(n,e),s?i.length=0:d(!0)}),h=M(function(e){a(t.errorComp)&&(t.error=!0,d(!0))}),m=t(p,h);return l(m)&&(f(m)?r(t.resolved)&&m.then(p,h):f(m.component)&&(m.component.then(p,h),a(m.error)&&(t.errorComp=qe(m.error,e)),a(m.loading)&&(t.loadingComp=qe(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout(function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,d(!1))},m.delay||200)),a(m.timeout)&&(u=setTimeout(function(){u=null,r(t.resolved)&&h(null)},m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}(d=t,u)))return function(t,e,n,i,r){var a=vt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:i,tag:r},a}(d,e,n,s,c);e=e||{},wn(t),a(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var r=e.on||(e.on={}),o=r[i],s=e.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(r[i]=[s].concat(o)):r[i]=s}(t.options,e);var p=function(t,e,n){var i=e.options.props;if(!r(i)){var o={},s=t.attrs,l=t.props;if(a(s)||a(l))for(var c in i){var u=E(c);le(o,l,c,u,!0)||le(o,s,c,u,!1)}return o}}(e,t);if(o(t.options.functional))return function(t,e,n,r,o){var s=t.options,l={},c=s.props;if(a(c))for(var u in c)l[u]=jt(u,c,e||i);else a(n.attrs)&&Pe(l,n.attrs),a(n.props)&&Pe(l,n.props);var d=new Oe(n,l,o,r,t),f=s.render.call(null,d._c,d);if(f instanceof mt)return Ie(f,n,d.parent,s);if(Array.isArray(f)){for(var p=ce(f)||[],h=new Array(p.length),m=0;m<p.length;m++)h[m]=Ie(p[m],n,d.parent,s);return h}}(t,p,e,n,s);var h=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Me.length;n++){var i=Me[n],r=e[i],a=Ne[i];r===a||r&&r._merged||(e[i]=r?je(a,r):a)}}(e);var g=t.options.name||c;return new mt("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:p,listeners:h,tag:c,children:s},d)}}}function je(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function Be(t,e,n,i,c,u){return(Array.isArray(n)||s(n))&&(c=i,i=n,n=void 0),o(u)&&(c=2),function(t,e,n,i,s){return a(n)&&a(n.__ob__)?vt():(a(n)&&a(n.is)&&(e=n.is),e?(Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0),2===s?i=ce(i):1===s&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i)),"string"==typeof e?(u=t.$vnode&&t.$vnode.ns||U.getTagNamespace(e),c=U.isReservedTag(e)?new mt(U.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!a(d=Ft(t.$options,"components",e))?new mt(e,n,i,void 0,void 0,t):Fe(d,n,t,i,e)):c=Fe(e,n,t,i),Array.isArray(c)?c:a(c)?(a(u)&&function t(e,n,i){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,i=!0),a(e.children))for(var s=0,l=e.children.length;s<l;s++){var c=e.children[s];a(c.tag)&&(r(c.ns)||o(i)&&"svg"!==c.tag)&&t(c,n,i)}}(c,u),a(n)&&function(t){l(t.style)&&ie(t.style),l(t.class)&&ie(t.class)}(n),c):vt()):vt());var c,u,d}(t,e,n,i,c)}var Ue,$e=null;function qe(t,e){return(t.__esModule||lt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function He(t){return t.isComment&&t.asyncFactory}function ze(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||He(n)))return n}}function Ge(t,e){Ue.$on(t,e)}function Ke(t,e){Ue.$off(t,e)}function Ve(t,e){var n=Ue;return function i(){null!==e.apply(null,arguments)&&n.$off(t,i)}}function We(t,e,n){Ue=t,oe(e,n||{},Ge,Ke,Ve,t),Ue=void 0}var Ye=null;function Xe(t){var e=Ye;return Ye=t,function(){Ye=e}}function Qe(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Je(t,e){if(e){if(t._directInactive=!1,Qe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Je(t.$children[n]);Ze(t,"activated")}}function Ze(t,e){pt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,a=n.length;r<a;r++)Ht(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),ht()}var tn=[],en=[],nn={},rn=!1,an=!1,on=0,sn=0,ln=Date.now;if(K&&!X){var cn=window.performance;cn&&"function"==typeof cn.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return cn.now()})}function un(){var t,e;for(sn=ln(),an=!0,tn.sort(function(t,e){return t.id-e.id}),on=0;on<tn.length;on++)(t=tn[on]).before&&t.before(),e=t.id,nn[e]=null,t.run();var n=en.slice(),i=tn.slice();on=tn.length=en.length=0,nn={},rn=an=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Je(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Ze(i,"updated")}}(i),at&&U.devtools&&at.emit("flush")}var dn=0,fn=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++dn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};fn.prototype.get=function(){var t;pt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;qt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),ht(),this.cleanupDeps()}return t},fn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},fn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},fn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==nn[e]){if(nn[e]=!0,an){for(var n=tn.length-1;n>on&&tn[n].id>t.id;)n--;tn.splice(n+1,0,t)}else tn.push(t);rn||(rn=!0,ee(un))}}(this)},fn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){qt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},fn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},fn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},fn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var pn={enumerable:!0,configurable:!0,get:D,set:D};function hn(t,e,n){pn.get=function(){return this[e][n]},pn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,pn)}var mn={lazy:!0};function gn(t,e,n){var i=!rt();"function"==typeof n?(pn.get=i?vn(e):yn(n),pn.set=D):(pn.get=n.get?i&&!1!==n.cache?vn(e):yn(n.get):D,pn.set=n.set||D),Object.defineProperty(t,e,pn)}function vn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),dt.target&&e.depend(),e.value}}function yn(t){return function(){return t.call(this,this)}}function bn(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}var _n=0;function wn(t){var e=t.options;if(t.super){var n=wn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}(t);i&&R(t.extendOptions,i),(e=t.options=Mt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function xn(t){this._init(t)}function Tn(t){return t&&(t.Ctor.options.name||t.tag)}function kn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(n=t,"[object RegExp]"===c.call(n)&&t.test(e));var n}function Cn(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var a in n){var o=n[a];if(o){var s=Tn(o.componentOptions);s&&!e(s)&&En(n,a,i,r)}}}function En(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}xn.prototype._init=function(t){var e=this;e._uid=_n++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Mt(wn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&We(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=fe(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,n,i,r){return Be(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Be(t,e,n,i,r,!0)};var a=n&&n.data;St(t,"$attrs",a&&a.attrs||i,null,!0),St(t,"$listeners",e._parentListeners||i,null,!0)}(e),Ze(e,"beforeCreate"),function(t){var e=de(t.$options.inject,t);e&&(kt(!1),Object.keys(e).forEach(function(n){St(t,n,e[n])}),kt(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[];t.$parent&&kt(!1);var a=function(a){r.push(a);var o=jt(a,e,n,t);St(i,a,o),a in t||hn(t,"_props",a)};for(var o in e)a(o);kt(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?D:S(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;u(e=t._data="function"==typeof e?function(t,e){pt();try{return t.call(e,e)}catch(t){return qt(t,e,"data()"),{}}finally{ht()}}(e,t):e||{})||(e={});for(var n,i=Object.keys(e),r=t.$options.props,a=(t.$options.methods,i.length);a--;){var o=i[a];r&&_(r,o)||36!==(n=(o+"").charCodeAt(0))&&95!==n&&hn(t,"_data",o)}Et(e,!0)}(t):Et(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=rt();for(var r in e){var a=e[r],o="function"==typeof a?a:a.get;i||(n[r]=new fn(t,o||D,D,mn)),r in t||gn(t,r,a)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)bn(t,n,i[r]);else bn(t,n,i)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Ze(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=At,t.prototype.$delete=Rt,t.prototype.$watch=function(t,e,n){if(u(e))return bn(this,t,e,n);(n=n||{}).user=!0;var i=new fn(this,t,e,n);if(n.immediate)try{e.call(this,i.value)}catch(t){qt(t,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(xn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this._events[t];if(e){e=e.length>1?A(e):e;for(var n=A(arguments,1),i='event handler for "'+t+'"',r=0,a=e.length;r<a;r++)Ht(e[r],this,n,this,i)}return this}}(xn),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,a=Xe(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ze(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ze(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(xn),function(t){De(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=he(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{$e=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){qt(n,e,"render"),t=e._vnode}finally{$e=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=vt()),t.parent=r,t}}(xn);var Sn=[String,RegExp,Array],An={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Sn,exclude:Sn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)En(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Cn(t,function(t){return kn(e,t)})}),this.$watch("exclude",function(e){Cn(t,function(t){return!kn(e,t)})})},render:function(){var t=this.$slots.default,e=ze(t),n=e&&e.componentOptions;if(n){var i=Tn(n),r=this.include,a=this.exclude;if(r&&(!i||!kn(r,i))||a&&i&&kn(a,i))return e;var o=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,y(s,l),s.push(l)):(o[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&En(o,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return U}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:R,mergeOptions:Mt,defineReactive:St},t.set=At,t.delete=Rt,t.nextTick=ee,t.observable=function(t){return Et(t),t},t.options=Object.create(null),j.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,R(t.options.components,An),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=A(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Mt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var a=t.name||n.options.name,o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=Mt(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)hn(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)gn(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,j.forEach(function(t){o[t]=n[t]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=R({},o.options),r[i]=o,o}}(t),function(t){j.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(xn),Object.defineProperty(xn.prototype,"$isServer",{get:rt}),Object.defineProperty(xn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xn,"FunctionalRenderContext",{value:Oe}),xn.version="2.6.12";var Rn=m("style,class"),Ln=m("input,textarea,option,select,progress"),Dn=function(t,e,n){return"value"===n&&Ln(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},On=m("contenteditable,draggable,spellcheck"),In=m("events,caret,typing,plaintext-only"),Pn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Nn="http://www.w3.org/1999/xlink",Mn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Fn=function(t){return Mn(t)?t.slice(6,t.length):""},jn=function(t){return null==t||!1===t};function Bn(t,e){return{staticClass:Un(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Un(t,e){return t?e?t+" "+e:t:e||""}function $n(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,r=t.length;i<r;i++)a(e=$n(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):l(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var qn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Hn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),zn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Gn=function(t){return Hn(t)||zn(t)};function Kn(t){return zn(t)?"svg":"math"===t?"math":void 0}var Vn=Object.create(null),Wn=m("text,number,password,search,email,tel,url");function Yn(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var Xn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(qn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Qn={create:function(t,e){Jn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Jn(t,!0),Jn(e))},destroy:function(t){Jn(t,!0)}};function Jn(t,e){var n=t.data.ref;if(a(n)){var i=t.context,r=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?y(o[n],r):o[n]===r&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(r)<0&&o[n].push(r):o[n]=[r]:o[n]=r}}var Zn=new mt("",{},[]),ti=["create","activate","update","remove","destroy"];function ei(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=a(n=t.data)&&a(n=n.attrs)&&n.type,r=a(n=e.data)&&a(n=n.attrs)&&n.type;return i===r||Wn(i)&&Wn(r)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function ni(t,e,n){var i,r,o={};for(i=e;i<=n;++i)a(r=t[i].key)&&(o[r]=i);return o}var ii={create:ri,update:ri,destroy:function(t){ri(t,Zn)}};function ri(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,a=t===Zn,o=e===Zn,s=oi(t.data.directives,t.context),l=oi(e.data.directives,e.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,li(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(li(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)li(c[n],"inserted",e,t)};a?se(e,"insert",d):d()}if(u.length&&se(e,"postpatch",function(){for(var n=0;n<u.length;n++)li(u[n],"componentUpdated",e,t)}),!a)for(n in s)l[n]||li(s[n],"unbind",t,t,o)}(t,e)}var ai=Object.create(null);function oi(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=ai),r[si(i)]=i,i.def=Ft(e.$options,"directives",i.name);return r}function si(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function li(t,e,n,i,r){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,i,r)}catch(i){qt(i,n.context,"directive "+t.name+" "+e+" hook")}}var ci=[Qn,ii];function ui(t,e){var n=e.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var i,o,s=e.elm,l=t.data.attrs||{},c=e.data.attrs||{};for(i in a(c.__ob__)&&(c=e.data.attrs=R({},c)),c)o=c[i],l[i]!==o&&di(s,i,o);for(i in(X||J)&&c.value!==l.value&&di(s,"value",c.value),l)r(c[i])&&(Mn(i)?s.removeAttributeNS(Nn,Fn(i)):On(i)||s.removeAttribute(i))}}function di(t,e,n){t.tagName.indexOf("-")>-1?fi(t,e,n):Pn(e)?jn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):On(e)?t.setAttribute(e,function(t,e){return jn(e)||"false"===e?"false":"contenteditable"===t&&In(e)?e:"true"}(e,n)):Mn(e)?jn(n)?t.removeAttributeNS(Nn,Fn(e)):t.setAttributeNS(Nn,e,n):fi(t,e,n)}function fi(t,e,n){if(jn(n))t.removeAttribute(e);else{if(X&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var pi={create:ui,update:ui};function hi(t,e){var n=e.elm,i=e.data,o=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var s=function(t){for(var e=t.data,n=t,i=t;a(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=Bn(i.data,e));for(;a(n=n.parent);)n&&n.data&&(e=Bn(e,n.data));return function(t,e){return a(t)||a(e)?Un(t,$n(e)):""}(e.staticClass,e.class)}(e),l=n._transitionClasses;a(l)&&(s=Un(s,$n(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var mi,gi,vi,yi,bi,_i,wi={create:hi,update:hi},xi=/[\w).+\-_$\]]/;function Ti(t){var e,n,i,r,a,o=!1,s=!1,l=!1,c=!1,u=0,d=0,f=0,p=0;for(i=0;i<t.length;i++)if(n=e,e=t.charCodeAt(i),o)39===e&&92!==n&&(o=!1);else if(s)34===e&&92!==n&&(s=!1);else if(l)96===e&&92!==n&&(l=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||u||d||f){switch(e){case 34:s=!0;break;case 39:o=!0;break;case 96:l=!0;break;case 40:f++;break;case 41:f--;break;case 91:d++;break;case 93:d--;break;case 123:u++;break;case 125:u--}if(47===e){for(var h=i-1,m=void 0;h>=0&&" "===(m=t.charAt(h));h--);m&&xi.test(m)||(c=!0)}}else void 0===r?(p=i+1,r=t.slice(0,i).trim()):g();function g(){(a||(a=[])).push(t.slice(p,i).trim()),p=i+1}if(void 0===r?r=t.slice(0,i).trim():0!==p&&g(),a)for(i=0;i<a.length;i++)r=ki(r,a[i]);return r}function ki(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var i=e.slice(0,n),r=e.slice(n+1);return'_f("'+i+'")('+t+(")"!==r?","+r:r)}function Ci(t,e){console.error("[Vue compiler]: "+t)}function Ei(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Si(t,e,n,i,r){(t.props||(t.props=[])).push(Mi({name:e,value:n,dynamic:r},i)),t.plain=!1}function Ai(t,e,n,i,r){(r?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Mi({name:e,value:n,dynamic:r},i)),t.plain=!1}function Ri(t,e,n,i){t.attrsMap[e]=n,t.attrsList.push(Mi({name:e,value:n},i))}function Li(t,e,n,i,r,a,o,s){(t.directives||(t.directives=[])).push(Mi({name:e,rawName:n,value:i,arg:r,isDynamicArg:a,modifiers:o},s)),t.plain=!1}function Di(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Oi(t,e,n,r,a,o,s,l){var c;(r=r||i).right?l?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete r.right):r.middle&&(l?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=Di("!",e,l)),r.once&&(delete r.once,e=Di("~",e,l)),r.passive&&(delete r.passive,e=Di("&",e,l)),r.native?(delete r.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var u=Mi({value:n.trim(),dynamic:l},s);r!==i&&(u.modifiers=r);var d=c[e];Array.isArray(d)?a?d.unshift(u):d.push(u):c[e]=d?a?[u,d]:[d,u]:u,t.plain=!1}function Ii(t,e,n){var i=Pi(t,":"+e)||Pi(t,"v-bind:"+e);if(null!=i)return Ti(i);if(!1!==n){var r=Pi(t,e);if(null!=r)return JSON.stringify(r)}}function Pi(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,a=0,o=r.length;a<o;a++)if(r[a].name===e){r.splice(a,1);break}return n&&delete t.attrsMap[e],i}function Ni(t,e){for(var n=t.attrsList,i=0,r=n.length;i<r;i++){var a=n[i];if(e.test(a.name))return n.splice(i,1),a}}function Mi(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Fi(t,e,n){var i=n||{},r=i.number,a="$$v";i.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(a="_n("+a+")");var o=ji(e,a);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+o+"}"}}function ji(t,e){var n=function(t){if(t=t.trim(),mi=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<mi-1)return(yi=t.lastIndexOf("."))>-1?{exp:t.slice(0,yi),key:'"'+t.slice(yi+1)+'"'}:{exp:t,key:null};for(gi=t,yi=bi=_i=0;!Ui();)$i(vi=Bi())?Hi(vi):91===vi&&qi(vi);return{exp:t.slice(0,bi),key:t.slice(bi+1,_i)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Bi(){return gi.charCodeAt(++yi)}function Ui(){return yi>=mi}function $i(t){return 34===t||39===t}function qi(t){var e=1;for(bi=yi;!Ui();)if($i(t=Bi()))Hi(t);else if(91===t&&e++,93===t&&e--,0===e){_i=yi;break}}function Hi(t){for(var e=t;!Ui()&&(t=Bi())!==e;);}var zi;function Gi(t,e,n){var i=zi;return function r(){null!==e.apply(null,arguments)&&Wi(t,r,n,i)}}var Ki=Vt&&!(tt&&Number(tt[1])<=53);function Vi(t,e,n,i){if(Ki){var r=sn,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}zi.addEventListener(t,e,nt?{capture:n,passive:i}:n)}function Wi(t,e,n,i){(i||zi).removeEventListener(t,e._wrapper||e,n)}function Yi(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};zi=e.elm,function(t){if(a(t.__r)){var e=X?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}a(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),oe(n,i,Vi,Wi,Gi,e.context),zi=void 0}}var Xi,Qi={create:Yi,update:Yi};function Ji(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,i,o=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(n in a(l.__ob__)&&(l=e.data.domProps=R({},l)),s)n in l||(o[n]="");for(n in l){if(i=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=i;var c=r(i)?"":String(i);Zi(o,c)&&(o.value=c)}else if("innerHTML"===n&&zn(o.tagName)&&r(o.innerHTML)){(Xi=Xi||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var u=Xi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}else if(i!==s[n])try{o[n]=i}catch(t){}}}}function Zi(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(a(i)){if(i.number)return h(n)!==h(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var tr={create:Ji,update:Ji},er=w(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function nr(t){var e=ir(t.style);return t.staticStyle?R(t.staticStyle,e):e}function ir(t){return Array.isArray(t)?L(t):"string"==typeof t?er(t):t}var rr,ar=/^--/,or=/\s*!important$/,sr=function(t,e,n){if(ar.test(e))t.style.setProperty(e,n);else if(or.test(n))t.style.setProperty(E(e),n.replace(or,""),"important");else{var i=cr(e);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)t.style[i]=n[r];else t.style[i]=n}},lr=["Webkit","Moz","ms"],cr=w(function(t){if(rr=rr||document.createElement("div").style,"filter"!==(t=T(t))&&t in rr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<lr.length;n++){var i=lr[n]+e;if(i in rr)return i}});function ur(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var o,s,l=e.elm,c=i.staticStyle,u=i.normalizedStyle||i.style||{},d=c||u,f=ir(e.data.style)||{};e.data.normalizedStyle=a(f.__ob__)?R({},f):f;var p=function(t,e){for(var n,i={},r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=nr(r.data))&&R(i,n);(n=nr(t.data))&&R(i,n);for(var a=t;a=a.parent;)a.data&&(n=nr(a.data))&&R(i,n);return i}(e);for(s in d)r(p[s])&&sr(l,s,"");for(s in p)(o=p[s])!==d[s]&&sr(l,s,null==o?"":o)}}var dr={create:ur,update:ur},fr=/\s+/;function pr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(fr).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function hr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(fr).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function mr(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&R(e,gr(t.name||"v")),R(e,t),e}return"string"==typeof t?gr(t):void 0}}var gr=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),vr=K&&!Q,yr="transition",br="animation",_r="transition",wr="transitionend",xr="animation",Tr="animationend";vr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(_r="WebkitTransition",wr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(xr="WebkitAnimation",Tr="webkitAnimationEnd"));var kr=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Cr(t){kr(function(){kr(t)})}function Er(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),pr(t,e))}function Sr(t,e){t._transitionClasses&&y(t._transitionClasses,e),hr(t,e)}function Ar(t,e,n){var i=Lr(t,e),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s=r===yr?wr:Tr,l=0,c=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++l>=o&&c()};setTimeout(function(){l<o&&c()},a+1),t.addEventListener(s,u)}var Rr=/\b(transform|all)(,|$)/;function Lr(t,e){var n,i=window.getComputedStyle(t),r=(i[_r+"Delay"]||"").split(", "),a=(i[_r+"Duration"]||"").split(", "),o=Dr(r,a),s=(i[xr+"Delay"]||"").split(", "),l=(i[xr+"Duration"]||"").split(", "),c=Dr(s,l),u=0,d=0;return e===yr?o>0&&(n=yr,u=o,d=a.length):e===br?c>0&&(n=br,u=c,d=l.length):d=(n=(u=Math.max(o,c))>0?o>c?yr:br:null)?n===yr?a.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===yr&&Rr.test(i[_r+"Property"])}}function Dr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Or(e)+Or(t[n])}))}function Or(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ir(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=mr(t.data.transition);if(!r(i)&&!a(n._enterCb)&&1===n.nodeType){for(var o=i.css,s=i.type,c=i.enterClass,u=i.enterToClass,d=i.enterActiveClass,f=i.appearClass,p=i.appearToClass,m=i.appearActiveClass,g=i.beforeEnter,v=i.enter,y=i.afterEnter,b=i.enterCancelled,_=i.beforeAppear,w=i.appear,x=i.afterAppear,T=i.appearCancelled,k=i.duration,C=Ye,E=Ye.$vnode;E&&E.parent;)C=E.context,E=E.parent;var S=!C._isMounted||!t.isRootInsert;if(!S||w||""===w){var A=S&&f?f:c,R=S&&m?m:d,L=S&&p?p:u,D=S&&_||g,O=S&&"function"==typeof w?w:v,I=S&&x||y,P=S&&T||b,N=h(l(k)?k.enter:k),F=!1!==o&&!Q,j=Mr(O),B=n._enterCb=M(function(){F&&(Sr(n,L),Sr(n,R)),B.cancelled?(F&&Sr(n,A),P&&P(n)):I&&I(n),n._enterCb=null});t.data.show||se(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),O&&O(n,B)}),D&&D(n),F&&(Er(n,A),Er(n,R),Cr(function(){Sr(n,A),B.cancelled||(Er(n,L),j||(Nr(N)?setTimeout(B,N):Ar(n,s,B)))})),t.data.show&&(e&&e(),O&&O(n,B)),F||j||B()}}}function Pr(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=mr(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var o=i.css,s=i.type,c=i.leaveClass,u=i.leaveToClass,d=i.leaveActiveClass,f=i.beforeLeave,p=i.leave,m=i.afterLeave,g=i.leaveCancelled,v=i.delayLeave,y=i.duration,b=!1!==o&&!Q,_=Mr(p),w=h(l(y)?y.leave:y),x=n._leaveCb=M(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Sr(n,u),Sr(n,d)),x.cancelled?(b&&Sr(n,c),g&&g(n)):(e(),m&&m(n)),n._leaveCb=null});v?v(T):T()}function T(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(Er(n,c),Er(n,d),Cr(function(){Sr(n,c),x.cancelled||(Er(n,u),_||(Nr(w)?setTimeout(x,w):Ar(n,s,x)))})),p&&p(n,x),b||_||x())}}function Nr(t){return"number"==typeof t&&!isNaN(t)}function Mr(t){if(r(t))return!1;var e=t.fns;return a(e)?Mr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Fr(t,e){!0!==e.data.show&&Ir(e)}var jr=function(t){var e,n,i={},l=t.modules,c=t.nodeOps;for(e=0;e<ti.length;++e)for(i[ti[e]]=[],n=0;n<l.length;++n)a(l[n][ti[e]])&&i[ti[e]].push(l[n][ti[e]]);function u(t){var e=c.parentNode(t);a(e)&&c.removeChild(e,t)}function d(t,e,n,r,s,l,u){if(a(t.elm)&&a(l)&&(t=l[u]=bt(t)),t.isRootInsert=!s,!function(t,e,n,r){var s=t.data;if(a(s)){var l=a(t.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(t,!1),a(t.componentInstance))return f(t,e),p(n,t.elm,r),o(l)&&function(t,e,n,r){for(var o,s=t;s.componentInstance;)if(a(o=(s=s.componentInstance._vnode).data)&&a(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](Zn,s);e.push(s);break}p(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var d=t.data,m=t.children,g=t.tag;a(g)?(t.elm=t.ns?c.createElementNS(t.ns,g):c.createElement(g,t),y(t),h(t,m,e),a(d)&&v(t,e),p(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),p(n,t.elm,r)):(t.elm=c.createTextNode(t.text),p(n,t.elm,r))}}function f(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),y(t)):(Jn(t),e.push(t))}function p(t,e,n){a(t)&&(a(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function h(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)d(e[i],n,t.elm,null,!0,e,i);else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return a(t.tag)}function v(t,n){for(var r=0;r<i.create.length;++r)i.create[r](Zn,t);a(e=t.data.hook)&&(a(e.create)&&e.create(Zn,t),a(e.insert)&&n.push(t))}function y(t){var e;if(a(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var n=t;n;)a(e=n.context)&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent;a(e=Ye)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function b(t,e,n,i,r,a){for(;i<=r;++i)d(n[i],a,t,e,!1,n,i)}function _(t){var e,n,r=t.data;if(a(r))for(a(e=r.hook)&&a(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function w(t,e,n){for(;e<=n;++e){var i=t[e];a(i)&&(a(i.tag)?(x(i),_(i)):u(i.elm))}}function x(t,e){if(a(e)||a(t.data)){var n,r=i.remove.length+1;for(a(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&u(t)}return n.listeners=e,n}(t.elm,r),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&x(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else u(t.elm)}function T(t,e,n,i){for(var r=n;r<i;r++){var o=e[r];if(a(o)&&ei(t,o))return r}}function k(t,e,n,s,l,u){if(t!==e){a(e.elm)&&a(s)&&(e=s[l]=bt(e));var f=e.elm=t.elm;if(o(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?S(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,h=e.data;a(h)&&a(p=h.hook)&&a(p=p.prepatch)&&p(t,e);var m=t.children,v=e.children;if(a(h)&&g(e)){for(p=0;p<i.update.length;++p)i.update[p](t,e);a(p=h.hook)&&a(p=p.update)&&p(t,e)}r(e.text)?a(m)&&a(v)?m!==v&&function(t,e,n,i,o){for(var s,l,u,f=0,p=0,h=e.length-1,m=e[0],g=e[h],v=n.length-1,y=n[0],_=n[v],x=!o;f<=h&&p<=v;)r(m)?m=e[++f]:r(g)?g=e[--h]:ei(m,y)?(k(m,y,i,n,p),m=e[++f],y=n[++p]):ei(g,_)?(k(g,_,i,n,v),g=e[--h],_=n[--v]):ei(m,_)?(k(m,_,i,n,v),x&&c.insertBefore(t,m.elm,c.nextSibling(g.elm)),m=e[++f],_=n[--v]):ei(g,y)?(k(g,y,i,n,p),x&&c.insertBefore(t,g.elm,m.elm),g=e[--h],y=n[++p]):(r(s)&&(s=ni(e,f,h)),r(l=a(y.key)?s[y.key]:T(y,e,f,h))?d(y,i,t,m.elm,!1,n,p):ei(u=e[l],y)?(k(u,y,i,n,p),e[l]=void 0,x&&c.insertBefore(t,u.elm,m.elm)):d(y,i,t,m.elm,!1,n,p),y=n[++p]);f>h?b(t,r(n[v+1])?null:n[v+1].elm,n,p,v,i):p>v&&w(e,f,h)}(f,m,v,n,u):a(v)?(a(t.text)&&c.setTextContent(f,""),b(f,null,v,0,v.length-1,n)):a(m)?w(m,0,m.length-1):a(t.text)&&c.setTextContent(f,""):t.text!==e.text&&c.setTextContent(f,e.text),a(h)&&a(p=h.hook)&&a(p=p.postpatch)&&p(t,e)}}}function C(t,e,n){if(o(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var E=m("attrs,class,staticClass,staticStyle,key");function S(t,e,n,i){var r,s=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,o(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(r=l.hook)&&a(r=r.init)&&r(e,!0),a(r=e.componentInstance)))return f(e,n),!0;if(a(s)){if(a(c))if(t.hasChildNodes())if(a(r=l)&&a(r=r.domProps)&&a(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var u=!0,d=t.firstChild,p=0;p<c.length;p++){if(!d||!S(d,c[p],n,i)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else h(e,c,n);if(a(l)){var m=!1;for(var g in l)if(!E(g)){m=!0,v(e,n);break}!m&&l.class&&ie(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!r(e)){var l,u=!1,f=[];if(r(t))u=!0,d(e,f);else{var p=a(t.nodeType);if(!p&&ei(t,e))k(t,e,f,null,null,s);else{if(p){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),o(n)&&S(t,e,f))return C(e,f,!0),t;l=t,t=new mt(c.tagName(l).toLowerCase(),{},[],void 0,l)}var h=t.elm,m=c.parentNode(h);if(d(e,f,h._leaveCb?null:m,c.nextSibling(h)),a(e.parent))for(var v=e.parent,y=g(e);v;){for(var b=0;b<i.destroy.length;++b)i.destroy[b](v);if(v.elm=e.elm,y){for(var x=0;x<i.create.length;++x)i.create[x](Zn,v);var T=v.data.hook.insert;if(T.merged)for(var E=1;E<T.fns.length;E++)T.fns[E]()}else Jn(v);v=v.parent}a(m)?w([t],0,0):a(t.tag)&&_(t)}}return C(e,f,u),e.elm}a(t)&&_(t)}}({nodeOps:Xn,modules:[pi,wi,Qi,tr,dr,K?{create:Fr,activate:Fr,remove:function(t,e){!0!==t.data.show?Pr(t,e):e()}}:{}].concat(ci)});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Kr(t,"input")});var Br={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?se(n,"postpatch",function(){Br.componentUpdated(t,e,n)}):Ur(t,e,n.context),t._vOptions=[].map.call(t.options,Hr)):("textarea"===n.tag||Wn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",zr),t.addEventListener("compositionend",Gr),t.addEventListener("change",Gr),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ur(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Hr);r.some(function(t,e){return!P(t,i[e])})&&(t.multiple?e.value.some(function(t){return qr(t,r)}):e.value!==e.oldValue&&qr(e.value,r))&&Kr(t,"change")}}};function Ur(t,e,n){$r(t,e,n),(X||J)&&setTimeout(function(){$r(t,e,n)},0)}function $r(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)a=N(i,Hr(o))>-1,o.selected!==a&&(o.selected=a);else if(P(Hr(o),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function qr(t,e){return e.every(function(e){return!P(e,t)})}function Hr(t){return"_value"in t?t._value:t.value}function zr(t){t.target.composing=!0}function Gr(t){t.target.composing&&(t.target.composing=!1,Kr(t.target,"input"))}function Kr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Vr(t){return!t.componentInstance||t.data&&t.data.transition?t:Vr(t.componentInstance._vnode)}var Wr={model:Br,show:{bind:function(t,e,n){var i=e.value,r=(n=Vr(n)).data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Ir(n,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=Vr(n)).data&&n.data.transition?(n.data.show=!0,i?Ir(n,function(){t.style.display=t.__vOriginalDisplay}):Pr(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},Yr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Xr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Xr(ze(e.children)):t}function Qr(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var a in r)e[T(a)]=r[a];return e}function Jr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Zr=function(t){return t.tag||He(t)},ta=function(t){return"show"===t.name},ea={name:"transition",props:Yr,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Zr)).length){var i=this.mode,r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var a=Xr(r);if(!a)return r;if(this._leaving)return Jr(t,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var l=(a.data||(a.data={})).transition=Qr(this),c=this._vnode,u=Xr(c);if(a.data.directives&&a.data.directives.some(ta)&&(a.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,u)&&!He(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=R({},l);if("out-in"===i)return this._leaving=!0,se(d,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Jr(t,r);if("in-out"===i){if(He(a))return c;var f,p=function(){f()};se(l,"afterEnter",p),se(l,"enterCancelled",p),se(d,"delayLeave",function(t){f=t})}}return r}}},na=R({tag:String,moveClass:String},Yr);function ia(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ra(t){t.data.newPos=t.elm.getBoundingClientRect()}function aa(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}delete na.mode;var oa={Transition:ea,TransitionGroup:{props:na,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Xe(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=Qr(this),s=0;s<r.length;s++){var l=r[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(a.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o)}if(i){for(var c=[],u=[],d=0;d<i.length;d++){var f=i[d];f.data.transition=o,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):u.push(f)}this.kept=t(e,null,c),this.removed=u}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ia),t.forEach(ra),t.forEach(aa),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;Er(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(wr,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(wr,t),n._moveCb=null,Sr(n,e))})}}))},methods:{hasMove:function(t,e){if(!vr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){hr(n,t)}),pr(n,e),n.style.display="none",this.$el.appendChild(n);var i=Lr(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};xn.config.mustUseProp=Dn,xn.config.isReservedTag=Gn,xn.config.isReservedAttr=Rn,xn.config.getTagNamespace=Kn,xn.config.isUnknownElement=function(t){if(!K)return!0;if(Gn(t))return!1;if(t=t.toLowerCase(),null!=Vn[t])return Vn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Vn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Vn[t]=/HTMLUnknownElement/.test(e.toString())},R(xn.options.directives,Wr),R(xn.options.components,oa),xn.prototype.__patch__=K?jr:D,xn.prototype.$mount=function(t,e){return function(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=vt),Ze(t,"beforeMount"),i=function(){t._update(t._render(),n)},new fn(t,i,D,{before:function(){t._isMounted&&!t._isDestroyed&&Ze(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ze(t,"mounted")),t}(this,t=t&&K?Yn(t):void 0,e)},K&&setTimeout(function(){U.devtools&&at&&at.emit("init",xn)},0);var sa,la=/\{\{((?:.|\r?\n)+?)\}\}/g,ca=/[-.*+?^${}()|[\]\/\\]/g,ua=w(function(t){var e=t[0].replace(ca,"\\$&"),n=t[1].replace(ca,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),da={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Pi(t,"class");n&&(t.staticClass=JSON.stringify(n));var i=Ii(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},fa={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Pi(t,"style");n&&(t.staticStyle=JSON.stringify(er(n)));var i=Ii(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},pa=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),ha=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ma=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),ga=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,va=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ya="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+$.source+"]*",ba="((?:"+ya+"\\:)?"+ya+")",_a=new RegExp("^<"+ba),wa=/^\s*(\/?)>/,xa=new RegExp("^<\\/"+ba+"[^>]*>"),Ta=/^<!DOCTYPE [^>]+>/i,ka=/^<!\--/,Ca=/^<!\[/,Ea=m("script,style,textarea",!0),Sa={},Aa={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Ra=/&(?:lt|gt|quot|amp|#39);/g,La=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Da=m("pre,textarea",!0),Oa=function(t,e){return t&&Da(t)&&"\n"===e[0]};function Ia(t,e){var n=e?La:Ra;return t.replace(n,function(t){return Aa[t]})}var Pa,Na,Ma,Fa,ja,Ba,Ua,$a,qa=/^@|^v-on:/,Ha=/^v-|^@|^:|^#/,za=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ga=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ka=/^\(|\)$/g,Va=/^\[.*\]$/,Wa=/:(.*)$/,Ya=/^:|^\.|^v-bind:/,Xa=/\.[^.\]]+(?=[^\]]*$)/g,Qa=/^v-slot(:|$)|^#/,Ja=/[\r\n]/,Za=/\s+/g,to=w(function(t){return(sa=sa||document.createElement("div")).innerHTML=t,sa.textContent}),eo="_empty_";function no(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:lo(e),rawAttrsMap:{},parent:n,children:[]}}function io(t,e){var n,i;(i=Ii(n=t,"key"))&&(n.key=i),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Ii(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Pi(t,"scope"),t.slotScope=e||Pi(t,"slot-scope")):(e=Pi(t,"slot-scope"))&&(t.slotScope=e);var n=Ii(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Ai(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot"))),"template"===t.tag){var i=Ni(t,Qa);if(i){var r=oo(i),a=r.name,o=r.dynamic;t.slotTarget=a,t.slotTargetDynamic=o,t.slotScope=i.value||eo}}else{var s=Ni(t,Qa);if(s){var l=t.scopedSlots||(t.scopedSlots={}),c=oo(s),u=c.name,d=c.dynamic,f=l[u]=no("template",[],t);f.slotTarget=u,f.slotTargetDynamic=d,f.children=t.children.filter(function(t){if(!t.slotScope)return t.parent=f,!0}),f.slotScope=s.value||eo,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Ii(t,"name"))}(t),function(t){var e;(e=Ii(t,"is"))&&(t.component=e),null!=Pi(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<Ma.length;r++)t=Ma[r](t,e)||t;return function(t){var e,n,i,r,a,o,s,l,c=t.attrsList;for(e=0,n=c.length;e<n;e++)if(i=r=c[e].name,a=c[e].value,Ha.test(i))if(t.hasBindings=!0,(o=so(i.replace(Ha,"")))&&(i=i.replace(Xa,"")),Ya.test(i))i=i.replace(Ya,""),a=Ti(a),(l=Va.test(i))&&(i=i.slice(1,-1)),o&&(o.prop&&!l&&"innerHtml"===(i=T(i))&&(i="innerHTML"),o.camel&&!l&&(i=T(i)),o.sync&&(s=ji(a,"$event"),l?Oi(t,'"update:"+('+i+")",s,null,!1,0,c[e],!0):(Oi(t,"update:"+T(i),s,null,!1,0,c[e]),E(i)!==T(i)&&Oi(t,"update:"+E(i),s,null,!1,0,c[e])))),o&&o.prop||!t.component&&Ua(t.tag,t.attrsMap.type,i)?Si(t,i,a,c[e],l):Ai(t,i,a,c[e],l);else if(qa.test(i))i=i.replace(qa,""),(l=Va.test(i))&&(i=i.slice(1,-1)),Oi(t,i,a,o,!1,0,c[e],l);else{var u=(i=i.replace(Ha,"")).match(Wa),d=u&&u[1];l=!1,d&&(i=i.slice(0,-(d.length+1)),Va.test(d)&&(d=d.slice(1,-1),l=!0)),Li(t,i,r,a,d,l,o,c[e])}else Ai(t,i,JSON.stringify(a),c[e]),!t.component&&"muted"===i&&Ua(t.tag,t.attrsMap.type,i)&&Si(t,i,"true",c[e])}(t),t}function ro(t){var e;if(e=Pi(t,"v-for")){var n=function(t){var e=t.match(za);if(e){var n={};n.for=e[2].trim();var i=e[1].trim().replace(Ka,""),r=i.match(Ga);return r?(n.alias=i.replace(Ga,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}(e);n&&R(t,n)}}function ao(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function oo(t){var e=t.name.replace(Qa,"");return e||"#"!==t.name[0]&&(e="default"),Va.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function so(t){var e=t.match(Xa);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function lo(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}var co=/^xmlns:NS\d+/,uo=/^NS\d+:/;function fo(t){return no(t.tag,t.attrsList.slice(),t.parent)}var po,ho,mo=[da,fa,{preTransformNode:function(t,e){if("input"===t.tag){var n,i=t.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Ii(t,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=Pi(t,"v-if",!0),a=r?"&&("+r+")":"",o=null!=Pi(t,"v-else",!0),s=Pi(t,"v-else-if",!0),l=fo(t);ro(l),Ri(l,"type","checkbox"),io(l,e),l.processed=!0,l.if="("+n+")==='checkbox'"+a,ao(l,{exp:l.if,block:l});var c=fo(t);Pi(c,"v-for",!0),Ri(c,"type","radio"),io(c,e),ao(l,{exp:"("+n+")==='radio'"+a,block:c});var u=fo(t);return Pi(u,"v-for",!0),Ri(u,":type",n),io(u,e),ao(l,{exp:r,block:u}),o?l.else=!0:s&&(l.elseif=s),l}}}}],go={expectHTML:!0,modules:mo,directives:{model:function(t,e,n){var i=e.value,r=e.modifiers,a=t.tag,o=t.attrsMap.type;if(t.component)return Fi(t,i,r),!1;if("select"===a)!function(t,e,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r&&r.number?"_n(val)":"val")+"});";Oi(t,"change",i=i+" "+ji(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,i);else if("input"===a&&"checkbox"===o)!function(t,e,n){var i=n&&n.number,r=Ii(t,"value")||"null",a=Ii(t,"true-value")||"true",o=Ii(t,"false-value")||"false";Si(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===a?":("+e+")":":_q("+e+","+a+")")),Oi(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+o+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+ji(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+ji(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+ji(e,"$$c")+"}",null,!0)}(t,i,r);else if("input"===a&&"radio"===o)!function(t,e,n){var i=n&&n.number,r=Ii(t,"value")||"null";Si(t,"checked","_q("+e+","+(r=i?"_n("+r+")":r)+")"),Oi(t,"change",ji(e,r),null,!0)}(t,i,r);else if("input"===a||"textarea"===a)!function(t,e,n){var i=t.attrsMap.type,r=n||{},a=r.lazy,o=r.number,s=r.trim,l=!a&&"range"!==i,c=a?"change":"range"===i?"__r":"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),o&&(u="_n("+u+")");var d=ji(e,u);l&&(d="if($event.target.composing)return;"+d),Si(t,"value","("+e+")"),Oi(t,c,d,null,!0),(s||o)&&Oi(t,"blur","$forceUpdate()")}(t,i,r);else if(!U.isReservedTag(a))return Fi(t,i,r),!1;return!0},text:function(t,e){e.value&&Si(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Si(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:pa,mustUseProp:Dn,canBeLeftOpenTag:ha,isReservedTag:Gn,getTagNamespace:Kn,staticKeys:mo.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")},vo=w(function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}),yo=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,bo=/\([^)]*?\);*$/,_o=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,wo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},xo={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},To=function(t){return"if("+t+")return null;"},ko={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:To("$event.target !== $event.currentTarget"),ctrl:To("!$event.ctrlKey"),shift:To("!$event.shiftKey"),alt:To("!$event.altKey"),meta:To("!$event.metaKey"),left:To("'button' in $event && $event.button !== 0"),middle:To("'button' in $event && $event.button !== 1"),right:To("'button' in $event && $event.button !== 2")};function Co(t,e){var n=e?"nativeOn:":"on:",i="",r="";for(var a in t){var o=Eo(t[a]);t[a]&&t[a].dynamic?r+=a+","+o+",":i+='"'+a+'":'+o+","}return i="{"+i.slice(0,-1)+"}",r?n+"_d("+i+",["+r.slice(0,-1)+"])":n+i}function Eo(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Eo(t)}).join(",")+"]";var e=_o.test(t.value),n=yo.test(t.value),i=_o.test(t.value.replace(bo,""));if(t.modifiers){var r="",a="",o=[];for(var s in t.modifiers)if(ko[s])a+=ko[s],wo[s]&&o.push(s);else if("exact"===s){var l=t.modifiers;a+=To(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else o.push(s);return o.length&&(r+="if(!$event.type.indexOf('key')&&"+o.map(So).join("&&")+")return null;"),a&&(r+=a),"function($event){"+r+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":i?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(i?"return "+t.value:t.value)+"}"}function So(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=wo[t],i=xo[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var Ao={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:D},Ro=function(t){this.options=t,this.warn=t.warn||Ci,this.transforms=Ei(t.modules,"transformCode"),this.dataGenFns=Ei(t.modules,"genData"),this.directives=R(R({},Ao),t.directives);var e=t.isReservedTag||O;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Lo(t,e){var n=new Ro(e);return{render:"with(this){return "+(t?Do(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Do(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Oo(t,e);if(t.once&&!t.onceProcessed)return Io(t,e);if(t.for&&!t.forProcessed)return No(t,e);if(t.if&&!t.ifProcessed)return Po(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',i=Bo(t,e),r="_t("+n+(i?","+i:""),a=t.attrs||t.dynamicAttrs?qo((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(t){return{name:T(t.name),value:t.value,dynamic:t.dynamic}})):null,o=t.attrsMap["v-bind"];return!a&&!o||i||(r+=",null"),a&&(r+=","+a),o&&(r+=(a?"":",null")+","+o),r+")"}(t,e);var n;if(t.component)n=function(t,e,n){var i=e.inlineTemplate?null:Bo(e,n,!0);return"_c("+t+","+Mo(e,n)+(i?","+i:"")+")"}(t.component,t,e);else{var i;(!t.plain||t.pre&&e.maybeComponent(t))&&(i=Mo(t,e));var r=t.inlineTemplate?null:Bo(t,e,!0);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var a=0;a<e.transforms.length;a++)n=e.transforms[a](t,n);return n}return Bo(t,e)||"void 0"}function Oo(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Do(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Io(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Po(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Do(t,e)+","+e.onceId+++","+n+")":Do(t,e)}return Oo(t,e)}function Po(t,e,n,i){return t.ifProcessed=!0,function t(e,n,i,r){if(!e.length)return r||"_e()";var a=e.shift();return a.exp?"("+a.exp+")?"+o(a.block)+":"+t(e,n,i,r):""+o(a.block);function o(t){return i?i(t,n):t.once?Io(t,n):Do(t,n)}}(t.ifConditions.slice(),e,n,i)}function No(t,e,n,i){var r=t.for,a=t.alias,o=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(i||"_l")+"(("+r+"),function("+a+o+s+"){return "+(n||Do)(t,e)+"})"}function Mo(t,e){var n="{",i=function(t,e){var n=t.directives;if(n){var i,r,a,o,s="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){a=n[i],o=!0;var c=e.directives[a.name];c&&(o=!!c(t,a,e.warn)),o&&(l=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?",arg:"+(a.isDynamicArg?a.arg:'"'+a.arg+'"'):"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}(t,e);i&&(n+=i+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:"+qo(t.attrs)+","),t.props&&(n+="domProps:"+qo(t.props)+","),t.events&&(n+=Co(t.events,!1)+","),t.nativeEvents&&(n+=Co(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var i=t.for||Object.keys(e).some(function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Fo(n)}),r=!!t.if;if(!i)for(var a=t.parent;a;){if(a.slotScope&&a.slotScope!==eo||a.for){i=!0;break}a.if&&(r=!0),a=a.parent}var o=Object.keys(e).map(function(t){return jo(e[t],n)}).join(",");return"scopedSlots:_u(["+o+"]"+(i?",null,true":"")+(!i&&r?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(o):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var a=function(t,e){var n=t.children[0];if(n&&1===n.type){var i=Lo(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+qo(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Fo(t){return 1===t.type&&("slot"===t.tag||t.children.some(Fo))}function jo(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Po(t,e,jo,"null");if(t.for&&!t.forProcessed)return No(t,e,jo);var i=t.slotScope===eo?"":String(t.slotScope),r="function("+i+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Bo(t,e)||"undefined")+":undefined":Bo(t,e)||"undefined":Do(t,e))+"}",a=i?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+r+a+"}"}function Bo(t,e,n,i,r){var a=t.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag){var s=n?e.maybeComponent(o)?",1":",0":"";return""+(i||Do)(o,e)+s}var l=n?function(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(1===r.type){if(Uo(r)||r.ifConditions&&r.ifConditions.some(function(t){return Uo(t.block)})){n=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(a,e.maybeComponent):0,c=r||$o;return"["+a.map(function(t){return c(t,e)}).join(",")+"]"+(l?","+l:"")}}function Uo(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function $o(t,e){return 1===t.type?Do(t,e):3===t.type&&t.isComment?(i=t,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(n=t).type?n.expression:Ho(JSON.stringify(n.text)))+")";var n,i}function qo(t){for(var e="",n="",i=0;i<t.length;i++){var r=t[i],a=Ho(r.value);r.dynamic?n+=r.name+","+a+",":e+='"'+r.name+'":'+a+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Ho(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function zo(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),D}}function Go(t){var e=Object.create(null);return function(n,i,r){(i=R({},i)).warn,delete i.warn;var a=i.delimiters?String(i.delimiters)+n:n;if(e[a])return e[a];var o=t(n,i),s={},l=[];return s.render=zo(o.render,l),s.staticRenderFns=o.staticRenderFns.map(function(t){return zo(t,l)}),e[a]=s}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Ko,Vo,Wo=(Ko=function(t,e){var n=function(t,e){Pa=e.warn||Ci,Ba=e.isPreTag||O,Ua=e.mustUseProp||O,$a=e.getTagNamespace||O,e.isReservedTag,Ma=Ei(e.modules,"transformNode"),Fa=Ei(e.modules,"preTransformNode"),ja=Ei(e.modules,"postTransformNode"),Na=e.delimiters;var n,i,r=[],a=!1!==e.preserveWhitespace,o=e.whitespace,s=!1,l=!1;function c(t){if(u(t),s||t.processed||(t=io(t,e)),r.length||t===n||n.if&&(t.elseif||t.else)&&ao(n,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)o=t,(c=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(i.children))&&c.if&&ao(c,{exp:o.elseif,block:o});else{if(t.slotScope){var a=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[a]=t}i.children.push(t),t.parent=i}var o,c;t.children=t.children.filter(function(t){return!t.slotScope}),u(t),t.pre&&(s=!1),Ba(t.tag)&&(l=!1);for(var d=0;d<ja.length;d++)ja[d](t,e)}function u(t){if(!l)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,i,r=[],a=e.expectHTML,o=e.isUnaryTag||O,s=e.canBeLeftOpenTag||O,l=0;t;){if(n=t,i&&Ea(i)){var c=0,u=i.toLowerCase(),d=Sa[u]||(Sa[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),f=t.replace(d,function(t,n,i){return c=i.length,Ea(u)||"noscript"===u||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Oa(u,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});l+=t.length-f.length,t=f,E(u,l-c,l)}else{var p=t.indexOf("<");if(0===p){if(ka.test(t)){var h=t.indexOf("--\x3e");if(h>=0){e.shouldKeepComment&&e.comment(t.substring(4,h),l,l+h+3),T(h+3);continue}}if(Ca.test(t)){var m=t.indexOf("]>");if(m>=0){T(m+2);continue}}var g=t.match(Ta);if(g){T(g[0].length);continue}var v=t.match(xa);if(v){var y=l;T(v[0].length),E(v[1],y,l);continue}var b=k();if(b){C(b),Oa(b.tagName,t)&&T(1);continue}}var _=void 0,w=void 0,x=void 0;if(p>=0){for(w=t.slice(p);!(xa.test(w)||_a.test(w)||ka.test(w)||Ca.test(w)||(x=w.indexOf("<",1))<0);)p+=x,w=t.slice(p);_=t.substring(0,p)}p<0&&(_=t),_&&T(_.length),e.chars&&_&&e.chars(_,l-_.length,l)}if(t===n){e.chars&&e.chars(t);break}}function T(e){l+=e,t=t.substring(e)}function k(){var e=t.match(_a);if(e){var n,i,r={tagName:e[1],attrs:[],start:l};for(T(e[0].length);!(n=t.match(wa))&&(i=t.match(va)||t.match(ga));)i.start=l,T(i[0].length),i.end=l,r.attrs.push(i);if(n)return r.unarySlash=n[1],T(n[0].length),r.end=l,r}}function C(t){var n=t.tagName,l=t.unarySlash;a&&("p"===i&&ma(n)&&E(i),s(n)&&i===n&&E(n));for(var c=o(n)||!!l,u=t.attrs.length,d=new Array(u),f=0;f<u;f++){var p=t.attrs[f],h=p[3]||p[4]||p[5]||"",m="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;d[f]={name:p[1],value:Ia(h,m)}}c||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:t.start,end:t.end}),i=n),e.start&&e.start(n,d,c,t.start,t.end)}function E(t,n,a){var o,s;if(null==n&&(n=l),null==a&&(a=l),t)for(s=t.toLowerCase(),o=r.length-1;o>=0&&r[o].lowerCasedTag!==s;o--);else o=0;if(o>=0){for(var c=r.length-1;c>=o;c--)e.end&&e.end(r[c].tag,n,a);r.length=o,i=o&&r[o-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,a):"p"===s&&(e.start&&e.start(t,[],!1,n,a),e.end&&e.end(t,n,a))}E()}(t,{warn:Pa,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,a,o,u,d){var f=i&&i.ns||$a(t);X&&"svg"===f&&(a=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];co.test(i.name)||(i.name=i.name.replace(uo,""),e.push(i))}return e}(a));var p,h=no(t,a,i);f&&(h.ns=f),"style"!==(p=h).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||rt()||(h.forbidden=!0);for(var m=0;m<Fa.length;m++)h=Fa[m](h,e)||h;s||(function(t){null!=Pi(t,"v-pre")&&(t.pre=!0)}(h),h.pre&&(s=!0)),Ba(h.tag)&&(l=!0),s?function(t){var e=t.attrsList,n=e.length;if(n)for(var i=t.attrs=new Array(n),r=0;r<n;r++)i[r]={name:e[r].name,value:JSON.stringify(e[r].value)},null!=e[r].start&&(i[r].start=e[r].start,i[r].end=e[r].end);else t.pre||(t.plain=!0)}(h):h.processed||(ro(h),function(t){var e=Pi(t,"v-if");if(e)t.if=e,ao(t,{exp:e,block:t});else{null!=Pi(t,"v-else")&&(t.else=!0);var n=Pi(t,"v-else-if");n&&(t.elseif=n)}}(h),function(t){null!=Pi(t,"v-once")&&(t.once=!0)}(h)),n||(n=h),o?c(h):(i=h,r.push(h))},end:function(t,e,n){var a=r[r.length-1];r.length-=1,i=r[r.length-1],c(a)},chars:function(t,e,n){if(i&&(!X||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,c,u,d=i.children;(t=l||t.trim()?"script"===(r=i).tag||"style"===r.tag?t:to(t):d.length?o?"condense"===o&&Ja.test(t)?"":" ":a?" ":"":"")&&(l||"condense"!==o||(t=t.replace(Za," ")),!s&&" "!==t&&(c=function(t,e){var n=Na?ua(Na):la;if(n.test(t)){for(var i,r,a,o=[],s=[],l=n.lastIndex=0;i=n.exec(t);){(r=i.index)>l&&(s.push(a=t.slice(l,r)),o.push(JSON.stringify(a)));var c=Ti(i[1].trim());o.push("_s("+c+")"),s.push({"@binding":c}),l=r+i[0].length}return l<t.length&&(s.push(a=t.slice(l)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}(t))?u={type:2,expression:c.expression,tokens:c.tokens,text:t}:" "===t&&d.length&&" "===d[d.length-1].text||(u={type:3,text:t}),u&&d.push(u))}},comment:function(t,e,n){if(i){var r={type:3,text:t,isComment:!0};i.children.push(r)}}}),n}(t.trim(),e);!1!==e.optimize&&function(t,e){t&&(po=vo(e.staticKeys||""),ho=e.isReservedTag||O,function t(e){if(e.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||g(t.tag)||!ho(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(po))))}(e),1===e.type){if(!ho(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];t(r),r.static||(e.static=!1)}if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++){var s=e.ifConditions[a].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var i=0,r=e.children.length;i<r;i++)t(e.children[i],n||!!e.for);if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++)t(e.ifConditions[a].block,n)}}(t,!1))}(n,e);var i=Lo(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(t){function e(e,n){var i=Object.create(t),r=[],a=[];if(n)for(var o in n.modules&&(i.modules=(t.modules||[]).concat(n.modules)),n.directives&&(i.directives=R(Object.create(t.directives||null),n.directives)),n)"modules"!==o&&"directives"!==o&&(i[o]=n[o]);i.warn=function(t,e,n){(n?a:r).push(t)};var s=Ko(e.trim(),i);return s.errors=r,s.tips=a,s}return{compile:e,compileToFunctions:Go(e)}})(go),Yo=(Wo.compile,Wo.compileToFunctions);function Xo(t){return(Vo=Vo||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Vo.innerHTML.indexOf("&#10;")>0}var Qo=!!K&&Xo(!1),Jo=!!K&&Xo(!0),Zo=w(function(t){var e=Yn(t);return e&&e.innerHTML}),ts=xn.prototype.$mount;xn.prototype.$mount=function(t,e){if((t=t&&Yn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=Zo(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){var r=Yo(i,{outputSourceRange:!1,shouldDecodeNewlines:Qo,shouldDecodeNewlinesForHref:Jo,delimiters:n.delimiters,comments:n.comments},this),a=r.render,o=r.staticRenderFns;n.render=a,n.staticRenderFns=o}}return ts.call(this,t,e)},xn.compile=Yo,t.exports=xn}).call(this,n("yLpj"),n("URgk").setImmediate)},INrP:function(t,e,n){"use strict";n.r(e);var i={name:"DeleteButton",props:["id","api"],mounted:function(){},methods:{postApiUrl:function(){return window.tokenize(this.api+this.id)},deleteClick:function(){this.deleted=!this.deleted;var t=$(this.$refs.delete),e=t.parents(".question-item");e.css({opacity:".5"}),e.find("a").click(function(){return!1});var n=this;window.axios.get(this.postApiUrl()).then(function(t){n.question=t.data});var i=t.parents(".answer-item");i.css({opacity:".5"}),i.find("a").click(function(){return!1})}},data:function(){return{deleted:!1,question:{message:null}}}},r=(n("0NVF"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-delete"},[t.question.deleted?n("div",[t._m(0),t._v(" "),t.question.message?n("span",{staticClass:"tips"},[t._v(t._s(t.question.message))]):t._e()]):n("div",[n("a",{ref:"delete",staticClass:" delete ",on:{click:function(e){return t.deleteClick()}}},[t._m(1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"delete deleted",attrs:{disabled:"disabled"}},[e("i",{staticClass:"iconfont icon-lajitong"},[e("span",{staticClass:"text hidden-xs"},[this._v("已删除")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("i",{staticClass:"iconfont icon-lajitong"},[e("span",{staticClass:"text hidden-xs"},[this._v("删除")])])}],!1,null,"70a5a406",null);e.default=a.exports},INzz:function(t,e,n){var i=n("3ojn");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},J5dD:function(t,e,n){var i=n("ohap");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},JEQr:function(t,e,n){"use strict";(function(e){var i=n("xTJ+"),r=n("yK9s"),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n("tQ2B")),s),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){l.headers[t]={}}),i.forEach(["post","put","patch"],function(t){l.headers[t]=i.merge(a)}),t.exports=l}).call(this,n("8oxB"))},JO1w:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"destroyArticle",function(){return oe}),n.d(i,"restoreArticle",function(){return se}),n.d(i,"getTrash",function(){return le}),n.d(i,"goDefaultTrash",function(){return ce}),n.d(i,"addArticle",function(){return ue}),n.d(i,"autoSavePreviousArticle",function(){return de}),n.d(i,"saveArticle",function(){return fe}),n.d(i,"publishArticle",function(){return pe}),n.d(i,"unpublishArticle",function(){return he}),n.d(i,"moveArticle",function(){return me}),n.d(i,"removeArticle",function(){return ge}),n.d(i,"updateCurrentPathInfo",function(){return ve}),n.d(i,"getCollections",function(){return ye}),n.d(i,"addCollection",function(){return be}),n.d(i,"goDefaultCollection",function(){return _e}),n.d(i,"goCollection",function(){return we}),n.d(i,"goArticle",function(){return xe}),n.d(i,"removeCollection",function(){return Te}),n.d(i,"renameCollection",function(){return ke});var r=n("XuX8"),a=n.n(r),o=n("L2JU"),s=function(t){window.axios.get(window.tokenize("/api/collections")).then(function(e){t(e.data)})},l=function(t,e){window.axios.post(window.tokenize("/api/collection/create"),{name:t}).then(function(t){e(t.data)})},c=function(t,e){window.axios.delete(window.tokenize("/api/collection/"+t)).then(function(n){e(t)})},u=function(t,e){window.axios.post(window.tokenize("/api/collection/"+t.id),{name:t.name}).then(function(t){e(t.data)})},d=function(t,e){window.axios.post(window.tokenize("/api/collection/"+t+"/article/create"),{title:"无标题文章",body:""}).then(function(t){e(t.data)})},f=function(t,e){var n={title:t.title,body:t.body,status:t.status};window.axios.put(window.tokenize("/api/article/"+t.id+"/update"),n).then(function(t){e(t.data)})},p=function(t,e){var n=t.article,i=t.collectionId;window.axios.get(window.tokenize("/api/article-"+n.id+"-move-collection-"+i)).then(function(t){e(t.data)})},h=function(t){window.axios.delete(window.tokenize("/api/article/"+t))},m=function(t){window.axios.get(window.tokenize("/api/article/"+t+"/destroy"))},g=function(t,e){window.axios.get(window.tokenize("/api/article/"+t+"/restore")).then(function(t){e()})},v=function(t){window.axios.get(window.tokenize("/api/article-trash")).then(function(e){t(e.data)})};function y(t,e){for(var n in e)t[n]=e[n];return t}var b=/[!'()*]/g,_=function(t){return"%"+t.charCodeAt(0).toString(16)},w=/%2C/g,x=function(t){return encodeURIComponent(t).replace(b,_).replace(w,",")};function T(t){try{return decodeURIComponent(t)}catch(t){}return t}var k=function(t){return null==t||"object"==typeof t?t:String(t)};function C(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),i=T(n.shift()),r=n.length>0?T(n.join("=")):null;void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]}),e):e}var E=/\/?$/;function S(t,e,n,i){var r=i&&i.options.stringifyQuery,a=e.query||{};try{a=A(a)}catch(t){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:D(e,r),matched:t?L(t):[]};return n&&(o.redirectedFrom=D(n,r)),Object.freeze(o)}function A(t){if(Array.isArray(t))return t.map(A);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=A(t[n]);return e}return t}var R=S(null,{path:"/"});function L(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function D(t,e){var n=t.path,i=t.query;void 0===i&&(i={});var r=t.hash;return void 0===r&&(r=""),(n||"/")+(e||function(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return x(e);if(Array.isArray(n)){var i=[];return n.forEach(function(t){void 0!==t&&(null===t?i.push(x(e)):i.push(x(e)+"="+x(t)))}),i.join("&")}return x(e)+"="+x(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""})(i)+r}function O(t,e){return e===R?t===e:!!e&&(t.path&&e.path?t.path.replace(E,"")===e.path.replace(E,"")&&t.hash===e.hash&&I(t.query,e.query):!(!t.name||!e.name)&&t.name===e.name&&t.hash===e.hash&&I(t.query,e.query)&&I(t.params,e.params))}function I(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),i=Object.keys(e).sort();return n.length===i.length&&n.every(function(n,r){var a=t[n];if(i[r]!==n)return!1;var o=e[n];return null==a||null==o?a===o:"object"==typeof a&&"object"==typeof o?I(a,o):String(a)===String(o)})}function P(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var i in n.instances){var r=n.instances[i],a=n.enteredCbs[i];if(r&&a){delete n.enteredCbs[i];for(var o=0;o<a.length;o++)r._isBeingDestroyed||a[o](r)}}}}var N={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,r=e.parent,a=e.data;a.routerView=!0;for(var o=r.$createElement,s=n.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),u=0,d=!1;r&&r._routerRoot!==r;){var f=r.$vnode?r.$vnode.data:{};f.routerView&&u++,f.keepAlive&&r._directInactive&&r._inactive&&(d=!0),r=r.$parent}if(a.routerViewDepth=u,d){var p=c[s],h=p&&p.component;return h?(p.configProps&&M(h,a,p.route,p.configProps),o(h,a,i)):o()}var m=l.matched[u],g=m&&m.components[s];if(!m||!g)return c[s]=null,o();c[s]={component:g},a.registerRouteInstance=function(t,e){var n=m.instances[s];(e&&n!==t||!e&&n===t)&&(m.instances[s]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){m.instances[s]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==m.instances[s]&&(m.instances[s]=t.componentInstance),P(l)};var v=m.props&&m.props[s];return v&&(y(c[s],{route:l,configProps:v}),M(g,a,l,v)),o(g,a,i)}};function M(t,e,n,i){var r=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}(n,i);if(r){r=e.props=y({},r);var a=e.attrs=e.attrs||{};for(var o in r)t.props&&o in t.props||(a[o]=r[o],delete r[o])}}function F(t,e,n){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var r=e.split("/");n&&r[r.length-1]||r.pop();for(var a=t.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function j(t){return t.replace(/\/\//g,"/")}var B=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},U=function t(e,n,i){return B(n)||(i=n||i,n=[]),i=i||{},e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Q(t,e)}(e,n):B(e)?function(e,n,i){for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],n,i).source);return Q(new RegExp("(?:"+r.join("|")+")",J(i)),n)}(e,n,i):function(t,e,n){return Z(K(t,n),e,n)}(e,n,i)},q=K,H=W,z=Z,G=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function K(t,e){for(var n,i=[],r=0,a=0,o="",s=e&&e.delimiter||"/";null!=(n=G.exec(t));){var l=n[0],c=n[1],u=n.index;if(o+=t.slice(a,u),a=u+l.length,c)o+=c[1];else{var d=t[a],f=n[2],p=n[3],h=n[4],m=n[5],g=n[6],v=n[7];o&&(i.push(o),o="");var y=null!=f&&null!=d&&d!==f,b="+"===g||"*"===g,_="?"===g||"*"===g,w=n[2]||s,x=h||m;i.push({name:p||r++,prefix:f||"",delimiter:w,optional:_,repeat:b,partial:y,asterisk:!!v,pattern:x?X(x):v?".*":"[^"+Y(w)+"]+?"})}}return a<t.length&&(o+=t.substr(a)),o&&i.push(o),i}function V(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function W(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",J(e)));return function(e,i){for(var r="",a=e||{},o=(i||{}).pretty?V:encodeURIComponent,s=0;s<t.length;s++){var l=t[s];if("string"!=typeof l){var c,u=a[l.name];if(null==u){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(B(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(c=o(u[d]),!n[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):o(u),!n[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function Y(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function X(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Q(t,e){return t.keys=e,t}function J(t){return t&&t.sensitive?"":"i"}function Z(t,e,n){B(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,a="",o=0;o<t.length;o++){var s=t[o];if("string"==typeof s)a+=Y(s);else{var l=Y(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),a+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=Y(n.delimiter||"/"),d=a.slice(-u.length)===u;return i||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=r?"$":i&&d?"":"(?="+u+"|$)",Q(new RegExp("^"+a,J(n)),e)}U.parse=q,U.compile=function(t,e){return W(K(t,e),e)},U.tokensToFunction=H,U.tokensToRegExp=z;var tt=Object.create(null);function et(t,e,n){e=e||{};try{var i=tt[t]||(tt[t]=U.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),i(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function nt(t,e,n,i){var r="string"==typeof t?{path:t}:t;if(r._normalized)return r;if(r.name){var a=(r=y({},t)).params;return a&&"object"==typeof a&&(r.params=y({},a)),r}if(!r.path&&r.params&&e){(r=y({},r))._normalized=!0;var o=y(y({},e.params),r.params);if(e.name)r.name=e.name,r.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;r.path=et(s,o,e.path)}return r}var l=function(t){var e="",n="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var r=t.indexOf("?");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{path:t,query:n,hash:e}}(r.path||""),c=e&&e.path||"/",u=l.path?F(l.path,c,n||r.append):c,d=function(t,e,n){void 0===e&&(e={});var i,r=n||C;try{i=r(t||"")}catch(t){i={}}for(var a in e){var o=e[a];i[a]=Array.isArray(o)?o.map(k):k(o)}return i}(l.query,r.query,i&&i.options.parseQuery),f=r.hash||l.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:u,query:d,hash:f}}var it,rt=function(){},at={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),a=r.location,o=r.route,s=r.href,l={},c=n.options.linkActiveClass,u=n.options.linkExactActiveClass,d=null==c?"router-link-active":c,f=null==u?"router-link-exact-active":u,p=null==this.activeClass?d:this.activeClass,h=null==this.exactActiveClass?f:this.exactActiveClass,m=o.redirectedFrom?S(null,nt(o.redirectedFrom),null,n):o;l[h]=O(i,m),l[p]=this.exact?l[h]:function(t,e){return 0===t.path.replace(E,"/").indexOf(e.path.replace(E,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(i,m);var g=l[h]?this.ariaCurrentValue:null,v=function(t){ot(t)&&(e.replace?n.replace(a,rt):n.push(a,rt))},b={click:ot};Array.isArray(this.event)?this.event.forEach(function(t){b[t]=v}):b[this.event]=v;var _={class:l},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:o,navigate:v,isActive:l[p],isExactActive:l[h]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?t():t("span",{},w)}if("a"===this.tag)_.on=b,_.attrs={href:s,"aria-current":g};else{var x=function t(e){var n;if(e)for(var i=0;i<e.length;i++){if("a"===(n=e[i]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(x){x.isStatic=!1;var T=x.data=y({},x.data);for(var k in T.on=T.on||{},T.on){var C=T.on[k];k in b&&(T.on[k]=Array.isArray(C)?C:[C])}for(var A in b)A in T.on?T.on[A].push(b[A]):T.on[A]=v;var R=x.data.attrs=y({},x.data.attrs);R.href=s,R["aria-current"]=g}else _.on=b}return t(this.tag,_,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var st="undefined"!=typeof window;function lt(t,e,n,i){var r=e||[],a=n||Object.create(null),o=i||Object.create(null);t.forEach(function(t){!function t(e,n,i,r,a,o){var s=r.path,l=r.name,c=r.pathToRegexpOptions||{},u=function(t,e,n){return c.strict||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:j(e.path+"/"+t)}(s,a);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var d={path:u,regex:ct(u,c),components:r.components||{default:r.component},instances:{},enteredCbs:{},name:l,parent:a,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(r){var a=o?j(o+"/"+r.path):void 0;t(e,n,i,r,d,a)}),n[d.path]||(e.push(d.path),n[d.path]=d),void 0!==r.alias)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],p=0;p<f.length;++p){var h={path:f[p],children:r.children};t(e,n,i,h,a,d.path||"/")}l&&(i[l]||(i[l]=d))}(r,a,o,t)});for(var s=0,l=r.length;s<l;s++)"*"===r[s]&&(r.push(r.splice(s,1)[0]),l--,s--);return{pathList:r,pathMap:a,nameMap:o}}function ct(t,e){return U(t,[],e)}function ut(t,e){var n=lt(t),i=n.pathList,r=n.pathMap,a=n.nameMap;function o(t,n,o){var l=nt(t,n,!1,e),c=l.name;if(c){var u=a[c];if(!u)return s(null,l);var d=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof l.params&&(l.params={}),n&&"object"==typeof n.params)for(var f in n.params)!(f in l.params)&&d.indexOf(f)>-1&&(l.params[f]=n.params[f]);return l.path=et(u.path,l.params),s(u,l,o)}if(l.path){l.params={};for(var p=0;p<i.length;p++){var h=i[p],m=r[h];if(dt(m.regex,l.path,l.params))return s(m,l,o)}}return s(null,l)}function s(t,n,i){return t&&t.redirect?function(t,n){var i=t.redirect,r="function"==typeof i?i(S(t,n,null,e)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return s(null,n);var l=r,c=l.name,u=l.path,d=n.query,f=n.hash,p=n.params;return d=l.hasOwnProperty("query")?l.query:d,f=l.hasOwnProperty("hash")?l.hash:f,p=l.hasOwnProperty("params")?l.params:p,c?(a[c],o({_normalized:!0,name:c,query:d,hash:f,params:p},void 0,n)):u?o({_normalized:!0,path:et(function(t,e){return F(u,e.parent?e.parent.path:"/",!0)}(0,t),p),query:d,hash:f},void 0,n):s(null,n)}(t,i||n):t&&t.matchAs?function(t,e,n){var i=o({_normalized:!0,path:et(n,e.params)});if(i){var r=i.matched,a=r[r.length-1];return e.params=i.params,s(a,e)}return s(null,e)}(0,n,t.matchAs):S(t,n,i,e)}return{match:o,addRoutes:function(t){lt(t,i,r,a)}}}function dt(t,e,n){var i=e.match(t);if(!i)return!1;if(!n)return!0;for(var r=1,a=i.length;r<a;++r){var o=t.keys[r-1];o&&(n[o.name||"pathMatch"]="string"==typeof i[r]?T(i[r]):i[r])}return!0}var ft=st&&window.performance&&window.performance.now?window.performance:Date;function pt(){return ft.now().toFixed(3)}var ht=pt();function mt(){return ht}function gt(t){return ht=t}var vt=Object.create(null);function yt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=y({},window.history.state);return n.key=mt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",wt),function(){window.removeEventListener("popstate",wt)}}function bt(t,e,n,i){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var a=function(){var t=mt();if(t)return vt[t]}(),o=r.call(t,e,n,i?a:null);o&&("function"==typeof o.then?o.then(function(t){Et(t,a)}).catch(function(t){}):Et(o,a))})}}function _t(){var t=mt();t&&(vt[t]={x:window.pageXOffset,y:window.pageYOffset})}function wt(t){_t(),t.state&&t.state.key&&gt(t.state.key)}function xt(t){return kt(t.x)||kt(t.y)}function Tt(t){return{x:kt(t.x)?t.x:window.pageXOffset,y:kt(t.y)?t.y:window.pageYOffset}}function kt(t){return"number"==typeof t}var Ct=/^#\d/;function Et(t,e){var n,i="object"==typeof t;if(i&&"string"==typeof t.selector){var r=Ct.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var a=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-n.left-e.x,y:i.top-n.top-e.y}}(r,a={x:kt((n=a).x)?n.x:0,y:kt(n.y)?n.y:0})}else xt(t)&&(e=Tt(t))}else i&&xt(t)&&(e=Tt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var St,At=st&&(-1===(St=window.navigator.userAgent).indexOf("Android 2.")&&-1===St.indexOf("Android 4.0")||-1===St.indexOf("Mobile Safari")||-1!==St.indexOf("Chrome")||-1!==St.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState;function Rt(t,e){_t();var n=window.history;try{if(e){var i=y({},n.state);i.key=mt(),n.replaceState(i,"",t)}else n.pushState({key:gt(pt())},"",t)}catch(n){window.location[e?"replace":"assign"](t)}}function Lt(t){Rt(t,!0)}function Dt(t,e,n){var i=function(r){r>=t.length?n():t[r]?e(t[r],function(){i(r+1)}):i(r+1)};i(0)}var Ot={redirected:2,aborted:4,cancelled:8,duplicated:16};function It(t,e){return Pt(t,e,Ot.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Pt(t,e,n,i){var r=new Error(i);return r._isRouter=!0,r.from=t,r.to=e,r.type=n,r}var Nt=["params","query","hash"];function Mt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Ft(t,e){return Mt(t)&&t._isRouter&&(null==e||t.type===e)}function jt(t,e){return Bt(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Bt(t){return Array.prototype.concat.apply([],t)}var Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function $t(t){var e=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!e)return e=!0,t.apply(this,n)}}var qt=function(t,e){this.router=t,this.base=function(t){if(!t)if(st){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}(e),this.current=R,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Ht(t,e,n,i){var r=jt(t,function(t,i,r,a){var o=function(t,e){return"function"!=typeof t&&(t=it.extend(t)),t.options[e]}(t,e);if(o)return Array.isArray(o)?o.map(function(t){return n(t,i,r,a)}):n(o,i,r,a)});return Bt(i?r.reverse():r)}function zt(t,e){if(e)return function(){return t.apply(e,arguments)}}qt.prototype.listen=function(t){this.cb=t},qt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},qt.prototype.onError=function(t){this.errorCbs.push(t)},qt.prototype.transitionTo=function(t,e,n){var i,r=this;try{i=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach(function(e){e(t)}),t}var a=this.current;this.confirmTransition(i,function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.router.afterHooks.forEach(function(t){t&&t(i,a)}),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(i)}))},function(t){n&&n(t),t&&!r.ready&&(Ft(t,Ot.redirected)&&a===R||(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)})))})},qt.prototype.confirmTransition=function(t,e,n){var i=this,r=this.current;this.pending=t;var a,o,s=function(t){!Ft(t)&&Mt(t)&&(i.errorCbs.length?i.errorCbs.forEach(function(e){e(t)}):console.error(t)),n&&n(t)},l=t.matched.length-1,c=r.matched.length-1;if(O(t,r)&&l===c&&t.matched[l]===r.matched[c])return this.ensureURL(),s(((o=Pt(a=r,t,Ot.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",o));var u=function(t,e){var n,i=Math.max(t.length,e.length);for(n=0;n<i&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),d=u.updated,f=u.deactivated,p=u.activated,h=[].concat(Ht(f,"beforeRouteLeave",zt,!0),this.router.beforeHooks,Ht(d,"beforeRouteUpdate",zt),p.map(function(t){return t.beforeEnter}),function(t){return function(e,n,i){var r=!1,a=0,o=null;jt(t,function(t,e,n,s){if("function"==typeof t&&void 0===t.cid){r=!0,a++;var l,c=$t(function(e){var r;((r=e).__esModule||Ut&&"Module"===r[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:it.extend(e),n.components[s]=e,--a<=0&&i()}),u=$t(function(t){var e="Failed to resolve async component "+s+": "+t;o||(o=Mt(t)?t:new Error(e),i(o))});try{l=t(c,u)}catch(t){u(t)}if(l)if("function"==typeof l.then)l.then(c,u);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,u)}}}),r||i()}}(p)),m=function(e,n){if(i.pending!==t)return s(It(r,t));try{e(t,r,function(e){!1===e?(i.ensureURL(!0),s(function(t,e){return Pt(t,e,Ot.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(r,t))):Mt(e)?(i.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(function(t,e){return Pt(t,e,Ot.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return Nt.forEach(function(n){n in t&&(e[n]=t[n])}),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}(r,t)),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)})}catch(t){s(t)}};Dt(h,m,function(){Dt(Ht(p,"beforeRouteEnter",function(t,e,n,i){return function(t,e,n){return function(i,r,a){return t(i,r,function(t){"function"==typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),a(t)})}}(t,n,i)}).concat(i.router.resolveHooks),m,function(){if(i.pending!==t)return s(It(r,t));i.pending=null,e(t),i.router.app&&i.router.app.$nextTick(function(){P(t)})})})},qt.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},qt.prototype.setupListeners=function(){},qt.prototype.teardown=function(){this.listeners.forEach(function(t){t()}),this.listeners=[],this.current=R,this.pending=null};var Gt=function(t){function e(e,n){t.call(this,e,n),this._startLocation=Kt(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,i=At&&n;i&&this.listeners.push(yt());var r=function(){var n=t.current,r=Kt(t.base);t.current===R&&r===t._startLocation||t.transitionTo(r,function(t){i&&bt(e,t,n,!0)})};window.addEventListener("popstate",r),this.listeners.push(function(){window.removeEventListener("popstate",r)})}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Rt(j(i.base+t.fullPath)),bt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Lt(j(i.base+t.fullPath)),bt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Kt(this.base)!==this.current.fullPath){var e=j(this.base+this.current.fullPath);t?Rt(e):Lt(e)}},e.prototype.getCurrentLocation=function(){return Kt(this.base)},e}(qt);function Kt(t){var e=window.location.pathname;return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Vt=function(t){function e(e,n,i){t.call(this,e,n),i&&function(t){var e=Kt(t);if(!/^\/#/.test(e))return window.location.replace(j(t+"/#"+e)),!0}(this.base)||Wt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=At&&e;n&&this.listeners.push(yt());var i=function(){var e=t.current;Wt()&&t.transitionTo(Yt(),function(i){n&&bt(t.router,i,e,!0),At||Jt(i.fullPath)})},r=At?"popstate":"hashchange";window.addEventListener(r,i),this.listeners.push(function(){window.removeEventListener(r,i)})}},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Qt(t.fullPath),bt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Jt(t.fullPath),bt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Yt()!==e&&(t?Qt(e):Jt(e))},e.prototype.getCurrentLocation=function(){return Yt()},e}(qt);function Wt(){var t=Yt();return"/"===t.charAt(0)||(Jt("/"+t),!1)}function Yt(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function Xt(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Qt(t){At?Rt(Xt(t)):window.location.hash=t}function Jt(t){At?Lt(Xt(t)):window.location.replace(Xt(t))}var Zt=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,function(){var t=e.current;e.index=n,e.updateRoute(i),e.router.afterHooks.forEach(function(e){e&&e(i,t)})},function(t){Ft(t,Ot.duplicated)&&(e.index=n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(qt),te=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ut(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!At&&!1!==t.fallback,this.fallback&&(e="hash"),st||(e="abstract"),this.mode=e,e){case"history":this.history=new Gt(this,t.base);break;case"hash":this.history=new Vt(this,t.base,this.fallback);break;case"abstract":this.history=new Zt(this,t.base)}},ee={currentRoute:{configurable:!0}};function ne(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}te.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},ee.currentRoute.get=function(){return this.history&&this.history.current},te.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()}),!this.app){this.app=t;var n=this.history;if(n instanceof Gt||n instanceof Vt){var i=function(t){n.setupListeners(),function(t){var i=n.current,r=e.options.scrollBehavior;At&&r&&"fullPath"in t&&bt(e,t,i,!1)}(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},te.prototype.beforeEach=function(t){return ne(this.beforeHooks,t)},te.prototype.beforeResolve=function(t){return ne(this.resolveHooks,t)},te.prototype.afterEach=function(t){return ne(this.afterHooks,t)},te.prototype.onReady=function(t,e){this.history.onReady(t,e)},te.prototype.onError=function(t){this.history.onError(t)},te.prototype.push=function(t,e,n){var i=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise(function(e,n){i.history.push(t,e,n)});this.history.push(t,e,n)},te.prototype.replace=function(t,e,n){var i=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise(function(e,n){i.history.replace(t,e,n)});this.history.replace(t,e,n)},te.prototype.go=function(t){this.history.go(t)},te.prototype.back=function(){this.go(-1)},te.prototype.forward=function(){this.go(1)},te.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},te.prototype.resolve=function(t,e,n){var i=nt(t,e=e||this.history.current,n,this),r=this.match(i,e),a=r.redirectedFrom||r.fullPath;return{location:i,route:r,href:function(t,e,n){var i="hash"===n?"#"+e:e;return t?j(t+"/"+i):i}(this.history.base,a,this.mode),normalizedTo:i,resolved:r}},te.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==R&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(te.prototype,ee),te.install=function t(e){if(!t.installed||it!==e){t.installed=!0,it=e;var n=function(t){return void 0!==t},i=function(t,e){var i=t.$options._parentVnode;n(i)&&n(i=i.data)&&n(i=i.registerRouteInstance)&&i(t,e)};e.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",N),e.component("RouterLink",at);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},te.version="3.4.9",te.isNavigationFailure=Ft,te.NavigationFailureType=Ot,st&&window.Vue&&window.Vue.use(te);var ie=te;a.a.use(ie);var re,ae=new ie({routes:[{path:"/",redirect:"/notebooks"},{path:"/notebooks",component:n("n7L6").default},{path:"/notebooks/:collectionId",component:n("n7L6").default,props:!0,children:[{path:"notes/:articleId",component:n("N5K5").default}]},{path:"/recycle",component:n("P9cj").default},{path:"/recycle/:recycleId",component:n("P9cj").default,props:!0}]});function oe(t,e){var n=t.commit,i=t.dispatch;t.state,m(e),n("DESTROY_ARTICLE",e),i("goDefaultTrash")}function se(t,e){var n=t.commit,i=t.dispatch;t.state,g(e,function(){s(function(t){n("GOT_COLLECTIONS",{collections:t})})}),n("RESTORE_ARTICLE",e),i("goDefaultTrash")}function le(t){var e=t.commit,n=t.dispatch;t.state,v(function(t){e("GOT_TRASH",t),n("goDefaultTrash")})}function ce(t){var e=t.state;if(e.trash.length){var n=e.trash[0].id;ae.replace("/recycle/".concat(n))}else ae.replace("/recycle")}function ue(t){var e=t.commit,n=t.dispatch,i=t.state;d(i.collectionId,function(t){e("ADD_ARTICLE",t),n("goArticle",{collectionId:i.collectionId,articleId:t.id})})}function de(t){var e=t.commit,n=(t.dispatch,t.state.previousArticle),i={id:n.id,title:n.title,body:n.body,status:n.status};f(i,function(t){e("SAVED_PREV_ARTICLE",t)})}function fe(t){var e=t.commit,n=(t.dispatch,t.state.currentArticle),i={id:n.id,title:n.title,body:n.body,status:n.status};f(i,function(t){e("SAVED_ARTICLE",t)})}function pe(t){var e=t.commit,n=(t.dispatch,t.state.currentArticle);n.status=1,f(n,function(t){e("SAVED_ARTICLE",t)}),e("PUBLISH")}function he(t){var e=t.commit,n=(t.dispatch,t.state.currentArticle);n.status=0,f(n,function(t){e("SAVED_ARTICLE",t)}),e("UNPUBLISH")}function me(t,e){var n=t.commit,i=t.dispatch,r=t.state,a=r.currentArticle,o=r.collectionId,s={id:a.id,title:a.title,body:a.body,collection_id:e},l=e;p({article:s,collectionId:e},function(t){n("MOVED_ARTICLE",{article:t,fromCollectionId:o,toCollectionId:l}),i("goCollection",{collectionId:o})})}function ge(t){var e=t.commit,n=t.dispatch,i=t.state;h(i.currentArticle.id),e("REMOVE_ARTICLE"),n("goCollection",{collectionId:i.currentCollection.id})}function ve(t,e){(0,t.commit)("GOT_CURRENT_PATH_INFO",{collectionId:e.collectionId,articleId:e.articleId})}function ye(t){var e=t.state,n=t.commit,i=t.dispatch;s(function(t){n("GOT_COLLECTIONS",{collections:t});var r=e.articleId,a=e.collectionId;r?i("goArticle",{collectionId:a,articleId:r}):a?i("goCollection",{collectionId:a}):i("goDefaultCollection")})}function be(t,e){var n=t.commit,i=t.dispatch,r=e.name;l(r,function(t){n("ADD_COLLECTION",{collection:t}),i("goDefaultCollection")})}function _e(t){(0,t.dispatch)("goCollection",{collectionId:t.state.collections[0].id})}function we(t,e){var n=t.state,i=t.dispatch,r=e.collectionId,a=n.collections.find(function(t){return t.id==r});if(a.articles.length){var o=a.articles[0];i("goArticle",{collectionId:a.id,articleId:o.id})}else n.currentArticle=null,ae.push("/notebooks/".concat(r))}function xe(t,e){t.state;var n=t.commit,i=e.collectionId,r=e.articleId;ae.push("/notebooks/".concat(i,"/notes/").concat(r)),n("GOT_CURRENT_PATH_INFO",{collectionId:i,articleId:r})}function Te(t,e){var n=t.commit,i=t.dispatch;c(e,function(t){n("REMOVE_COLLECTION",{collectionId:e}),i("goDefaultCollection")})}function ke(t,e){t.commit;var n=t.state,i=e.name;u({id:n.currentCollection.id,name:i},function(t){$(".modification-name").modal("hide")})}function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ee=(Ce(re={},"GOT_TRASH",function(t,e){t.trash=e}),Ce(re,"DESTROY_ARTICLE",function(t,e){t.trash=t.trash.filter(function(t){return t.id!=e})}),Ce(re,"RESTORE_ARTICLE",function(t,e){t.trash=t.trash.filter(function(t){return t.id!=e})}),Ce(re,"ADD_ARTICLE",function(t,e){t.currentCollection.articles.unshift(e)}),Ce(re,"SAVED_PREV_ARTICLE",function(t,e){var n=t.previousArticle;n&&n.id&&(n.status=e.status,n.saved=!0)}),Ce(re,"SAVED_ARTICLE",function(t,e){var n=t.currentArticle;n&&n.id&&(n.status=e.status,n.saved=!0)}),Ce(re,"PUBLISH",function(t){t.published=!0}),Ce(re,"PUBLISHED_TOGGLE",function(t){t.published=!1}),Ce(re,"PUBLISHED_TOGGLE",function(t){t.published=!t.published}),Ce(re,"MOVED_ARTICLE",function(t,e){var n=e.article,i=(e.fromCollectionId,e.toCollectionId);t.currentCollection.articles=t.currentCollection.articles.filter(function(t){return t.id!=n.id}),t.collections.find(function(t){return t.id==i}).articles.unshift(n)}),Ce(re,"REMOVE_ARTICLE",function(t){t.currentCollection.articles=t.currentCollection.articles.filter(function(e){return e.id!=t.currentArticle.id})}),Ce(re,"GOT_COLLECTIONS",function(t,e){var n=e.collections;t.collections=n}),Ce(re,"ADD_COLLECTION",function(t,e){var n=e.collection;t.collections.unshift(n)}),Ce(re,"REMOVE_COLLECTION",function(t,e){var n=e.collectionId;t.collections=t.collections.filter(function(t){return t.id!=n})}),Ce(re,"RENAME_COLLECTION",function(t,e){t.currentCollection.name=e}),Ce(re,"GOT_CURRENT_PATH_INFO",function(t,e){var n=e.collectionId,i=e.articleId;t.currentCollection=t.collections.find(function(t){return t.id==n}),t.currentArticle&&(t.previousArticle=t.currentArticle),i&&t.currentCollection&&t.currentCollection.articles&&(t.currentArticle=t.currentCollection.articles.find(function(t){return t.id==i}))}),re);a.a.use(o.a);var Se=new o.a.Store({state:{collections:[],currentCollection:{},collectionId:null,currentArticle:{},articleId:null,previousArticle:{},trash:[],published:!1},actions:i,mutations:Ee,getters:{collections:function(t){return t.collections}}});a.a.use(ie);var Ae=new ie({routes:[{path:"/comments",component:n("8hO5").default},{path:"/chats",component:n("X1SV").default},{path:"/chat/:id",component:n("lUek").default},{path:"/requests",component:n("g1ax").default},{path:"/likes",component:n("BhVO").default},{path:"/follows",component:n("JWXi").default},{path:"/tips",component:n("4muN").default},{path:"/others",component:n("naOC").default},{path:"/timeline",component:n("No9/").default},{path:"/categories/:id",component:n("C9wO").default},{path:"/collections/:id",component:n("Jpuz").default},{path:"/users/:id",component:n("/C9J").default},{path:"/recommend",component:n("G9PF").default},{path:"/submissions/:id",component:n("VFRU").default},{path:"/pending_submissions",component:n("pDRh").default},{path:"/base",component:n("aCnp").default},{path:"/profile",component:n("n2dU").default},{path:"/reward",component:n("Y02k").default}]});function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n("HijD"),n("E2g8").polyfill(),window.$bus=new a.a,window.$bus.state={answer:{answerIds:[]}},a.a.prototype.$http=window.axios,a.a.component("blank-content",n("oAC+").default),a.a.component("loading-more",n("9a09").default),a.a.component("single-list",n("hmp+").default),a.a.component("follow",n("9a0c").default),a.a.component("favorite",n("rkcN").default),a.a.component("like",n("ELvi").default),a.a.component("video-like",n("P15a").default),a.a.component("comments",n("3esE").default),a.a.component("new-comment",n("jxZC").default),a.a.component("reply-comment",n("aFUY").default),a.a.component("side-tool",n("w3GV").default),a.a.component("to-comment",n("DTKG").default),a.a.component("share-module",n("l8Kw").default),a.a.component("close-share",n("f9ys").default),a.a.component("article-list",n("2YJx").default),a.a.component("action-list",n("xmgQ").default),a.a.component("category-list",n("3J/0").default),a.a.component("search-box",n("4c/M").default),a.a.component("recently",n("ypAw").default),a.a.component("hot-search",n("tOFS").default),a.a.component("share",n("r+u/").default),a.a.component("video-list",n("feDh").default),a.a.component("authors-video",n("TiGw").default),a.a.component("modal-share-wx",n("t2K2").default),a.a.component("captcha",n("0lK5").default),a.a.component("social-login",n("tGH2").default),a.a.component("signs",n("3XLn").default),a.a.component("follow-user-list",n("Rvex").default),a.a.component("follow-categories-list",n("Cmwm").default),a.a.component("basic-search",n("qHUy").default),a.a.component("tags-input",n("Ryi/").default),a.a.component("image-select",n("7WnP").default),a.a.component("user-select",n("Ps6F").default),a.a.component("modal-post",n("icEX").default),a.a.component("loading",n("QsDW").default),a.a.component("add-videol",n("xfcH").default),a.a.component("category-select",n("+b7R").default),a.a.component("input-matching",n("lTlg").default),a.a.component("modal-ask-question",n("iPTJ").default),a.a.component("delete-button",n("INrP").default),a.a.component("recommend-category",n("/K7i").default),a.a.component("recommend-authors",n("3f+I").default),a.a.component("modal-contribute",n("kUVx").default),a.a.component("modal-add-category",n("snx7").default),a.a.component("modal-category-contribute",n("ol+4").default),a.a.component("modal-delete",n("5bSU").default),a.a.component("modal-admire",n("xicS").default),a.a.component("modal-withdraw",n("xUkP").default),a.a.component("modal-to-up",n("QVq0").default),a.a.component("modal-like-user",n("8VH1").default),a.a.component("setting-aside",n("cVAr").default),a.a.component("answer-tool",n("RIZS").default),a.a.component("question-bottom",n("xSUi").default),a.a.component("request-covers",n("rJsq").default),a.a.component("editor",n("f+yM").default),a.a.component("my-image-list",n("Ftxl").default),a.a.component("my-video-list",n("FbQ8").default),a.a.component("single-list-create",n("XIRt").default),a.a.component("single-list-select",n("XQtB").default),a.a.component("modal-images",n("MVqe").default),a.a.component("image-list",n("/SKk").default),a.a.component("upload-image",n("ucJP").default),a.a.component("modal-blacklist",n("mDqb").default),a.a.component("modal-report",n("zn+r").default),a.a.component("reply-comment",n("aFUY").default),a.a.component("blank-content",n("oAC+").default),a.a.component("loading-more",n("9a09").default),a.a.component("follow",n("9a0c").default),a.a.component("article-list",n("2YJx").default),a.a.component("video-list",n("feDh").default),a.a.component("hot-search",n("tOFS").default),a.a.component("search-box",n("4c/M").default),a.a.component("recently",n("ypAw").default),a.a.component("modal-post",n("icEX").default),a.a.component("loading",n("QsDW").default),a.a.component("notification-aside",n("pDiY").default),a.a.component("follow-aside",n("ECdn").default),a.a.component("setting-aside",n("cVAr").default),a.a.component("side-tool",n("w3GV").default),a.a.component("to-comment",n("DTKG").default),a.a.component("share-module",n("l8Kw").default),a.a.component("close-share",n("f9ys").default),a.a.component("modal-contribute",n("kUVx").default),a.a.component("write",n("jRtu").default),a.a.component("note-books",n("n7L6").default),a.a.component("notes",n("N5K5").default),a.a.component("recycle",n("P9cj").default),a.a.component("editor",n("f+yM").default),a.a.component("scroll-top",n("PRPd").default),a.a.component("published",n("BnUF").default),a.a.component("modal-tips",n("l3D9").default),a.a.component("modal-images",n("MVqe").default),a.a.component("image-list",n("/SKk").default),a.a.component("modification-name",n("aV+c").default),a.a.component("frequently-asked-questions",n("qaKl").default),a.a.component("delete-notebook",n("kxaU").default),a.a.component("delete-note",n("9mYT").default),a.a.component("thorough-delete",n("Mtf0").default),a.a.component("dplayer",n("M2LU").default);var Le,De=window.location.pathname;-1!==De.indexOf("/write")?(routes=[{path:"/",redirect:"/notebooks"}].concat(function(t){if(Array.isArray(t))return Re(t)}(Le=routes_write)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(Le)||function(t,e){if(t){if("string"==typeof t)return Re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,e):void 0}}(Le)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),new a.a({store:Se,router:ae}).$mount("#app")):-1!==De.indexOf("/follow")||-1!==De.indexOf("/notification")?new a.a({router:Ae}).$mount("#app"):new a.a({}).$mount("#app")},JWXi:function(t,e,n){"use strict";n.r(e);var i={name:"Follows",computed:{current_user_id:function(){return window.user.id}},created:function(){var t=window.tokenize("/api/notifications/follow"),e=this;window.axios.get(t).then(function(t){e.notifications=t.data})},data:function(){return{notifications:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"menu"},[t._v("全部关注")]),t._v(" "),t.notifications.length?n("ul",{staticClass:"follows-list"},t._l(t.notifications,function(e){return n("li",[n("div",{staticClass:"follow-item"},[n("div",{staticClass:"user-info info-xs"},[n("follow",{attrs:{type:"users",id:e.user_id,"user-id":t.current_user_id,followed:e.is_followed}}),t._v(" "),n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user_id}},[n("img",{attrs:{src:e.user_avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user_name))]),t._v(" "),n("span",[t._v("关注了你")])]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.time))])],1)])])}),0):n("div",{staticClass:"unMessage"},[n("blank-content")],1)])},[],!1,null,"8d695780",null);e.default=a.exports},Jpuz:function(t,e,n){"use strict";n.r(e);var i={name:"Collection",created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){if(this.id=this.$route.params.id,this.id){var t=window.tokenize("/api/collection/"+this.id),e=this;window.axios.get(t).then(function(t){e.collection=t.data;var n=window.tokenize("/api/follow/"+e.id+"/collections");window.axios.get(n)})}}},data:function(){return{id:null,collection:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collection"},[n("div",{staticClass:"note-info info-lg"},[t._m(0),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("a",{staticClass:"btn-base btn-hollow btn-md",attrs:{href:"/collection/"+t.collection.id}},[t._v("文集主页"),n("i",{staticClass:"iconfont icon-youbian"})])]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"javascript:;"}},[t._v(t._s(t.collection.name))])]),t._v(" "),n("div",{staticClass:"info"},[t._v("\n\t\t        收录了"+t._s(t.collection.count)+"篇作品 · "+t._s(t.collection.count_follows)+"人关注\n\t\t      ")])]),t._v(" "),n("div",{staticClass:"content"},[t._m(1),t._v(" "),n("div",{staticClass:"tab-content"},[n("ul",{staticClass:"fade in article-list  tab-pane active",attrs:{role:"tabpanel",id:"include"}},[n("article-list",{attrs:{api:"/api/collection/"+t.collection.id+"/articles?collected=1"}})],1),t._v(" "),n("ul",{staticClass:"fade article-list  tab-pane",attrs:{role:"tabpanel",id:"comment"}},[n("article-list",{attrs:{api:"/api/collection/"+t.collection.id+"/articles?commented=1"}})],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"avatar-category",attrs:{href:"/v2/collection"}},[e("img",{attrs:{src:"/images/collection.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",attrs:{id:"trigger-menu",role:"tablist"}},[e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#include","aria-controls":"include",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-wenji"}),this._v("最新发布")])]),this._v(" "),e("li",{attrs:{role:"presentation"}},[e("a",{attrs:{href:"#comment","aria-controls":"comment",role:"tab","data-toggle":"tab"}},[e("i",{staticClass:"iconfont icon-svg37"}),this._v("最新评论")])])])}],!1,null,"123328e1",null);e.default=a.exports},Jwjb:function(t,e,n){"use strict";var i=n("L1PX");n.n(i).a},JzTI:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".social-login[data-v-1543be89]{margin-bottom:30px}.social-login li[data-v-1543be89]{margin:0 3px;display:inline-block}.social-login li a[data-v-1543be89]{width:50px;height:50px;border-radius:50%;line-height:50px;display:block}.social-login li a i[data-v-1543be89]{color:#fff;font-size:24px}",""])},"KHd+":function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",function(){return i})},KKT6:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".simple[data-v-22c68205]{width:450px!important}",""])},L1PX:function(t,e,n){var i=n("X4RE");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},L2JU:function(t,e,n){"use strict";(function(t){var n=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,r=(n=function(e){return e.original===t},e.filter(n)[0]);if(r)return r.copy;var a=Array.isArray(t)?[]:{};return e.push({original:t,copy:a}),Object.keys(t).forEach(function(n){a[n]=i(t[n],e)}),a}function r(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function a(t){return null!==t&&"object"==typeof t}var o=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.hasChild=function(t){return t in this._children},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){r(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,s);var l,c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},c.prototype.update=function(t){!function t(e,n,i){if(n.update(i),i.modules)for(var r in i.modules){if(!n.getChild(r))return;t(e.concat(r),n.getChild(r),i.modules[r])}}([],this.root,t)},c.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var a=new o(e,n);0===t.length?this.root=a:this.get(t.slice(0,-1)).addChild(t[t.length-1],a),e.modules&&r(e.modules,function(e,r){i.register(t.concat(r),e,n)})},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var u=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,n){return s.call(a,t,e,n)},this.strict=r;var u=this._modules.root.state;m(this,u,[],this._modules.root),h(this,u),i.forEach(function(t){return t(e)}),(void 0!==t.devtools?t.devtools:l.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){n.emit("vuex:mutation",t,e)},{prepend:!0}),t.subscribeAction(function(t,e){n.emit("vuex:action",t,e)},{prepend:!0}))}(this)},d={state:{configurable:!0}};function f(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;m(t,n,[],t._modules.root,!0),h(t,n,e)}function h(t,e,n){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,o={};r(a,function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:o}),l.config.silent=s,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),l.nextTick(function(){return i.$destroy()}))}function m(t,e,n,i,r){var a=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!a&&!r){var s=g(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){l.set(s,c,i.state)})}var u=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var a=v(n,i,r),o=a.payload,s=a.options,l=a.type;return s&&s.root||(l=e+l),t.dispatch(l,o)},commit:i?t.commit:function(n,i,r){var a=v(n,i,r),o=a.payload,s=a.options,l=a.type;s&&s.root||(l=e+l),t.commit(l,o,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return t.getters[r]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return g(t.state,n)}}}),r}(t,o,n);i.forEachMutation(function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,i.state,e)})}(t,o+n,e,u)}),i.forEachAction(function(e,n){var i=e.root?n:o+n,r=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push(function(e){var r,a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(r=a)&&"function"==typeof r.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,i,r,u)}),i.forEachGetter(function(e,n){!function(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}(t,o+n,e,u)}),i.forEachChild(function(i,a){m(t,e,n.concat(a),i,r)})}function g(t,e){return e.reduce(function(t,e){return t[e]},t)}function v(t,e,n){return a(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){l&&t===l||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(l=t)}d.state.get=function(){return this._vm._data.$$state},d.state.set=function(t){},u.prototype.commit=function(t,e,n){var i=this,r=v(t,e,n),a=r.type,o=r.payload,s=(r.options,{type:a,payload:o}),l=this._mutations[a];l&&(this._withCommit(function(){l.forEach(function(t){t(o)})}),this._subscribers.slice().forEach(function(t){return t(s,i.state)}))},u.prototype.dispatch=function(t,e){var n=this,i=v(t,e),r=i.type,a=i.payload,o={type:r,payload:a},s=this._actions[r];if(s){try{this._actionSubscribers.slice().filter(function(t){return t.before}).forEach(function(t){return t.before(o,n.state)})}catch(t){}var l=s.length>1?Promise.all(s.map(function(t){return t(a)})):s[0](a);return new Promise(function(t,e){l.then(function(e){try{n._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(o,n.state)})}catch(t){}t(e)},function(t){try{n._actionSubscribers.filter(function(t){return t.error}).forEach(function(e){return e.error(o,n.state,t)})}catch(t){}e(t)})})}},u.prototype.subscribe=function(t,e){return f(t,this._subscribers,e)},u.prototype.subscribeAction=function(t,e){return f("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},u.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},u.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},u.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),n.preserveState),h(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=g(e.state,t.slice(0,-1));l.delete(n,t[t.length-1])}),p(this)},u.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},u.prototype.hotUpdate=function(t){this._modules.update(t),p(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,d);var b=k(function(t,e){var n={};return T(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=C(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),_=k(function(t,e){var n={};return T(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var a=C(this.$store,"mapMutations",t);if(!a)return;i=a.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),w=k(function(t,e){var n={};return T(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||C(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),x=k(function(t,e){var n={};return T(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var a=C(this.$store,"mapActions",t);if(!a)return;i=a.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n});function T(t){return function(t){return Array.isArray(t)||a(t)}(t)?Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function k(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function C(t,e,n){return t._modulesNamespaceMap[n]}function E(t,e,n){var i=n?t.groupCollapsed:t.group;try{i.call(t,e)}catch(n){t.log(e)}}function S(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function A(){var t=new Date;return" @ "+R(t.getHours(),2)+":"+R(t.getMinutes(),2)+":"+R(t.getSeconds(),2)+"."+R(t.getMilliseconds(),3)}function R(t,e){return"0",n=e-t.toString().length,new Array(n+1).join("0")+t;var n}var L={Store:u,install:y,version:"3.6.0",mapState:b,mapMutations:_,mapGetters:w,mapActions:x,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:w.bind(null,t),mapMutations:_.bind(null,t),mapActions:x.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var a=t.mutationTransformer;void 0===a&&(a=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var c=t.logActions;void 0===c&&(c=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var d=i(t.state);void 0!==u&&(l&&t.subscribe(function(t,o){var s=i(o);if(n(t,d,s)){var l=A(),c=a(t),f="mutation "+t.type+l;E(u,f,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),S(u)}d=s}),c&&t.subscribeAction(function(t,n){if(o(t,n)){var i=A(),r=s(t),a="action "+t.type+i;E(u,a,e),u.log("%c action","color: #03A9F4; font-weight: bold",r),S(u)}}))}}};e.a=L}).call(this,n("yLpj"))},L4wK:function(t,e,n){var i=n("FrCC");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},LLRZ:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".hot-search{padding:15px 15px 10px;background-color:#fff}.hot-search ul{text-align:left}.hot-search ul li{margin-right:10px;display:inline-block;line-height:28px}.hot-search ul li a{padding:2px 6px;font-size:12px;color:#717171;border:1px solid #c4c4c4;border-radius:3px}.hot-search ul li a:hover{color:#252525;border-color:#717171}",""])},LYNF:function(t,e,n){"use strict";var i=n("OH9c");t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},LsRo:function(t,e,n){"use strict";var i=n("QcVs");n.n(i).a},LvDl:function(t,e,n){(function(t,i){var r;(function(){var a="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",c="[object Array]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",x="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",R="[object Int32Array]",L="[object Uint8Array]",D="[object Uint16Array]",O="[object Uint32Array]",I=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,j=RegExp(M.source),B=RegExp(F.source),U=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,V=RegExp(K.source),W=/^\s+|\s+$/g,Y=/^\s+/,X=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,it=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,dt=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="["+pt+"]",mt="["+ft+"]",gt="\\d+",vt="[a-z\\xdf-\\xf6\\xf8-\\xff]",yt="[^\\ud800-\\udfff"+pt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",bt="\\ud83c[\\udffb-\\udfff]",_t="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+vt+"|"+yt+")",Ct="(?:"+Tt+"|"+yt+")",Et="(?:"+mt+"|"+bt+")?",St="[\\ufe0e\\ufe0f]?"+Et+"(?:\\u200d(?:"+[_t,wt,xt].join("|")+")[\\ufe0e\\ufe0f]?"+Et+")*",At="(?:"+["[\\u2700-\\u27bf]",wt,xt].join("|")+")"+St,Rt="(?:"+[_t+mt+"?",mt,wt,xt,"[\\ud800-\\udfff]"].join("|")+")",Lt=RegExp("['’]","g"),Dt=RegExp(mt,"g"),Ot=RegExp(bt+"(?="+bt+")|"+Rt+St,"g"),It=RegExp([Tt+"?"+vt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ht,Tt,"$"].join("|")+")",Ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ht,Tt+kt,"$"].join("|")+")",Tt+"?"+kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Tt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,At].join("|"),"g"),Pt=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,jt={};jt[C]=jt[E]=jt[S]=jt[A]=jt[R]=jt[L]=jt["[object Uint8ClampedArray]"]=jt[D]=jt[O]=!0,jt[l]=jt[c]=jt[T]=jt[u]=jt[k]=jt[d]=jt[f]=jt[p]=jt[m]=jt[g]=jt[v]=jt[y]=jt[b]=jt[_]=jt[x]=!1;var Bt={};Bt[l]=Bt[c]=Bt[T]=Bt[k]=Bt[u]=Bt[d]=Bt[C]=Bt[E]=Bt[S]=Bt[A]=Bt[R]=Bt[m]=Bt[g]=Bt[v]=Bt[y]=Bt[b]=Bt[_]=Bt[w]=Bt[L]=Bt["[object Uint8ClampedArray]"]=Bt[D]=Bt[O]=!0,Bt[f]=Bt[p]=Bt[x]=!1;var Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$t=parseFloat,qt=parseInt,Ht="object"==typeof t&&t&&t.Object===Object&&t,zt="object"==typeof self&&self&&self.Object===Object&&self,Gt=Ht||zt||Function("return this")(),Kt=e&&!e.nodeType&&e,Vt=Kt&&"object"==typeof i&&i&&!i.nodeType&&i,Wt=Vt&&Vt.exports===Kt,Yt=Wt&&Ht.process,Xt=function(){try{return Vt&&Vt.require&&Vt.require("util").types||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Qt=Xt&&Xt.isArrayBuffer,Jt=Xt&&Xt.isDate,Zt=Xt&&Xt.isMap,te=Xt&&Xt.isRegExp,ee=Xt&&Xt.isSet,ne=Xt&&Xt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,i){for(var r=-1,a=null==t?0:t.length;++r<a;){var o=t[r];e(i,o,n(o),t)}return i}function ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}function le(t,e){return!(null==t||!t.length)&&ye(t,e,0)>-1}function ce(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ue(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function de(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function fe(t,e,n,i){var r=-1,a=null==t?0:t.length;for(i&&a&&(n=t[++r]);++r<a;)n=e(n,t[r],r,t);return n}function pe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function he(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var me=xe("length");function ge(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function ve(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function ye(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ve(t,_e,n)}function be(t,e,n,i){for(var r=n-1,a=t.length;++r<a;)if(i(t[r],e))return r;return-1}function _e(t){return t!=t}function we(t,e){var n=null==t?0:t.length;return n?Ce(t,e)/n:NaN}function xe(t){return function(e){return null==e?void 0:e[t]}}function Te(t){return function(e){return null==t?void 0:t[e]}}function ke(t,e,n,i,r){return r(t,function(t,r,a){n=i?(i=!1,t):e(n,t,r,a)}),n}function Ce(t,e){for(var n,i=-1,r=t.length;++i<r;){var a=e(t[i]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Ee(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Se(t){return function(e){return t(e)}}function Ae(t,e){return ue(e,function(e){return t[e]})}function Re(t,e){return t.has(e)}function Le(t,e){for(var n=-1,i=t.length;++n<i&&ye(e,t[n],0)>-1;);return n}function De(t,e){for(var n=t.length;n--&&ye(e,t[n],0)>-1;);return n}var Oe=Te({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ie=Te({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pe(t){return"\\"+Ut[t]}function Ne(t){return Pt.test(t)}function Me(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Fe(t,e){return function(n){return t(e(n))}}function je(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var s=t[n];s!==e&&s!==o||(t[n]=o,a[r++]=n)}return a}function Be(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Ue(t){return Ne(t)?function(t){for(var e=Ot.lastIndex=0;Ot.test(t);)++e;return e}(t):me(t)}function $e(t){return Ne(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}var qe=Te({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),He=function t(e){var n,i=(e=null==e?Gt:He.defaults(Gt.Object(),e,He.pick(Gt,Mt))).Array,r=e.Date,ft=e.Error,pt=e.Function,ht=e.Math,mt=e.Object,gt=e.RegExp,vt=e.String,yt=e.TypeError,bt=i.prototype,_t=pt.prototype,wt=mt.prototype,xt=e["__core-js_shared__"],Tt=_t.toString,kt=wt.hasOwnProperty,Ct=0,Et=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",St=wt.toString,At=Tt.call(mt),Rt=Gt._,Ot=gt("^"+Tt.call(kt).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=Wt?e.Buffer:void 0,Ut=e.Symbol,Ht=e.Uint8Array,zt=Pt?Pt.allocUnsafe:void 0,Kt=Fe(mt.getPrototypeOf,mt),Vt=mt.create,Yt=wt.propertyIsEnumerable,Xt=bt.splice,me=Ut?Ut.isConcatSpreadable:void 0,Te=Ut?Ut.iterator:void 0,ze=Ut?Ut.toStringTag:void 0,Ge=function(){try{var t=zr(mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ke=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ve=r&&r.now!==Gt.Date.now&&r.now,We=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Ye=ht.ceil,Xe=ht.floor,Qe=mt.getOwnPropertySymbols,Je=Pt?Pt.isBuffer:void 0,Ze=e.isFinite,tn=bt.join,en=Fe(mt.keys,mt),nn=ht.max,rn=ht.min,an=r.now,on=e.parseInt,sn=ht.random,ln=bt.reverse,cn=zr(e,"DataView"),un=zr(e,"Map"),dn=zr(e,"Promise"),fn=zr(e,"Set"),pn=zr(e,"WeakMap"),hn=zr(mt,"create"),mn=pn&&new pn,gn={},vn=ga(cn),yn=ga(un),bn=ga(dn),_n=ga(fn),wn=ga(pn),xn=Ut?Ut.prototype:void 0,Tn=xn?xn.valueOf:void 0,kn=xn?xn.toString:void 0;function Cn(t){if(Po(t)&&!To(t)&&!(t instanceof Rn)){if(t instanceof An)return t;if(kt.call(t,"__wrapped__"))return va(t)}return new An(t)}var En=function(){function t(){}return function(e){if(!Io(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Sn(){}function An(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new On;++e<n;)this.add(t[e])}function Pn(t){var e=this.__data__=new Dn(t);this.size=e.size}function Nn(t,e){var n=To(t),i=!n&&xo(t),r=!n&&!i&&So(t),a=!n&&!i&&!r&&qo(t),o=n||i||r||a,s=o?Ee(t.length,vt):[],l=s.length;for(var c in t)!e&&!kt.call(t,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Qr(c,l))||s.push(c);return s}function Mn(t){var e=t.length;return e?t[Li(0,e-1)]:void 0}function Fn(t,e,n){(void 0!==n&&!bo(t[e],n)||void 0===n&&!(e in t))&&qn(t,e,n)}function jn(t,e,n){var i=t[e];kt.call(t,e)&&bo(i,n)&&(void 0!==n||e in t)||qn(t,e,n)}function Bn(t,e){for(var n=t.length;n--;)if(bo(t[n][0],e))return n;return-1}function Un(t,e,n,i){return Yn(t,function(t,r,a){e(i,t,n(t),a)}),i}function $n(t,e){return t&&cr(e,us(e),t)}function qn(t,e,n){"__proto__"==e&&Ge?Ge(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Hn(t,e){for(var n=-1,r=e.length,a=i(r),o=null==t;++n<r;)a[n]=o?void 0:as(t,e[n]);return a}function zn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Gn(t,e,n,i,r,a){var o,s=1&e,c=2&e,f=4&e;if(n&&(o=r?n(t,i,r,a):n(t)),void 0!==o)return o;if(!Io(t))return t;var x=To(t);if(x){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&kt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return lr(t,o)}else{var I=Vr(t),P=I==p||I==h;if(So(t))return nr(t,s);if(I==v||I==l||P&&!r){if(o=c||P?{}:Yr(t),!s)return c?function(t,e){return cr(t,Kr(t),e)}(t,function(t,e){return t&&cr(e,ds(e),t)}(o,t)):function(t,e){return cr(t,Gr(t),e)}(t,$n(o,t))}else{if(!Bt[I])return r?t:{};o=function(t,e,n){var i,r=t.constructor;switch(e){case T:return ir(t);case u:case d:return new r(+t);case k:return function(t,e){var n=e?ir(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case E:case S:case A:case R:case L:case"[object Uint8ClampedArray]":case D:case O:return rr(t,n);case m:return new r;case g:case _:return new r(t);case y:return function(t){var e=new t.constructor(t.source,it.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case w:return i=t,Tn?mt(Tn.call(i)):{}}}(t,I,s)}}a||(a=new Pn);var N=a.get(t);if(N)return N;a.set(t,o),Bo(t)?t.forEach(function(i){o.add(Gn(i,e,n,i,t,a))}):No(t)&&t.forEach(function(i,r){o.set(r,Gn(i,e,n,r,t,a))});var M=x?void 0:(f?c?Fr:Mr:c?ds:us)(t);return ae(M||t,function(i,r){M&&(i=t[r=i]),jn(o,r,Gn(i,e,n,r,t,a))}),o}function Kn(t,e,n){var i=n.length;if(null==t)return!i;for(t=mt(t);i--;){var r=n[i],a=e[r],o=t[r];if(void 0===o&&!(r in t)||!a(o))return!1}return!0}function Vn(t,e,n){if("function"!=typeof t)throw new yt(a);return ca(function(){t.apply(void 0,n)},e)}function Wn(t,e,n,i){var r=-1,a=le,o=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=ue(e,Se(n))),i?(a=ce,o=!1):e.length>=200&&(a=Re,o=!1,e=new In(e));t:for(;++r<s;){var u=t[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var f=c;f--;)if(e[f]===d)continue t;l.push(u)}else a(e,d,i)||l.push(u)}return l}Cn.templateSettings={escape:U,evaluate:$,interpolate:q,variable:"",imports:{_:Cn}},Cn.prototype=Sn.prototype,Cn.prototype.constructor=Cn,An.prototype=En(Sn.prototype),An.prototype.constructor=An,Rn.prototype=En(Sn.prototype),Rn.prototype.constructor=Rn,Ln.prototype.clear=function(){this.__data__=hn?hn(null):{},this.size=0},Ln.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ln.prototype.get=function(t){var e=this.__data__;if(hn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return kt.call(e,t)?e[t]:void 0},Ln.prototype.has=function(t){var e=this.__data__;return hn?void 0!==e[t]:kt.call(e,t)},Ln.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hn&&void 0===e?"__lodash_hash_undefined__":e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=Bn(e,t);return!(n<0||(n==e.length-1?e.pop():Xt.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,n=Bn(e,t);return n<0?void 0:e[n][1]},Dn.prototype.has=function(t){return Bn(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,i=Bn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},On.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(un||Dn),string:new Ln}},On.prototype.delete=function(t){var e=qr(this,t).delete(t);return this.size-=e?1:0,e},On.prototype.get=function(t){return qr(this,t).get(t)},On.prototype.has=function(t){return qr(this,t).has(t)},On.prototype.set=function(t,e){var n=qr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},In.prototype.add=In.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},In.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Pn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pn.prototype.get=function(t){return this.__data__.get(t)},Pn.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var i=n.__data__;if(!un||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new On(i)}return n.set(t,e),this.size=n.size,this};var Yn=fr(ii),Xn=fr(ri,!0);function Qn(t,e){var n=!0;return Yn(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Jn(t,e,n){for(var i=-1,r=t.length;++i<r;){var a=t[i],o=e(a);if(null!=o&&(void 0===s?o==o&&!$o(o):n(o,s)))var s=o,l=a}return l}function Zn(t,e){var n=[];return Yn(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ti(t,e,n,i,r){var a=-1,o=t.length;for(n||(n=Xr),r||(r=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?ti(s,e-1,n,i,r):de(r,s):i||(r[r.length]=s)}return r}var ei=pr(),ni=pr(!0);function ii(t,e){return t&&ei(t,e,us)}function ri(t,e){return t&&ni(t,e,us)}function ai(t,e){return se(e,function(e){return Lo(t[e])})}function oi(t,e){for(var n=0,i=(e=Ji(e,t)).length;null!=t&&n<i;)t=t[ma(e[n++])];return n&&n==i?t:void 0}function si(t,e,n){var i=e(t);return To(t)?i:de(i,n(t))}function li(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ze&&ze in mt(t)?function(t){var e=kt.call(t,ze),n=t[ze];try{t[ze]=void 0;var i=!0}catch(t){}var r=St.call(t);return i&&(e?t[ze]=n:delete t[ze]),r}(t):function(t){return St.call(t)}(t)}function ci(t,e){return t>e}function ui(t,e){return null!=t&&kt.call(t,e)}function di(t,e){return null!=t&&e in mt(t)}function fi(t,e,n){for(var r=n?ce:le,a=t[0].length,o=t.length,s=o,l=i(o),c=1/0,u=[];s--;){var d=t[s];s&&e&&(d=ue(d,Se(e))),c=rn(d.length,c),l[s]=!n&&(e||a>=120&&d.length>=120)?new In(s&&d):void 0}d=t[0];var f=-1,p=l[0];t:for(;++f<a&&u.length<c;){var h=d[f],m=e?e(h):h;if(h=n||0!==h?h:0,!(p?Re(p,m):r(u,m,n))){for(s=o;--s;){var g=l[s];if(!(g?Re(g,m):r(t[s],m,n)))continue t}p&&p.push(m),u.push(h)}}return u}function pi(t,e,n){var i=null==(t=oa(t,e=Ji(e,t)))?t:t[ma(Aa(e))];return null==i?void 0:ie(i,t,n)}function hi(t){return Po(t)&&li(t)==l}function mi(t,e,n,i,r){return t===e||(null==t||null==e||!Po(t)&&!Po(e)?t!=t&&e!=e:function(t,e,n,i,r,a){var o=To(t),s=To(e),p=o?c:Vr(t),h=s?c:Vr(e),x=(p=p==l?v:p)==v,C=(h=h==l?v:h)==v,E=p==h;if(E&&So(t)){if(!So(e))return!1;o=!0,x=!1}if(E&&!x)return a||(a=new Pn),o||qo(t)?Pr(t,e,n,i,r,a):function(t,e,n,i,r,a,o){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!a(new Ht(t),new Ht(e)));case u:case d:case g:return bo(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case _:return t==e+"";case m:var s=Me;case b:var l=1&i;if(s||(s=Be),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=2,o.set(t,e);var p=Pr(s(t),s(e),i,r,a,o);return o.delete(t),p;case w:if(Tn)return Tn.call(t)==Tn.call(e)}return!1}(t,e,p,n,i,r,a);if(!(1&n)){var S=x&&kt.call(t,"__wrapped__"),A=C&&kt.call(e,"__wrapped__");if(S||A){var R=S?t.value():t,L=A?e.value():e;return a||(a=new Pn),r(R,L,n,i,a)}}return!!E&&(a||(a=new Pn),function(t,e,n,i,r,a){var o=1&n,s=Mr(t),l=s.length;if(l!=Mr(e).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in e:kt.call(e,u)))return!1}var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var p=!0;a.set(t,e),a.set(e,t);for(var h=o;++c<l;){var m=t[u=s[c]],g=e[u];if(i)var v=o?i(g,m,u,e,t,a):i(m,g,u,t,e,a);if(!(void 0===v?m===g||r(m,g,n,i,a):v)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,i,r,a))}(t,e,n,i,mi,r))}function gi(t,e,n,i){var r=n.length,a=r,o=!i;if(null==t)return!a;for(t=mt(t);r--;){var s=n[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<a;){var l=(s=n[r])[0],c=t[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in t))return!1}else{var d=new Pn;if(i)var f=i(c,u,l,t,e,d);if(!(void 0===f?mi(u,c,3,i,d):f))return!1}}return!0}function vi(t){return!(!Io(t)||(e=t,Et&&Et in e))&&(Lo(t)?Ot:ot).test(ga(t));var e}function yi(t){return"function"==typeof t?t:null==t?Ms:"object"==typeof t?To(t)?Ti(t[0],t[1]):xi(t):Gs(t)}function bi(t){if(!na(t))return en(t);var e=[];for(var n in mt(t))kt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function _i(t,e){return t<e}function wi(t,e){var n=-1,r=Co(t)?i(t.length):[];return Yn(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function xi(t){var e=Hr(t);return 1==e.length&&e[0][2]?ra(e[0][0],e[0][1]):function(n){return n===t||gi(n,t,e)}}function Ti(t,e){return Zr(t)&&ia(e)?ra(ma(t),e):function(n){var i=as(n,t);return void 0===i&&i===e?os(n,t):mi(e,i,3)}}function ki(t,e,n,i,r){t!==e&&ei(e,function(a,o){if(r||(r=new Pn),Io(a))!function(t,e,n,i,r,a,o){var s=sa(t,n),l=sa(e,n),c=o.get(l);if(c)Fn(t,n,c);else{var u=a?a(s,l,n+"",t,e,o):void 0,d=void 0===u;if(d){var f=To(l),p=!f&&So(l),h=!f&&!p&&qo(l);u=l,f||p||h?To(s)?u=s:Eo(s)?u=lr(s):p?(d=!1,u=nr(l,!0)):h?(d=!1,u=rr(l,!0)):u=[]:Fo(l)||xo(l)?(u=s,xo(s)?u=Xo(s):Io(s)&&!Lo(s)||(u=Yr(l))):d=!1}d&&(o.set(l,u),r(u,l,i,a,o),o.delete(l)),Fn(t,n,u)}}(t,e,o,n,ki,i,r);else{var s=i?i(sa(t,o),a,o+"",t,e,r):void 0;void 0===s&&(s=a),Fn(t,o,s)}},ds)}function Ci(t,e){var n=t.length;if(n)return Qr(e+=e<0?n:0,n)?t[e]:void 0}function Ei(t,e,n){e=e.length?ue(e,function(t){return To(t)?function(e){return oi(e,1===t.length?t[0]:t)}:t}):[Ms];var i=-1;return e=ue(e,Se($r())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(wi(t,function(t,n,r){return{criteria:ue(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,a=e.criteria,o=r.length,s=n.length;++i<o;){var l=ar(r[i],a[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)})}function Si(t,e,n){for(var i=-1,r=e.length,a={};++i<r;){var o=e[i],s=oi(t,o);n(s,o)&&Ii(a,Ji(o,t),s)}return a}function Ai(t,e,n,i){var r=i?be:ye,a=-1,o=e.length,s=t;for(t===e&&(e=lr(e)),n&&(s=ue(t,Se(n)));++a<o;)for(var l=0,c=e[a],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==t&&Xt.call(s,l,1),Xt.call(t,l,1);return t}function Ri(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==a){var a=r;Qr(r)?Xt.call(t,r,1):zi(t,r)}}return t}function Li(t,e){return t+Xe(sn()*(e-t+1))}function Di(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Xe(e/2))&&(t+=t)}while(e);return n}function Oi(t,e){return ua(aa(t,e,Ms),t+"")}function Ii(t,e,n,i){if(!Io(t))return t;for(var r=-1,a=(e=Ji(e,t)).length,o=a-1,s=t;null!=s&&++r<a;){var l=ma(e[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=o){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=Io(u)?u:Qr(e[r+1])?[]:{})}jn(s,l,c),s=s[l]}return t}var Pi=mn?function(t,e){return mn.set(t,e),t}:Ms,Ni=Ge?function(t,e){return Ge(t,"toString",{configurable:!0,enumerable:!1,value:Is(e),writable:!0})}:Ms;function Mi(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var o=i(a);++r<a;)o[r]=t[r+e];return o}function Fi(t,e){var n;return Yn(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function ji(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=t[a];null!==o&&!$o(o)&&(n?o<=e:o<e)?i=a+1:r=a}return r}return Bi(t,e,Ms,n)}function Bi(t,e,n,i){var r=0,a=null==t?0:t.length;if(0===a)return 0;for(var o=(e=n(e))!=e,s=null===e,l=$o(e),c=void 0===e;r<a;){var u=Xe((r+a)/2),d=n(t[u]),f=void 0!==d,p=null===d,h=d==d,m=$o(d);if(o)var g=i||h;else g=c?h&&(i||f):s?h&&f&&(i||!p):l?h&&f&&!p&&(i||!m):!p&&!m&&(i?d<=e:d<e);g?r=u+1:a=u}return rn(a,4294967294)}function Ui(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var o=t[n],s=e?e(o):o;if(!n||!bo(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function $i(t){return"number"==typeof t?t:$o(t)?NaN:+t}function qi(t){if("string"==typeof t)return t;if(To(t))return ue(t,qi)+"";if($o(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Hi(t,e,n){var i=-1,r=le,a=t.length,o=!0,s=[],l=s;if(n)o=!1,r=ce;else if(a>=200){var c=e?null:Ar(t);if(c)return Be(c);o=!1,r=Re,l=new In}else l=e?[]:s;t:for(;++i<a;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue t;e&&l.push(d),s.push(u)}else r(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function zi(t,e){return null==(t=oa(t,e=Ji(e,t)))||delete t[ma(Aa(e))]}function Gi(t,e,n,i){return Ii(t,e,n(oi(t,e)),i)}function Ki(t,e,n,i){for(var r=t.length,a=i?r:-1;(i?a--:++a<r)&&e(t[a],a,t););return n?Mi(t,i?0:a,i?a+1:r):Mi(t,i?a+1:0,i?r:a)}function Vi(t,e){var n=t;return n instanceof Rn&&(n=n.value()),fe(e,function(t,e){return e.func.apply(e.thisArg,de([t],e.args))},n)}function Wi(t,e,n){var r=t.length;if(r<2)return r?Hi(t[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=t[a],l=-1;++l<r;)l!=a&&(o[a]=Wn(o[a]||s,t[l],e,n));return Hi(ti(o,1),e,n)}function Yi(t,e,n){for(var i=-1,r=t.length,a=e.length,o={};++i<r;){var s=i<a?e[i]:void 0;n(o,t[i],s)}return o}function Xi(t){return Eo(t)?t:[]}function Qi(t){return"function"==typeof t?t:Ms}function Ji(t,e){return To(t)?t:Zr(t,e)?[t]:ha(Qo(t))}var Zi=Oi;function tr(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Mi(t,e,n)}var er=Ke||function(t){return Gt.clearTimeout(t)};function nr(t,e){if(e)return t.slice();var n=t.length,i=zt?zt(n):new t.constructor(n);return t.copy(i),i}function ir(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function rr(t,e){var n=e?ir(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ar(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,a=$o(t),o=void 0!==e,s=null===e,l=e==e,c=$o(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!a&&!c&&t<e||c&&n&&r&&!i&&!a||s&&n&&r||!o&&r||!l)return-1}return 0}function or(t,e,n,r){for(var a=-1,o=t.length,s=n.length,l=-1,c=e.length,u=nn(o-s,0),d=i(c+u),f=!r;++l<c;)d[l]=e[l];for(;++a<s;)(f||a<o)&&(d[n[a]]=t[a]);for(;u--;)d[l++]=t[a++];return d}function sr(t,e,n,r){for(var a=-1,o=t.length,s=-1,l=n.length,c=-1,u=e.length,d=nn(o-l,0),f=i(d+u),p=!r;++a<d;)f[a]=t[a];for(var h=a;++c<u;)f[h+c]=e[c];for(;++s<l;)(p||a<o)&&(f[h+n[s]]=t[a++]);return f}function lr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function cr(t,e,n,i){var r=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?qn(n,s,l):jn(n,s,l)}return n}function ur(t,e){return function(n,i){var r=To(n)?re:Un,a=e?e():{};return r(n,t,$r(i,2),a)}}function dr(t){return Oi(function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(r--,a):void 0,o&&Jr(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),e=mt(e);++i<r;){var s=n[i];s&&t(e,s,i,a)}return e})}function fr(t,e){return function(n,i){if(null==n)return n;if(!Co(n))return t(n,i);for(var r=n.length,a=e?r:-1,o=mt(n);(e?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function pr(t){return function(e,n,i){for(var r=-1,a=mt(e),o=i(e),s=o.length;s--;){var l=o[t?s:++r];if(!1===n(a[l],l,a))break}return e}}function hr(t){return function(e){var n=Ne(e=Qo(e))?$e(e):void 0,i=n?n[0]:e.charAt(0),r=n?tr(n,1).join(""):e.slice(1);return i[t]()+r}}function mr(t){return function(e){return fe(Ls(xs(e).replace(Lt,"")),t,"")}}function gr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=En(t.prototype),i=t.apply(n,e);return Io(i)?i:n}}function vr(t){return function(e,n,i){var r=mt(e);if(!Co(e)){var a=$r(n,3);e=us(e),n=function(t){return a(r[t],t,r)}}var o=t(e,n,i);return o>-1?r[a?e[o]:o]:void 0}}function yr(t){return Nr(function(e){var n=e.length,i=n,r=An.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new yt(a);if(r&&!s&&"wrapper"==Br(o))var s=new An([],!0)}for(i=s?i:n;++i<n;){var l=Br(o=e[i]),c="wrapper"==l?jr(o):void 0;s=c&&ta(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Br(c[0])].apply(s,c[3]):1==o.length&&ta(o)?s[l]():s.thru(o)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&To(i))return s.plant(i).value();for(var r=0,a=n?e[r].apply(this,t):i;++r<n;)a=e[r].call(this,a);return a}})}function br(t,e,n,r,a,o,s,l,c,u){var d=128&e,f=1&e,p=2&e,h=24&e,m=512&e,g=p?void 0:gr(t);return function v(){for(var y=arguments.length,b=i(y),_=y;_--;)b[_]=arguments[_];if(h)var w=Ur(v),x=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(b,w);if(r&&(b=or(b,r,a,h)),o&&(b=sr(b,o,s,h)),y-=x,h&&y<u){var T=je(b,w);return Er(t,e,br,v.placeholder,n,b,T,l,c,u-y)}var k=f?n:this,C=p?k[t]:t;return y=b.length,l?b=function(t,e){for(var n=t.length,i=rn(e.length,n),r=lr(t);i--;){var a=e[i];t[i]=Qr(a,n)?r[a]:void 0}return t}(b,l):m&&y>1&&b.reverse(),d&&c<y&&(b.length=c),this&&this!==Gt&&this instanceof v&&(C=g||gr(C)),C.apply(k,b)}}function _r(t,e){return function(n,i){return function(t,e,n,i){return ii(t,function(t,r,a){e(i,n(t),r,a)}),i}(n,t,e(i),{})}}function wr(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=qi(n),i=qi(i)):(n=$i(n),i=$i(i)),r=t(n,i)}return r}}function xr(t){return Nr(function(e){return e=ue(e,Se($r())),Oi(function(n){var i=this;return t(e,function(t){return ie(t,i,n)})})})}function Tr(t,e){var n=(e=void 0===e?" ":qi(e)).length;if(n<2)return n?Di(e,t):e;var i=Di(e,Ye(t/Ue(e)));return Ne(e)?tr($e(i),0,t).join(""):i.slice(0,t)}function kr(t){return function(e,n,r){return r&&"number"!=typeof r&&Jr(e,n,r)&&(n=r=void 0),e=Ko(e),void 0===n?(n=e,e=0):n=Ko(n),function(t,e,n,r){for(var a=-1,o=nn(Ye((e-t)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:Ko(r),t)}}function Cr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Yo(e),n=Yo(n)),t(e,n)}}function Er(t,e,n,i,r,a,o,s,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var d=[t,e,r,u?a:void 0,u?o:void 0,u?void 0:a,u?void 0:o,s,l,c],f=n.apply(void 0,d);return ta(t)&&la(f,d),f.placeholder=i,da(f,t,e)}function Sr(t){var e=ht[t];return function(t,n){if(t=Yo(t),(n=null==n?0:rn(Vo(n),292))&&Ze(t)){var i=(Qo(t)+"e").split("e");return+((i=(Qo(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Ar=fn&&1/Be(new fn([,-0]))[1]==1/0?function(t){return new fn(t)}:$s;function Rr(t){return function(e){var n=Vr(e);return n==m?Me(e):n==b?function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}(e):function(t,e){return ue(e,function(e){return[e,t[e]]})}(e,t(e))}}function Lr(t,e,n,r,s,l,c,u){var d=2&e;if(!d&&"function"!=typeof t)throw new yt(a);var f=r?r.length:0;if(f||(e&=-97,r=s=void 0),c=void 0===c?c:nn(Vo(c),0),u=void 0===u?u:Vo(u),f-=s?s.length:0,64&e){var p=r,h=s;r=s=void 0}var m=d?void 0:jr(t),g=[t,e,n,r,s,p,h,l,c,u];if(m&&function(t,e){var n=t[1],i=e[1],r=n|i,a=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!a&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?or(c,l,e[4]):l,t[4]=c?je(t[3],o):e[4]}(l=e[5])&&(c=t[5],t[5]=c?sr(c,l,e[6]):l,t[6]=c?je(t[5],o):e[6]),(l=e[7])&&(t[7]=l),128&i&&(t[8]=null==t[8]?e[8]:rn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(g,m),t=g[0],e=g[1],n=g[2],r=g[3],s=g[4],!(u=g[9]=void 0===g[9]?d?0:t.length:nn(g[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var r=gr(t);return function a(){for(var o=arguments.length,s=i(o),l=o,c=Ur(a);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:je(s,c);return(o-=u.length)<n?Er(t,e,br,a.placeholder,void 0,s,u,void 0,void 0,n-o):ie(this&&this!==Gt&&this instanceof a?r:t,this,s)}}(t,e,u):32!=e&&33!=e||s.length?br.apply(void 0,g):function(t,e,n,r){var a=1&e,o=gr(t);return function e(){for(var s=-1,l=arguments.length,c=-1,u=r.length,d=i(u+l),f=this&&this!==Gt&&this instanceof e?o:t;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++s];return ie(f,a?n:this,d)}}(t,e,n,r);else var v=function(t,e,n){var i=1&e,r=gr(t);return function e(){return(this&&this!==Gt&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return da((m?Pi:la)(v,g),t,e)}function Dr(t,e,n,i){return void 0===t||bo(t,wt[n])&&!kt.call(i,n)?e:t}function Or(t,e,n,i,r,a){return Io(t)&&Io(e)&&(a.set(e,t),ki(t,e,void 0,Or,a),a.delete(e)),t}function Ir(t){return Fo(t)?void 0:t}function Pr(t,e,n,i,r,a){var o=1&n,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=2&n?new In:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var h=t[d],m=e[d];if(i)var g=o?i(m,h,d,e,t,a):i(h,m,d,t,e,a);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!he(e,function(t,e){if(!Re(p,e)&&(h===t||r(h,t,n,i,a)))return p.push(e)})){f=!1;break}}else if(h!==m&&!r(h,m,n,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function Nr(t){return ua(aa(t,void 0,Ta),t+"")}function Mr(t){return si(t,us,Gr)}function Fr(t){return si(t,ds,Kr)}var jr=mn?function(t){return mn.get(t)}:$s;function Br(t){for(var e=t.name+"",n=gn[e],i=kt.call(gn,e)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==t)return r.name}return e}function Ur(t){return(kt.call(Cn,"placeholder")?Cn:t).placeholder}function $r(){var t=Cn.iteratee||Fs;return t=t===Fs?yi:t,arguments.length?t(arguments[0],arguments[1]):t}function qr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Hr(t){for(var e=us(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ia(r)]}return e}function zr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return vi(n)?n:void 0}var Gr=Qe?function(t){return null==t?[]:(t=mt(t),se(Qe(t),function(e){return Yt.call(t,e)}))}:Ws,Kr=Qe?function(t){for(var e=[];t;)de(e,Gr(t)),t=Kt(t);return e}:Ws,Vr=li;function Wr(t,e,n){for(var i=-1,r=(e=Ji(e,t)).length,a=!1;++i<r;){var o=ma(e[i]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++i!=r?a:!!(r=null==t?0:t.length)&&Oo(r)&&Qr(o,r)&&(To(t)||xo(t))}function Yr(t){return"function"!=typeof t.constructor||na(t)?{}:En(Kt(t))}function Xr(t){return To(t)||xo(t)||!!(me&&t&&t[me])}function Qr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&lt.test(t))&&t>-1&&t%1==0&&t<e}function Jr(t,e,n){if(!Io(n))return!1;var i=typeof e;return!!("number"==i?Co(n)&&Qr(e,n.length):"string"==i&&e in n)&&bo(n[e],t)}function Zr(t,e){if(To(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$o(t))||z.test(t)||!H.test(t)||null!=e&&t in mt(e)}function ta(t){var e=Br(t),n=Cn[e];if("function"!=typeof n||!(e in Rn.prototype))return!1;if(t===n)return!0;var i=jr(n);return!!i&&t===i[0]}(cn&&Vr(new cn(new ArrayBuffer(1)))!=k||un&&Vr(new un)!=m||dn&&"[object Promise]"!=Vr(dn.resolve())||fn&&Vr(new fn)!=b||pn&&Vr(new pn)!=x)&&(Vr=function(t){var e=li(t),n=e==v?t.constructor:void 0,i=n?ga(n):"";if(i)switch(i){case vn:return k;case yn:return m;case bn:return"[object Promise]";case _n:return b;case wn:return x}return e});var ea=xt?Lo:Ys;function na(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function ia(t){return t==t&&!Io(t)}function ra(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in mt(n))}}function aa(t,e,n){return e=nn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=nn(r.length-e,0),s=i(o);++a<o;)s[a]=r[e+a];a=-1;for(var l=i(e+1);++a<e;)l[a]=r[a];return l[e]=n(s),ie(t,this,l)}}function oa(t,e){return e.length<2?t:oi(t,Mi(e,0,-1))}function sa(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var la=fa(Pi),ca=We||function(t,e){return Gt.setTimeout(t,e)},ua=fa(Ni);function da(t,e,n){var i=e+"";return ua(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return ae(s,function(n){var i="_."+n[0];e&n[1]&&!le(t,i)&&t.push(i)}),t.sort()}(function(t){var e=i.match(J);return e?e[1].split(Z):[]}(),n)))}function fa(t){var e=0,n=0;return function(){var i=an(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function pa(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var a=Li(n,r),o=t[a];t[a]=t[n],t[n]=o}return t.length=e,t}var ha=function(t){var e=po(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(G,function(t,n,i,r){e.push(i?r.replace(et,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}();function ma(t){if("string"==typeof t||$o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ga(t){if(null!=t){try{return Tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function va(t){if(t instanceof Rn)return t.clone();var e=new An(t.__wrapped__,t.__chain__);return e.__actions__=lr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ya=Oi(function(t,e){return Eo(t)?Wn(t,ti(e,1,Eo,!0)):[]}),ba=Oi(function(t,e){var n=Aa(e);return Eo(n)&&(n=void 0),Eo(t)?Wn(t,ti(e,1,Eo,!0),$r(n,2)):[]}),_a=Oi(function(t,e){var n=Aa(e);return Eo(n)&&(n=void 0),Eo(t)?Wn(t,ti(e,1,Eo,!0),void 0,n):[]});function wa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Vo(n);return r<0&&(r=nn(i+r,0)),ve(t,$r(e,3),r)}function xa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=Vo(n),r=n<0?nn(i+r,0):rn(r,i-1)),ve(t,$r(e,3),r,!0)}function Ta(t){return null!=t&&t.length?ti(t,1):[]}function ka(t){return t&&t.length?t[0]:void 0}var Ca=Oi(function(t){var e=ue(t,Xi);return e.length&&e[0]===t[0]?fi(e):[]}),Ea=Oi(function(t){var e=Aa(t),n=ue(t,Xi);return e===Aa(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?fi(n,$r(e,2)):[]}),Sa=Oi(function(t){var e=Aa(t),n=ue(t,Xi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?fi(n,void 0,e):[]});function Aa(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ra=Oi(La);function La(t,e){return t&&t.length&&e&&e.length?Ai(t,e):t}var Da=Nr(function(t,e){var n=null==t?0:t.length,i=Hn(t,e);return Ri(t,ue(e,function(t){return Qr(t,n)?+t:t}).sort(ar)),i});function Oa(t){return null==t?t:ln.call(t)}var Ia=Oi(function(t){return Hi(ti(t,1,Eo,!0))}),Pa=Oi(function(t){var e=Aa(t);return Eo(e)&&(e=void 0),Hi(ti(t,1,Eo,!0),$r(e,2))}),Na=Oi(function(t){var e=Aa(t);return e="function"==typeof e?e:void 0,Hi(ti(t,1,Eo,!0),void 0,e)});function Ma(t){if(!t||!t.length)return[];var e=0;return t=se(t,function(t){if(Eo(t))return e=nn(t.length,e),!0}),Ee(e,function(e){return ue(t,xe(e))})}function Fa(t,e){if(!t||!t.length)return[];var n=Ma(t);return null==e?n:ue(n,function(t){return ie(e,void 0,t)})}var ja=Oi(function(t,e){return Eo(t)?Wn(t,e):[]}),Ba=Oi(function(t){return Wi(se(t,Eo))}),Ua=Oi(function(t){var e=Aa(t);return Eo(e)&&(e=void 0),Wi(se(t,Eo),$r(e,2))}),$a=Oi(function(t){var e=Aa(t);return e="function"==typeof e?e:void 0,Wi(se(t,Eo),void 0,e)}),qa=Oi(Ma),Ha=Oi(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Fa(t,n)});function za(t){var e=Cn(t);return e.__chain__=!0,e}function Ga(t,e){return e(t)}var Ka=Nr(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Hn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Rn&&Qr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Ga,args:[r],thisArg:void 0}),new An(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(void 0),t})):this.thru(r)}),Va=ur(function(t,e,n){kt.call(t,n)?++t[n]:qn(t,n,1)}),Wa=vr(wa),Ya=vr(xa);function Xa(t,e){return(To(t)?ae:Yn)(t,$r(e,3))}function Qa(t,e){return(To(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:Xn)(t,$r(e,3))}var Ja=ur(function(t,e,n){kt.call(t,n)?t[n].push(e):qn(t,n,[e])}),Za=Oi(function(t,e,n){var r=-1,a="function"==typeof e,o=Co(t)?i(t.length):[];return Yn(t,function(t){o[++r]=a?ie(e,t,n):pi(t,e,n)}),o}),to=ur(function(t,e,n){qn(t,n,e)});function eo(t,e){return(To(t)?ue:wi)(t,$r(e,3))}var no=ur(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),io=Oi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Jr(t,e[0],e[1])?e=[]:n>2&&Jr(e[0],e[1],e[2])&&(e=[e[0]]),Ei(t,ti(e,1),[])}),ro=Ve||function(){return Gt.Date.now()};function ao(t,e,n){return e=n?void 0:e,Lr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function oo(t,e){var n;if("function"!=typeof e)throw new yt(a);return t=Vo(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var so=Oi(function(t,e,n){var i=1;if(n.length){var r=je(n,Ur(so));i|=32}return Lr(t,i,e,n,r)}),lo=Oi(function(t,e,n){var i=3;if(n.length){var r=je(n,Ur(lo));i|=32}return Lr(e,i,t,n,r)});function co(t,e,n){var i,r,o,s,l,c,u=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new yt(a);function h(e){var n=i,a=r;return i=r=void 0,u=e,s=t.apply(a,n)}function m(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=o}function g(){var t=ro();if(m(t))return v(t);l=ca(g,function(t){var n=e-(t-c);return f?rn(n,o-(t-u)):n}(t))}function v(t){return l=void 0,p&&i?h(t):(i=r=void 0,s)}function y(){var t=ro(),n=m(t);if(i=arguments,r=this,c=t,n){if(void 0===l)return function(t){return u=t,l=ca(g,e),d?h(t):s}(c);if(f)return er(l),l=ca(g,e),h(c)}return void 0===l&&(l=ca(g,e)),s}return e=Yo(e)||0,Io(n)&&(d=!!n.leading,o=(f="maxWait"in n)?nn(Yo(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==l&&er(l),u=0,i=c=r=l=void 0},y.flush=function(){return void 0===l?s:v(ro())},y}var uo=Oi(function(t,e){return Vn(t,1,e)}),fo=Oi(function(t,e,n){return Vn(t,Yo(e)||0,n)});function po(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(a);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(po.Cache||On),n}function ho(t){if("function"!=typeof t)throw new yt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}po.Cache=On;var mo=Zi(function(t,e){var n=(e=1==e.length&&To(e[0])?ue(e[0],Se($r())):ue(ti(e,1),Se($r()))).length;return Oi(function(i){for(var r=-1,a=rn(i.length,n);++r<a;)i[r]=e[r].call(this,i[r]);return ie(t,this,i)})}),go=Oi(function(t,e){return Lr(t,32,void 0,e,je(e,Ur(go)))}),vo=Oi(function(t,e){return Lr(t,64,void 0,e,je(e,Ur(vo)))}),yo=Nr(function(t,e){return Lr(t,256,void 0,void 0,void 0,e)});function bo(t,e){return t===e||t!=t&&e!=e}var _o=Cr(ci),wo=Cr(function(t,e){return t>=e}),xo=hi(function(){return arguments}())?hi:function(t){return Po(t)&&kt.call(t,"callee")&&!Yt.call(t,"callee")},To=i.isArray,ko=Qt?Se(Qt):function(t){return Po(t)&&li(t)==T};function Co(t){return null!=t&&Oo(t.length)&&!Lo(t)}function Eo(t){return Po(t)&&Co(t)}var So=Je||Ys,Ao=Jt?Se(Jt):function(t){return Po(t)&&li(t)==d};function Ro(t){if(!Po(t))return!1;var e=li(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Fo(t)}function Lo(t){if(!Io(t))return!1;var e=li(t);return e==p||e==h||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Do(t){return"number"==typeof t&&t==Vo(t)}function Oo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Io(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Po(t){return null!=t&&"object"==typeof t}var No=Zt?Se(Zt):function(t){return Po(t)&&Vr(t)==m};function Mo(t){return"number"==typeof t||Po(t)&&li(t)==g}function Fo(t){if(!Po(t)||li(t)!=v)return!1;var e=Kt(t);if(null===e)return!0;var n=kt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Tt.call(n)==At}var jo=te?Se(te):function(t){return Po(t)&&li(t)==y},Bo=ee?Se(ee):function(t){return Po(t)&&Vr(t)==b};function Uo(t){return"string"==typeof t||!To(t)&&Po(t)&&li(t)==_}function $o(t){return"symbol"==typeof t||Po(t)&&li(t)==w}var qo=ne?Se(ne):function(t){return Po(t)&&Oo(t.length)&&!!jt[li(t)]},Ho=Cr(_i),zo=Cr(function(t,e){return t<=e});function Go(t){if(!t)return[];if(Co(t))return Uo(t)?$e(t):lr(t);if(Te&&t[Te])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Te]());var e=Vr(t);return(e==m?Me:e==b?Be:bs)(t)}function Ko(t){return t?(t=Yo(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0}function Vo(t){var e=Ko(t),n=e%1;return e==e?n?e-n:e:0}function Wo(t){return t?zn(Vo(t),0,4294967295):0}function Yo(t){if("number"==typeof t)return t;if($o(t))return NaN;if(Io(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Io(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(W,"");var n=at.test(t);return n||st.test(t)?qt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function Xo(t){return cr(t,ds(t))}function Qo(t){return null==t?"":qi(t)}var Jo=dr(function(t,e){if(na(e)||Co(e))cr(e,us(e),t);else for(var n in e)kt.call(e,n)&&jn(t,n,e[n])}),Zo=dr(function(t,e){cr(e,ds(e),t)}),ts=dr(function(t,e,n,i){cr(e,ds(e),t,i)}),es=dr(function(t,e,n,i){cr(e,us(e),t,i)}),ns=Nr(Hn),is=Oi(function(t,e){t=mt(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&Jr(e[0],e[1],r)&&(i=1);++n<i;)for(var a=e[n],o=ds(a),s=-1,l=o.length;++s<l;){var c=o[s],u=t[c];(void 0===u||bo(u,wt[c])&&!kt.call(t,c))&&(t[c]=a[c])}return t}),rs=Oi(function(t){return t.push(void 0,Or),ie(ps,void 0,t)});function as(t,e,n){var i=null==t?void 0:oi(t,e);return void 0===i?n:i}function os(t,e){return null!=t&&Wr(t,e,di)}var ss=_r(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=St.call(e)),t[e]=n},Is(Ms)),ls=_r(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=St.call(e)),kt.call(t,e)?t[e].push(n):t[e]=[n]},$r),cs=Oi(pi);function us(t){return Co(t)?Nn(t):bi(t)}function ds(t){return Co(t)?Nn(t,!0):function(t){if(!Io(t))return function(t){var e=[];if(null!=t)for(var n in mt(t))e.push(n);return e}(t);var e=na(t),n=[];for(var i in t)("constructor"!=i||!e&&kt.call(t,i))&&n.push(i);return n}(t)}var fs=dr(function(t,e,n){ki(t,e,n)}),ps=dr(function(t,e,n,i){ki(t,e,n,i)}),hs=Nr(function(t,e){var n={};if(null==t)return n;var i=!1;e=ue(e,function(e){return e=Ji(e,t),i||(i=e.length>1),e}),cr(t,Fr(t),n),i&&(n=Gn(n,7,Ir));for(var r=e.length;r--;)zi(n,e[r]);return n}),ms=Nr(function(t,e){return null==t?{}:function(t,e){return Si(t,e,function(e,n){return os(t,n)})}(t,e)});function gs(t,e){if(null==t)return{};var n=ue(Fr(t),function(t){return[t]});return e=$r(e),Si(t,n,function(t,n){return e(t,n[0])})}var vs=Rr(us),ys=Rr(ds);function bs(t){return null==t?[]:Ae(t,us(t))}var _s=mr(function(t,e,n){return e=e.toLowerCase(),t+(n?ws(e):e)});function ws(t){return Rs(Qo(t).toLowerCase())}function xs(t){return(t=Qo(t))&&t.replace(ct,Oe).replace(Dt,"")}var Ts=mr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ks=mr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Cs=hr("toLowerCase"),Es=mr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ss=mr(function(t,e,n){return t+(n?" ":"")+Rs(e)}),As=mr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Rs=hr("toUpperCase");function Ls(t,e,n){return t=Qo(t),void 0===(e=n?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(It)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Ds=Oi(function(t,e){try{return ie(t,void 0,e)}catch(t){return Ro(t)?t:new ft(t)}}),Os=Nr(function(t,e){return ae(e,function(e){e=ma(e),qn(t,e,so(t[e],t))}),t});function Is(t){return function(){return t}}var Ps=yr(),Ns=yr(!0);function Ms(t){return t}function Fs(t){return yi("function"==typeof t?t:Gn(t,1))}var js=Oi(function(t,e){return function(n){return pi(n,t,e)}}),Bs=Oi(function(t,e){return function(n){return pi(t,n,e)}});function Us(t,e,n){var i=us(e),r=ai(e,i);null!=n||Io(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ai(e,us(e)));var a=!(Io(n)&&"chain"in n&&!n.chain),o=Lo(t);return ae(r,function(n){var i=e[n];t[n]=i,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=lr(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,de([this.value()],arguments))})}),t}function $s(){}var qs=xr(ue),Hs=xr(oe),zs=xr(he);function Gs(t){return Zr(t)?xe(ma(t)):function(t){return function(e){return oi(e,t)}}(t)}var Ks=kr(),Vs=kr(!0);function Ws(){return[]}function Ys(){return!1}var Xs,Qs=wr(function(t,e){return t+e},0),Js=Sr("ceil"),Zs=wr(function(t,e){return t/e},1),tl=Sr("floor"),el=wr(function(t,e){return t*e},1),nl=Sr("round"),il=wr(function(t,e){return t-e},0);return Cn.after=function(t,e){if("function"!=typeof e)throw new yt(a);return t=Vo(t),function(){if(--t<1)return e.apply(this,arguments)}},Cn.ary=ao,Cn.assign=Jo,Cn.assignIn=Zo,Cn.assignInWith=ts,Cn.assignWith=es,Cn.at=ns,Cn.before=oo,Cn.bind=so,Cn.bindAll=Os,Cn.bindKey=lo,Cn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return To(t)?t:[t]},Cn.chain=za,Cn.chunk=function(t,e,n){e=(n?Jr(t,e,n):void 0===e)?1:nn(Vo(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var a=0,o=0,s=i(Ye(r/e));a<r;)s[o++]=Mi(t,a,a+=e);return s},Cn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var a=t[e];a&&(r[i++]=a)}return r},Cn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return de(To(n)?lr(n):[n],ti(e,1))},Cn.cond=function(t){var e=null==t?0:t.length,n=$r();return t=e?ue(t,function(t){if("function"!=typeof t[1])throw new yt(a);return[n(t[0]),t[1]]}):[],Oi(function(n){for(var i=-1;++i<e;){var r=t[i];if(ie(r[0],this,n))return ie(r[1],this,n)}})},Cn.conforms=function(t){return function(t){var e=us(t);return function(n){return Kn(n,t,e)}}(Gn(t,1))},Cn.constant=Is,Cn.countBy=Va,Cn.create=function(t,e){var n=En(t);return null==e?n:$n(n,e)},Cn.curry=function t(e,n,i){var r=Lr(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Cn.curryRight=function t(e,n,i){var r=Lr(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Cn.debounce=co,Cn.defaults=is,Cn.defaultsDeep=rs,Cn.defer=uo,Cn.delay=fo,Cn.difference=ya,Cn.differenceBy=ba,Cn.differenceWith=_a,Cn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Mi(t,(e=n||void 0===e?1:Vo(e))<0?0:e,i):[]},Cn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Mi(t,0,(e=i-(e=n||void 0===e?1:Vo(e)))<0?0:e):[]},Cn.dropRightWhile=function(t,e){return t&&t.length?Ki(t,$r(e,3),!0,!0):[]},Cn.dropWhile=function(t,e){return t&&t.length?Ki(t,$r(e,3),!0):[]},Cn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Jr(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Vo(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:Vo(i))<0&&(i+=r),i=n>i?0:Wo(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Cn.filter=function(t,e){return(To(t)?se:Zn)(t,$r(e,3))},Cn.flatMap=function(t,e){return ti(eo(t,e),1)},Cn.flatMapDeep=function(t,e){return ti(eo(t,e),1/0)},Cn.flatMapDepth=function(t,e,n){return n=void 0===n?1:Vo(n),ti(eo(t,e),n)},Cn.flatten=Ta,Cn.flattenDeep=function(t){return null!=t&&t.length?ti(t,1/0):[]},Cn.flattenDepth=function(t,e){return null!=t&&t.length?ti(t,e=void 0===e?1:Vo(e)):[]},Cn.flip=function(t){return Lr(t,512)},Cn.flow=Ps,Cn.flowRight=Ns,Cn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Cn.functions=function(t){return null==t?[]:ai(t,us(t))},Cn.functionsIn=function(t){return null==t?[]:ai(t,ds(t))},Cn.groupBy=Ja,Cn.initial=function(t){return null!=t&&t.length?Mi(t,0,-1):[]},Cn.intersection=Ca,Cn.intersectionBy=Ea,Cn.intersectionWith=Sa,Cn.invert=ss,Cn.invertBy=ls,Cn.invokeMap=Za,Cn.iteratee=Fs,Cn.keyBy=to,Cn.keys=us,Cn.keysIn=ds,Cn.map=eo,Cn.mapKeys=function(t,e){var n={};return e=$r(e,3),ii(t,function(t,i,r){qn(n,e(t,i,r),t)}),n},Cn.mapValues=function(t,e){var n={};return e=$r(e,3),ii(t,function(t,i,r){qn(n,i,e(t,i,r))}),n},Cn.matches=function(t){return xi(Gn(t,1))},Cn.matchesProperty=function(t,e){return Ti(t,Gn(e,1))},Cn.memoize=po,Cn.merge=fs,Cn.mergeWith=ps,Cn.method=js,Cn.methodOf=Bs,Cn.mixin=Us,Cn.negate=ho,Cn.nthArg=function(t){return t=Vo(t),Oi(function(e){return Ci(e,t)})},Cn.omit=hs,Cn.omitBy=function(t,e){return gs(t,ho($r(e)))},Cn.once=function(t){return oo(2,t)},Cn.orderBy=function(t,e,n,i){return null==t?[]:(To(e)||(e=null==e?[]:[e]),To(n=i?void 0:n)||(n=null==n?[]:[n]),Ei(t,e,n))},Cn.over=qs,Cn.overArgs=mo,Cn.overEvery=Hs,Cn.overSome=zs,Cn.partial=go,Cn.partialRight=vo,Cn.partition=no,Cn.pick=ms,Cn.pickBy=gs,Cn.property=Gs,Cn.propertyOf=function(t){return function(e){return null==t?void 0:oi(t,e)}},Cn.pull=Ra,Cn.pullAll=La,Cn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ai(t,e,$r(n,2)):t},Cn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ai(t,e,void 0,n):t},Cn.pullAt=Da,Cn.range=Ks,Cn.rangeRight=Vs,Cn.rearg=yo,Cn.reject=function(t,e){return(To(t)?se:Zn)(t,ho($r(e,3)))},Cn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],a=t.length;for(e=$r(e,3);++i<a;){var o=t[i];e(o,i,t)&&(n.push(o),r.push(i))}return Ri(t,r),n},Cn.rest=function(t,e){if("function"!=typeof t)throw new yt(a);return Oi(t,e=void 0===e?e:Vo(e))},Cn.reverse=Oa,Cn.sampleSize=function(t,e,n){return e=(n?Jr(t,e,n):void 0===e)?1:Vo(e),(To(t)?function(t,e){return pa(lr(t),zn(e,0,t.length))}:function(t,e){var n=bs(t);return pa(n,zn(e,0,n.length))})(t,e)},Cn.set=function(t,e,n){return null==t?t:Ii(t,e,n)},Cn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ii(t,e,n,i)},Cn.shuffle=function(t){return(To(t)?function(t){return pa(lr(t))}:function(t){return pa(bs(t))})(t)},Cn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Jr(t,e,n)?(e=0,n=i):(e=null==e?0:Vo(e),n=void 0===n?i:Vo(n)),Mi(t,e,n)):[]},Cn.sortBy=io,Cn.sortedUniq=function(t){return t&&t.length?Ui(t):[]},Cn.sortedUniqBy=function(t,e){return t&&t.length?Ui(t,$r(e,2)):[]},Cn.split=function(t,e,n){return n&&"number"!=typeof n&&Jr(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Qo(t))&&("string"==typeof e||null!=e&&!jo(e))&&!(e=qi(e))&&Ne(t)?tr($e(t),0,n):t.split(e,n):[]},Cn.spread=function(t,e){if("function"!=typeof t)throw new yt(a);return e=null==e?0:nn(Vo(e),0),Oi(function(n){var i=n[e],r=tr(n,0,e);return i&&de(r,i),ie(t,this,r)})},Cn.tail=function(t){var e=null==t?0:t.length;return e?Mi(t,1,e):[]},Cn.take=function(t,e,n){return t&&t.length?Mi(t,0,(e=n||void 0===e?1:Vo(e))<0?0:e):[]},Cn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Mi(t,(e=i-(e=n||void 0===e?1:Vo(e)))<0?0:e,i):[]},Cn.takeRightWhile=function(t,e){return t&&t.length?Ki(t,$r(e,3),!1,!0):[]},Cn.takeWhile=function(t,e){return t&&t.length?Ki(t,$r(e,3)):[]},Cn.tap=function(t,e){return e(t),t},Cn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new yt(a);return Io(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),co(t,e,{leading:i,maxWait:e,trailing:r})},Cn.thru=Ga,Cn.toArray=Go,Cn.toPairs=vs,Cn.toPairsIn=ys,Cn.toPath=function(t){return To(t)?ue(t,ma):$o(t)?[t]:lr(ha(Qo(t)))},Cn.toPlainObject=Xo,Cn.transform=function(t,e,n){var i=To(t),r=i||So(t)||qo(t);if(e=$r(e,4),null==n){var a=t&&t.constructor;n=r?i?new a:[]:Io(t)&&Lo(a)?En(Kt(t)):{}}return(r?ae:ii)(t,function(t,i,r){return e(n,t,i,r)}),n},Cn.unary=function(t){return ao(t,1)},Cn.union=Ia,Cn.unionBy=Pa,Cn.unionWith=Na,Cn.uniq=function(t){return t&&t.length?Hi(t):[]},Cn.uniqBy=function(t,e){return t&&t.length?Hi(t,$r(e,2)):[]},Cn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Hi(t,void 0,e):[]},Cn.unset=function(t,e){return null==t||zi(t,e)},Cn.unzip=Ma,Cn.unzipWith=Fa,Cn.update=function(t,e,n){return null==t?t:Gi(t,e,Qi(n))},Cn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Gi(t,e,Qi(n),i)},Cn.values=bs,Cn.valuesIn=function(t){return null==t?[]:Ae(t,ds(t))},Cn.without=ja,Cn.words=Ls,Cn.wrap=function(t,e){return go(Qi(e),t)},Cn.xor=Ba,Cn.xorBy=Ua,Cn.xorWith=$a,Cn.zip=qa,Cn.zipObject=function(t,e){return Yi(t||[],e||[],jn)},Cn.zipObjectDeep=function(t,e){return Yi(t||[],e||[],Ii)},Cn.zipWith=Ha,Cn.entries=vs,Cn.entriesIn=ys,Cn.extend=Zo,Cn.extendWith=ts,Us(Cn,Cn),Cn.add=Qs,Cn.attempt=Ds,Cn.camelCase=_s,Cn.capitalize=ws,Cn.ceil=Js,Cn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Yo(n))==n?n:0),void 0!==e&&(e=(e=Yo(e))==e?e:0),zn(Yo(t),e,n)},Cn.clone=function(t){return Gn(t,4)},Cn.cloneDeep=function(t){return Gn(t,5)},Cn.cloneDeepWith=function(t,e){return Gn(t,5,e="function"==typeof e?e:void 0)},Cn.cloneWith=function(t,e){return Gn(t,4,e="function"==typeof e?e:void 0)},Cn.conformsTo=function(t,e){return null==e||Kn(t,e,us(e))},Cn.deburr=xs,Cn.defaultTo=function(t,e){return null==t||t!=t?e:t},Cn.divide=Zs,Cn.endsWith=function(t,e,n){t=Qo(t),e=qi(e);var i=t.length,r=n=void 0===n?i:zn(Vo(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},Cn.eq=bo,Cn.escape=function(t){return(t=Qo(t))&&B.test(t)?t.replace(F,Ie):t},Cn.escapeRegExp=function(t){return(t=Qo(t))&&V.test(t)?t.replace(K,"\\$&"):t},Cn.every=function(t,e,n){var i=To(t)?oe:Qn;return n&&Jr(t,e,n)&&(e=void 0),i(t,$r(e,3))},Cn.find=Wa,Cn.findIndex=wa,Cn.findKey=function(t,e){return ge(t,$r(e,3),ii)},Cn.findLast=Ya,Cn.findLastIndex=xa,Cn.findLastKey=function(t,e){return ge(t,$r(e,3),ri)},Cn.floor=tl,Cn.forEach=Xa,Cn.forEachRight=Qa,Cn.forIn=function(t,e){return null==t?t:ei(t,$r(e,3),ds)},Cn.forInRight=function(t,e){return null==t?t:ni(t,$r(e,3),ds)},Cn.forOwn=function(t,e){return t&&ii(t,$r(e,3))},Cn.forOwnRight=function(t,e){return t&&ri(t,$r(e,3))},Cn.get=as,Cn.gt=_o,Cn.gte=wo,Cn.has=function(t,e){return null!=t&&Wr(t,e,ui)},Cn.hasIn=os,Cn.head=ka,Cn.identity=Ms,Cn.includes=function(t,e,n,i){t=Co(t)?t:bs(t),n=n&&!i?Vo(n):0;var r=t.length;return n<0&&(n=nn(r+n,0)),Uo(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ye(t,e,n)>-1},Cn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Vo(n);return r<0&&(r=nn(i+r,0)),ye(t,e,r)},Cn.inRange=function(t,e,n){return e=Ko(e),void 0===n?(n=e,e=0):n=Ko(n),function(t,e,n){return t>=rn(e,n)&&t<nn(e,n)}(t=Yo(t),e,n)},Cn.invoke=cs,Cn.isArguments=xo,Cn.isArray=To,Cn.isArrayBuffer=ko,Cn.isArrayLike=Co,Cn.isArrayLikeObject=Eo,Cn.isBoolean=function(t){return!0===t||!1===t||Po(t)&&li(t)==u},Cn.isBuffer=So,Cn.isDate=Ao,Cn.isElement=function(t){return Po(t)&&1===t.nodeType&&!Fo(t)},Cn.isEmpty=function(t){if(null==t)return!0;if(Co(t)&&(To(t)||"string"==typeof t||"function"==typeof t.splice||So(t)||qo(t)||xo(t)))return!t.length;var e=Vr(t);if(e==m||e==b)return!t.size;if(na(t))return!bi(t).length;for(var n in t)if(kt.call(t,n))return!1;return!0},Cn.isEqual=function(t,e){return mi(t,e)},Cn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?mi(t,e,void 0,n):!!i},Cn.isError=Ro,Cn.isFinite=function(t){return"number"==typeof t&&Ze(t)},Cn.isFunction=Lo,Cn.isInteger=Do,Cn.isLength=Oo,Cn.isMap=No,Cn.isMatch=function(t,e){return t===e||gi(t,e,Hr(e))},Cn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,gi(t,e,Hr(e),n)},Cn.isNaN=function(t){return Mo(t)&&t!=+t},Cn.isNative=function(t){if(ea(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return vi(t)},Cn.isNil=function(t){return null==t},Cn.isNull=function(t){return null===t},Cn.isNumber=Mo,Cn.isObject=Io,Cn.isObjectLike=Po,Cn.isPlainObject=Fo,Cn.isRegExp=jo,Cn.isSafeInteger=function(t){return Do(t)&&t>=-9007199254740991&&t<=9007199254740991},Cn.isSet=Bo,Cn.isString=Uo,Cn.isSymbol=$o,Cn.isTypedArray=qo,Cn.isUndefined=function(t){return void 0===t},Cn.isWeakMap=function(t){return Po(t)&&Vr(t)==x},Cn.isWeakSet=function(t){return Po(t)&&"[object WeakSet]"==li(t)},Cn.join=function(t,e){return null==t?"":tn.call(t,e)},Cn.kebabCase=Ts,Cn.last=Aa,Cn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=Vo(n))<0?nn(i+r,0):rn(r,i-1)),e==e?function(t,e,n){for(var i=r+1;i--;)if(t[i]===e)return i;return i}(t,e):ve(t,_e,r,!0)},Cn.lowerCase=ks,Cn.lowerFirst=Cs,Cn.lt=Ho,Cn.lte=zo,Cn.max=function(t){return t&&t.length?Jn(t,Ms,ci):void 0},Cn.maxBy=function(t,e){return t&&t.length?Jn(t,$r(e,2),ci):void 0},Cn.mean=function(t){return we(t,Ms)},Cn.meanBy=function(t,e){return we(t,$r(e,2))},Cn.min=function(t){return t&&t.length?Jn(t,Ms,_i):void 0},Cn.minBy=function(t,e){return t&&t.length?Jn(t,$r(e,2),_i):void 0},Cn.stubArray=Ws,Cn.stubFalse=Ys,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=el,Cn.nth=function(t,e){return t&&t.length?Ci(t,Vo(e)):void 0},Cn.noConflict=function(){return Gt._===this&&(Gt._=Rt),this},Cn.noop=$s,Cn.now=ro,Cn.pad=function(t,e,n){t=Qo(t);var i=(e=Vo(e))?Ue(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Tr(Xe(r),n)+t+Tr(Ye(r),n)},Cn.padEnd=function(t,e,n){t=Qo(t);var i=(e=Vo(e))?Ue(t):0;return e&&i<e?t+Tr(e-i,n):t},Cn.padStart=function(t,e,n){t=Qo(t);var i=(e=Vo(e))?Ue(t):0;return e&&i<e?Tr(e-i,n)+t:t},Cn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),on(Qo(t).replace(Y,""),e||0)},Cn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Jr(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Ko(t),void 0===e?(e=t,t=0):e=Ko(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=sn();return rn(t+r*(e-t+$t("1e-"+((r+"").length-1))),e)}return Li(t,e)},Cn.reduce=function(t,e,n){var i=To(t)?fe:ke,r=arguments.length<3;return i(t,$r(e,4),n,r,Yn)},Cn.reduceRight=function(t,e,n){var i=To(t)?pe:ke,r=arguments.length<3;return i(t,$r(e,4),n,r,Xn)},Cn.repeat=function(t,e,n){return e=(n?Jr(t,e,n):void 0===e)?1:Vo(e),Di(Qo(t),e)},Cn.replace=function(){var t=arguments,e=Qo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Cn.result=function(t,e,n){var i=-1,r=(e=Ji(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var a=null==t?void 0:t[ma(e[i])];void 0===a&&(i=r,a=n),t=Lo(a)?a.call(t):a}return t},Cn.round=nl,Cn.runInContext=t,Cn.sample=function(t){return(To(t)?Mn:function(t){return Mn(bs(t))})(t)},Cn.size=function(t){if(null==t)return 0;if(Co(t))return Uo(t)?Ue(t):t.length;var e=Vr(t);return e==m||e==b?t.size:bi(t).length},Cn.snakeCase=Es,Cn.some=function(t,e,n){var i=To(t)?he:Fi;return n&&Jr(t,e,n)&&(e=void 0),i(t,$r(e,3))},Cn.sortedIndex=function(t,e){return ji(t,e)},Cn.sortedIndexBy=function(t,e,n){return Bi(t,e,$r(n,2))},Cn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=ji(t,e);if(i<n&&bo(t[i],e))return i}return-1},Cn.sortedLastIndex=function(t,e){return ji(t,e,!0)},Cn.sortedLastIndexBy=function(t,e,n){return Bi(t,e,$r(n,2),!0)},Cn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ji(t,e,!0)-1;if(bo(t[n],e))return n}return-1},Cn.startCase=Ss,Cn.startsWith=function(t,e,n){return t=Qo(t),n=null==n?0:zn(Vo(n),0,t.length),e=qi(e),t.slice(n,n+e.length)==e},Cn.subtract=il,Cn.sum=function(t){return t&&t.length?Ce(t,Ms):0},Cn.sumBy=function(t,e){return t&&t.length?Ce(t,$r(e,2)):0},Cn.template=function(t,e,n){var i=Cn.templateSettings;n&&Jr(t,e,n)&&(e=void 0),t=Qo(t),e=ts({},e,i,Dr);var r,a,o=ts({},e.imports,i.imports,Dr),s=us(o),l=Ae(o,s),c=0,u=e.interpolate||ut,d="__p += '",f=gt((e.escape||ut).source+"|"+u.source+"|"+(u===q?nt:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),p="//# sourceURL="+(kt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(f,function(e,n,i,o,s,l){return i||(i=o),d+=t.slice(c,l).replace(dt,Pe),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),d+="';\n";var h=kt.call(e,"variable")&&e.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(I,""):d).replace(P,"$1").replace(N,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ds(function(){return pt(s,p+"return "+d).apply(void 0,l)});if(m.source=d,Ro(m))throw m;return m},Cn.times=function(t,e){if((t=Vo(t))<1||t>9007199254740991)return[];var n=4294967295,i=rn(t,4294967295);t-=4294967295;for(var r=Ee(i,e=$r(e));++n<t;)e(n);return r},Cn.toFinite=Ko,Cn.toInteger=Vo,Cn.toLength=Wo,Cn.toLower=function(t){return Qo(t).toLowerCase()},Cn.toNumber=Yo,Cn.toSafeInteger=function(t){return t?zn(Vo(t),-9007199254740991,9007199254740991):0===t?t:0},Cn.toString=Qo,Cn.toUpper=function(t){return Qo(t).toUpperCase()},Cn.trim=function(t,e,n){if((t=Qo(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=qi(e)))return t;var i=$e(t),r=$e(e);return tr(i,Le(i,r),De(i,r)+1).join("")},Cn.trimEnd=function(t,e,n){if((t=Qo(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=qi(e)))return t;var i=$e(t);return tr(i,0,De(i,$e(e))+1).join("")},Cn.trimStart=function(t,e,n){if((t=Qo(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=qi(e)))return t;var i=$e(t);return tr(i,Le(i,$e(e))).join("")},Cn.truncate=function(t,e){var n=30,i="...";if(Io(e)){var r="separator"in e?e.separator:r;n="length"in e?Vo(e.length):n,i="omission"in e?qi(e.omission):i}var a=(t=Qo(t)).length;if(Ne(t)){var o=$e(t);a=o.length}if(n>=a)return t;var s=n-Ue(i);if(s<1)return i;var l=o?tr(o,0,s).join(""):t.slice(0,s);if(void 0===r)return l+i;if(o&&(s+=l.length-s),jo(r)){if(t.slice(s).search(r)){var c,u=l;for(r.global||(r=gt(r.source,Qo(it.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var d=c.index;l=l.slice(0,void 0===d?s:d)}}else if(t.indexOf(qi(r),s)!=s){var f=l.lastIndexOf(r);f>-1&&(l=l.slice(0,f))}return l+i},Cn.unescape=function(t){return(t=Qo(t))&&j.test(t)?t.replace(M,qe):t},Cn.uniqueId=function(t){var e=++Ct;return Qo(t)+e},Cn.upperCase=As,Cn.upperFirst=Rs,Cn.each=Xa,Cn.eachRight=Qa,Cn.first=ka,Us(Cn,(Xs={},ii(Cn,function(t,e){kt.call(Cn.prototype,e)||(Xs[e]=t)}),Xs),{chain:!1}),Cn.VERSION="4.17.20",ae(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Cn[t].placeholder=Cn}),ae(["drop","take"],function(t,e){Rn.prototype[t]=function(n){n=void 0===n?1:nn(Vo(n),0);var i=this.__filtered__&&!e?new Rn(this):this.clone();return i.__filtered__?i.__takeCount__=rn(n,i.__takeCount__):i.__views__.push({size:rn(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},Rn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ae(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;Rn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$r(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),ae(["head","last"],function(t,e){var n="take"+(e?"Right":"");Rn.prototype[t]=function(){return this[n](1).value()[0]}}),ae(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[n](1)}}),Rn.prototype.compact=function(){return this.filter(Ms)},Rn.prototype.find=function(t){return this.filter(t).head()},Rn.prototype.findLast=function(t){return this.reverse().find(t)},Rn.prototype.invokeMap=Oi(function(t,e){return"function"==typeof t?new Rn(this):this.map(function(n){return pi(n,t,e)})}),Rn.prototype.reject=function(t){return this.filter(ho($r(t)))},Rn.prototype.slice=function(t,e){t=Vo(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Rn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=Vo(e))<0?n.dropRight(-e):n.take(e-t)),n)},Rn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},ii(Rn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Cn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);r&&(Cn.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,s=e instanceof Rn,l=o[0],c=s||To(e),u=function(t){var e=r.apply(Cn,de([t],o));return i&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,h=s&&!f;if(!a&&c){e=h?e:new Rn(this);var m=t.apply(e,o);return m.__actions__.push({func:Ga,args:[u],thisArg:void 0}),new An(m,d)}return p&&h?t.apply(this,o):(m=this.thru(u),p?i?m.value()[0]:m.value():m)})}),ae(["pop","push","shift","sort","splice","unshift"],function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Cn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(To(r)?r:[],t)}return this[n](function(n){return e.apply(To(n)?n:[],t)})}}),ii(Rn.prototype,function(t,e){var n=Cn[e];if(n){var i=n.name+"";kt.call(gn,i)||(gn[i]=[]),gn[i].push({name:e,func:n})}}),gn[br(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=lr(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=To(t),i=e<0,r=n?t.length:0,a=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=rn(e,t+o);break;case"takeRight":t=nn(t,e-o)}}return{start:t,end:e}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=i?s:o-1,u=this.__iteratees__,d=u.length,f=0,p=rn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Vi(t,this.__actions__);var h=[];t:for(;l--&&f<p;){for(var m=-1,g=t[c+=e];++m<d;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue t;break t}}h[f++]=g}return h},Cn.prototype.at=Ka,Cn.prototype.chain=function(){return za(this)},Cn.prototype.commit=function(){return new An(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=Go(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(t){for(var e,n=this;n instanceof Sn;){var i=va(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Cn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:Ga,args:[Oa],thisArg:void 0}),new An(e,this.__chain__)}return this.thru(Oa)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return Vi(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,Te&&(Cn.prototype[Te]=function(){return this}),Cn}();Gt._=He,void 0===(r=function(){return He}.call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n("yLpj"),n("YuTi")(t))},"M/qm":function(t,e,n){var i=n("SE3q");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},M2LU:function(t,e,n){"use strict";n.r(e);var i=n("ulZh"),r=n.n(i),a=n("96Xy"),o=n.n(a),s={props:["source"],mounted:function(){r.a.isSupported()&&console.log("hello hls.js isSupported!");var t={container:document.getElementById("dplayer"),preload:!0,autoplay:!0,screenshot:!0,video:{url:this.source,type:"hls"},pluginOptions:{hls:{}}};this.player=new o.a(t),this.source&&(console.log("开始播放 source:"+this.source),this.player.switchVideo({url:this.source}),this.player.play())},watch:{source:function(t,e){console.log("开始播放 url:"+t),this.player&&(this.player.switchVideo({url:t}),this.player.play())}},methods:{},data:function(){return{}}},l=(n("rlpb"),n("KHd+")),c=Object(l.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"dplayer"}})},[],!1,null,"529fa72e",null);e.default=c.exports},"M4/I":function(t,e,n){var i=n("340u");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},MLWZ:function(t,e,n){"use strict";var i=n("xTJ+");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))}))}),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},MVqe:function(t,e,n){"use strict";n.r(e);var i={name:"ModalImages",mounted:function(){this.fetchData()},methods:{search:function(t){t.preventDefault(),this.page=1,this.fetchData()},change:function(){this.counter++,$(this.$refs.fresh).css("transform","rotate(".concat(360*this.counter,"deg)")),console.log(this.last_page),this.page=this.counter%this.last_page,this.fetchData()},fetchData:function(){var t=window.tokenize("/api/image?page="+this.page+"&q="+this.query),e=this;window.axios.get(t).then(function(t){e.images=t.data.data,e.page=t.data.current_page,e.last_page=t.data.last_page})}},data:function(){return{images:[],query:"",page:1,last_page:1,counter:1}}},r=(n("izFn"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade image-list-modal",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel"}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[t._m(0),t._v(" "),n("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[t._v("选择最近图库里的图片")]),t._v(" "),n("a",{staticClass:"rotation",attrs:{href:"javascript:;"},on:{click:t.change}},[n("i",{ref:"fresh",staticClass:"iconfont icon-shuaxin"}),t._v("换一批\n\t        ")]),t._v(" "),n("div",{staticClass:"search_input"},[n("div",{staticClass:"search_box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{placeholder:"搜索图片的关键字",type:"text"},domProps:{value:t.query},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),n("i",{staticClass:"iconfont icon-sousuo",on:{click:t.search}})])])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"col-md-12"},[n("image-list",{attrs:{images:this.images}})],1)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,"38cdd6a0",null);e.default=a.exports},Mtf0:function(t,e,n){"use strict";n.r(e);var i={name:"thoroughDelete",props:["recycleId"],computed:{currentItem:function(){var t=this;return this.$store.state.trash.find(function(e){return e.id==t.recycleId})||{}}},methods:{submit:function(){this.input_code?this.input_code!==this.currentItem.title?(this.input_code="",this.tip="标题不符"):(this.$store.dispatch("destroyArticle",this.recycleId),this.input_code="",$(".thorough-delete").modal("hide")):this.tip="标题不能为空"}},data:function(){return{tip:"确实删除请输入文章标题",input_code:null}}},r=(n("1Sdo"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.recycleId?n("div",{staticClass:"modal fade thorough-delete"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("p",{staticClass:"notice"},[t._v("确实彻底删除该文章吗，删除后不可恢复，请谨慎操作！")]),t._v(" "),n("p",{staticClass:"tip"},[t._v(t._s(t.tip))]),t._v(" "),n("div",{staticClass:"verification-wrap"},[n("a",{staticClass:"iconfont icon-dunpai"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_code,expression:"input_code"}],staticClass:"input-style",attrs:{type:"tel",placeholder:t.currentItem.title},domProps:{value:t.input_code},on:{input:function(e){e.target.composing||(t.input_code=e.target.value)}}})])]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("a",{staticClass:"submit btn-base btn-login",on:{click:t.submit}},[t._v("确认")])])])])]):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("\n\t\t\t\t      彻底删除\n\t\t\t\t\t")])])}],!1,null,null,null);e.default=a.exports},N5K5:function(t,e,n){"use strict";n.r(e);var i={name:"Notes",watch:{},mounted:function(){var t=this;window.$bus.$on("imageuploaded",function(e){t.onImageuploaded(e)})},updated:function(){this.$nextTick(function(){$('[data-toggle="popover"]').popover()})},computed:{appName:function(){return window.appName},articles:function(){return this.$store.state.currentCollection.articles},collection:function(){return this.$store.state.currentCollection},article:function(){return this.$store.state.currentArticle},notebookListName:function(){var t="",e=this;return this.$store.state.collections.forEach(function(n){e.$store.state.currentCollection.id!=n.id&&(t+="<li><a href='javascript:;' data-id='".concat(n.id,"'><span>").concat(n.name,"</span></a></li>"))}),t},dataContent:function(){return"<ul class='note-setting-menu'>\n\t              <li><a href='javascript:;'><i class='iconfont ".concat(this.article.status?"icon-renzheng1":"icon-icon-feixingmanyou","'></i><span>").concat(this.article.status?"已发布":"直接发布","</span></a></li>\n\t              <li class=\"move\">\n\t              \t<a href='javascript:;'><i class='iconfont icon-wenjianjia'></i><span>移动文章</span></a>\n\t              \t<ul class='note-setting-menu sub-menu'>\n\t\t\t\t\t\t").concat(this.notebookListName,"\n\t              \t</ul>\n\t              </li>\n\t              <li class='").concat(this.article.status?"":"hidden","'><a href='/article/").concat(this.article.id,"' target='_blank'><i class='iconfont icon-774bianjiqi_yulan'></i><span>新窗口打开</span></a></li>\n\t              <li class='").concat(this.article.status?"":"hidden","'><a href='javascript:;'><i class='iconfont icon-suo2'></i><span>设为私密</span></a></li>\n\t              <li><a data-target=\".delete-note\" data-toggle=\"modal\"><i class='iconfont icon-lajitong'></i><span>删除文章</span></a></li>\n  \t          </ul>")}},methods:{showSetting:function(){var t=this;$(".note-setting-menu i.icon-icon-feixingmanyou").parent().click(function(){t.publish()}),$(".note-setting-menu i.icon-suo2").parent().click(function(){t.unpublish()}),$(".note-setting-menu .sub-menu a").click(function(){var e=$(this).attr("data-id");t.moveArticle(e)}),$(".note-setting-menu .icon-774bianjiqi_yulan").parent().click(function(){var t=$(this).attr("href");window.open(t)})},moveArticle:function(t){this.$store.dispatch("moveArticle",t)},save:function(){this.article.body=this.body,this.article.saved=!0,this.$store.dispatch("saveArticle")},publish:function(){this.article.body=this.body,this.$store.dispatch("publishArticle")},unpublish:function(){this.article.body=this.body,this.$store.dispatch("unpublishArticle")},createNote:function(){this.body="",this.$store.dispatch("addArticle")},changeBody:function(t){this.body=t,this.article.saved=!1},changeTitle:function(t){this.article.body=this.body,this.article.title=t.target.value,this.article.saved=!1},onImageuploaded:function(t){this.article.body=t},onImgPicked:function(t){},onEditorBlur:function(t){}},data:function(){return{body:""}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notes"},[n("div",{staticClass:"notes-side col-xs-4"},[n("div",{staticClass:"side-wrap"},[n("div",[n("div",{staticClass:"create-note",on:{click:t.createNote}},[n("i",{staticClass:"iconfont icon-tianjia"}),t._v(" "),n("span",[t._v(" 新建文章")])]),t._v(" "),n("ul",{staticClass:"note-list"},t._l(t.articles,function(e){return n("router-link",{key:e.id,attrs:{to:"/notebooks/"+t.collection.id+"/notes/"+e.id,tag:"li","active-class":"active"}},[n("i",{class:["status-icon","iconfont",e.status>0?"icon-fabuxiaoxi":"icon-icon_article"]}),t._v(" "),n("div",{staticClass:"setting pull-right"},[n("i",{staticClass:"iconfont icon-shezhi",attrs:{tabindex:"0",role:"button","data-toggle":"popover","data-trigger":"focus","data-placement":"bottom","data-html":"true","data-content":t.dataContent},on:{click:t.showSetting}})]),t._v(" "),n("span",{staticClass:"title single-line"},[t._v(t._s(e.title?e.title:e.time))]),t._v(" "),n("span",{staticClass:"abstract single-line"},[t._v(t._s(e.description))]),t._v(" "),n("span",{staticClass:"word-count"},[t._v("字数:"+t._s(e.count_words))])])}),1)])])]),t._v(" "),n("div",{staticClass:"note-item-container col-xs-8"},[n("div",{staticClass:"note-item-wrap"},[t.article?n("div",{staticClass:"note-item"},[n("p",{staticClass:"note-status"},[t._v(t._s(t.article.saved?"已保存":"未保存"))]),t._v(" "),n("div",{staticClass:"note-content"},[n("editor",{attrs:{value:t.article.body,write:""},on:{blur:t.onEditorBlur,imgpicked:t.onImgPicked,saved:t.save,published:t.publish,changed:t.changeBody}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.article.title,expression:"article.title"}],staticClass:"note-title single-line",attrs:{type:"text"},domProps:{value:t.article.title},on:{input:[function(e){e.target.composing||t.$set(t.article,"title",e.target.value)},t.changeTitle]}})])],1)]):t._e(),t._v(" "),n("div",{staticClass:"blank-brand"},[n("span",[t._v(t._s(t.appName))])])])]),t._v(" "),n("scroll-top",{attrs:{target:".simditor-body"}}),t._v(" "),n("delete-note")],1)},[],!1,null,null,null);e.default=a.exports},NRn6:function(t,e,n){var i,r,a;a=this,i=[n("lmdW")],void 0===(r=function(t){return a.Module=function(t){var e=[].slice;return function(){function n(e){var n,i,r,a,o,s,l;if(this.opts=t.extend({},this.opts,e),(n=this.constructor)._connectedClasses||(n._connectedClasses=[]),o=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.constructor._connectedClasses).length;t<e;t++)i=n[t],l=i.pluginName.charAt(0).toLowerCase()+i.pluginName.slice(1),i.prototype._connected&&(i.prototype._module=this),r.push(this[l]=new i);return r}.call(this),this._connected)this.opts=t.extend({},this.opts,this._module.opts);else for(this._init(),r=0,s=o.length;r<s;r++)"function"==typeof(a=o[r])._init&&a._init();this.trigger("initialized")}return n.extend=function(t){var e,n,i;if(null!=t&&"object"==typeof t){for(e in t)i=t[e],"included"!==e&&"extended"!==e&&(this[e]=i);return null!=(n=t.extended)?n.call(this):void 0}},n.include=function(t){var e,n,i;if(null!=t&&"object"==typeof t){for(e in t)i=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=i);return null!=(n=t.included)?n.call(this):void 0}},n.connect=function(t){if("function"==typeof t){if(!t.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return t.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(t),t.pluginName?this[t.pluginName]=t:void 0}},n.prototype.opts={},n.prototype._init=function(){},n.prototype.on=function(){var n,i;return n=1<=arguments.length?e.call(arguments,0):[],(i=t(this)).on.apply(i,n),this},n.prototype.one=function(){var n,i;return n=1<=arguments.length?e.call(arguments,0):[],(i=t(this)).one.apply(i,n),this},n.prototype.off=function(){var n,i;return n=1<=arguments.length?e.call(arguments,0):[],(i=t(this)).off.apply(i,n),this},n.prototype.trigger=function(){var n,i;return n=1<=arguments.length?e.call(arguments,0):[],(i=t(this)).trigger.apply(i,n),this},n.prototype.triggerHandler=function(){var n,i;return n=1<=arguments.length?e.call(arguments,0):[],(i=t(this)).triggerHandler.apply(i,n)},n.prototype._t=function(){var t,n;return t=1<=arguments.length?e.call(arguments,0):[],(n=this.constructor)._t.apply(n,t)},n._t=function(){var t,n,i,r;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],r=(null!=(i=this.i18n[this.locale])?i[n]:void 0)||"",t.length>0?(r=r.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,n,i){return i?n+t[parseInt(i)-1]:n+t.shift()})).replace(/%%s/g,"%s"):r},n.i18n={"zh-CN":{}},n.locale="zh-CN",n}()}(t)}.apply(e,i))||(t.exports=r)},"No9/":function(t,e,n){"use strict";n.r(e);var i=n("KHd+"),r=Object(i.a)({name:"Timeline",data:function(){return{}}},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ul",{staticClass:"time-line"},[e("article-list",{attrs:{api:"/"}})],1)])},[],!1,null,"43f69042",null);e.default=r.exports},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},OTTw:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},OtCd:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.chat-wrapper .message-show[data-v-f6b829f6]{padding-top:50px}.chat-wrapper .message-show .load-more[data-v-f6b829f6]{width:100%;height:40px;padding:10px 15px;text-align:center;font-size:14px;color:#2b89ca;display:block;cursor:pointer}.chat-wrapper .message-show .message-list[data-v-f6b829f6]{padding:10px 0 140px}.chat-wrapper .message-show .message-list .message-l[data-v-f6b829f6],.chat-wrapper .message-show .message-list .message-r[data-v-f6b829f6]{margin-bottom:15px;line-height:20px;border:none!important;padding:10px 0!important}.chat-wrapper .message-show .message-list .message-l .avatar[data-v-f6b829f6],.chat-wrapper .message-show .message-list .message-r .avatar[data-v-f6b829f6]{margin:0}.chat-wrapper .message-show .message-list .message-l .content-wrap[data-v-f6b829f6]:after,.chat-wrapper .message-show .message-list .message-l .content-wrap[data-v-f6b829f6]:before,.chat-wrapper .message-show .message-list .message-r .content-wrap[data-v-f6b829f6]:after,.chat-wrapper .message-show .message-list .message-r .content-wrap[data-v-f6b829f6]:before{content:"";position:absolute;display:inline-block;top:0}.chat-wrapper .message-show .message-list .message-l .content-wrap[data-v-f6b829f6]:after,.chat-wrapper .message-show .message-list .message-r .content-wrap[data-v-f6b829f6]:after{top:1px}.chat-wrapper .message-show .message-list .content-wrap[data-v-f6b829f6]{position:relative;display:block;margin:4px 56px 0;min-height:39px}.chat-wrapper .message-show .message-list .content-wrap .content[data-v-f6b829f6]{position:relative;padding:8px 12px;font-size:14px;border:1px solid;word-break:break-word!important;line-height:1.5;display:inline-block}.chat-wrapper .message-show .message-list .time[data-v-f6b829f6]{margin-top:2px;font-size:12px;color:#d9d9d9}.chat-wrapper .message-show .message-list .message-r .avatar[data-v-f6b829f6]{float:right}.chat-wrapper .message-show .message-list .message-r .content-wrap .content[data-v-f6b829f6]{float:right;min-height:39px;background-color:#eee;border-color:#d9d9d9;border-radius:4px 0 4px 4px}.chat-wrapper .message-show .message-list .message-r .content-wrap[data-v-f6b829f6]:after,.chat-wrapper .message-show .message-list .message-r .content-wrap[data-v-f6b829f6]:before{right:-7px;border-right:9px solid transparent;border-top:16px solid #d9d9d9}.chat-wrapper .message-show .message-list .message-r .content-wrap[data-v-f6b829f6]:after{right:-5px;border-top:16px solid #eee}.chat-wrapper .message-show .message-list .message-r .time[data-v-f6b829f6]{float:right}.chat-wrapper .message-show .message-list .message-l .avatar[data-v-f6b829f6]{float:left}.chat-wrapper .message-show .message-list .message-l .content-wrap .content[data-v-f6b829f6]{min-height:39px;background-color:#e7f1fc;border-color:#bad0e9;border-radius:0 4px 4px 4px}.chat-wrapper .message-show .message-list .message-l .content-wrap[data-v-f6b829f6]:after,.chat-wrapper .message-show .message-list .message-l .content-wrap[data-v-f6b829f6]:before{left:-7px;border-left:9px solid transparent;border-top:16px solid #bad0e9}.chat-wrapper .message-show .message-list .message-l .content-wrap[data-v-f6b829f6]:after{left:-5px;border-top:16px solid #e7f1fc}.chat-wrapper .message-show .message-list .message-l .time[data-v-f6b829f6]{float:left}.chat-wrapper .write-message[data-v-f6b829f6]{position:fixed;bottom:0;background-color:#fff}.chat-wrapper .write-message form[data-v-f6b829f6]{width:100%}.chat-wrapper .write-message form textarea[data-v-f6b829f6]{padding:6px 12px}.chat-wrapper .write-message form .btn-handle[data-v-f6b829f6]{float:right;width:78px;font-size:15px}',""])},P15a:function(t,e,n){"use strict";n.r(e);var i={name:"Like",props:["id","type","isLogin","liked"],computed:{isLiked:function(){return null!==this.is_liked?this.is_liked:this.liked}},created:function(){this.fetchData()},methods:{api:function(){var t="/api/like/"+this.id+"/"+this.type;return window.tokenize?window.tokenize(t):t+"/guest"},fetchData:function(){var t=this;window.axios.get(this.api()).then(function(e){t.is_liked=e.data.is_liked,t.likes=e.data.likes.data,t.likesTotal=e.data.likes.total})},toggle_like:function(){this.is_liked=!this.is_liked,this.is_liked?this.likesTotal++:this.likesTotal--;var t=this;window.axios.post(this.api()).then(function(e){t.is_liked=e.data.is_liked,t.likes=e.data.likes.data,t.likesTotal=e.data.likes.total})}},data:function(){return{is_liked:null,likesTotal:0,likes:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-like"},[t.isLogin?n("div",{class:["btn-like",t.isLiked?"btn-select":"btn-noselect"],on:{click:t.toggle_like}},[t._m(0)]):n("a",{attrs:{href:"/login"}},[t._m(1)]),t._v(" "),n("div",{staticClass:"modal-wrap"},[n("a",{attrs:{"data-target":".like-user","data-toggle":"modal"}},[t._v(t._s(t.likesTotal))])]),t._v(" "),t.isLogin?n("modal-like-user",{attrs:{id:t.id,type:t.type,likes:t.likes}}):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",[e("i",{staticClass:"iconfont icon-03xihuan"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-like"},[e("a",[e("i",{staticClass:"iconfont icon-03xihuan"})])])}],!1,null,"4e53f6a1",null);e.default=a.exports},P9cj:function(t,e,n){"use strict";n.r(e);var i=n("KHd+"),r=Object(i.a)({name:"Recycle",props:["recycleId"],created:function(){this.$store.dispatch("getTrash")},computed:{items:function(){return this.$store.state.trash},currentItem:function(){var t=this;return this.$store.state.trash.find(function(e){return e.id==t.recycleId})||{}}},methods:{restore:function(){this.recycleId&&this.$store.dispatch("restoreArticle",this.recycleId)}},data:function(){return{}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recycle"},[n("div",{staticClass:"recycle-side"},[n("div",{staticClass:"recycle-count"},[n("i",{staticClass:"iconfont icon-lajitong"}),t._v("\n\t\t\t回收站("+t._s(t.items.length)+")\n\t\t")]),t._v(" "),n("ul",{staticClass:"recycle-list"},t._l(t.items,function(e){return n("router-link",{key:e.id,attrs:{tag:"li",to:"/recycle/"+e.id,"active-class":"active",replace:""}},[n("a",[n("span",{staticClass:"destroy-date"},[t._v("将于"+t._s(e.destroy_date)+"清除")]),t._v(" "),n("span",{staticClass:"count-down"},[t._v(t._s(e.count_down)+"天后清除")]),t._v(" "),n("h5",{staticClass:"single-line"},[n("i",{staticClass:"iconfont icon-wenji"}),t._v("\n\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t")])])])}),1)]),t._v(" "),n("div",{staticClass:"recycle-content"},[n("div",{staticClass:"title"},[n("div",{staticClass:"title-warp"},[n("h3",{staticClass:"single-line"},[t._v(t._s(t.currentItem.title))]),t._v(" "),n("router-link",{staticClass:"iconfont icon-cha",attrs:{to:"/notebooks"}})],1)]),t._v(" "),n("div",{staticClass:"content-body-wrap"},[n("div",{staticClass:"content-body",domProps:{innerHTML:t._s(t.currentItem.body)}})]),t._v(" "),n("div",{staticClass:"content-footer"},[n("a",{staticClass:"recover",on:{click:t.restore}},[t._v("恢复文章")]),t._v(" "),n("a",{staticClass:"delete",attrs:{"data-target":".thorough-delete","data-toggle":"modal"}},[t._v("彻底删除")])])]),t._v(" "),n("thorough-delete",{attrs:{"recycle-id":t.recycleId}})],1)},[],!1,null,null,null);e.default=r.exports},PLIS:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".pending-submissions .article-list[data-v-14d881ac]{padding-top:50px!important}.pending-submissions .article-list .article-item[data-v-14d881ac]{border-top:none!important;padding:0 0 15px!important}.pending-submissions .article-list .article-item .push-action[data-v-14d881ac]{margin-top:10px;font-size:12px;color:#969696;line-height:20px}.pending-submissions .article-list .article-item .push-action .btn-base[data-v-14d881ac]{vertical-align:baseline;margin-right:5px}.pending-submissions .article-list .article-item .push-action .push-time[data-v-14d881ac]{font-size:12px;color:#969696}.pending-submissions .article-list .article-item .push-action .push-status[data-v-14d881ac]{margin-right:5px;font-weight:700}.pending-submissions .article-list .article-item .push-action .push-status .push-remove[data-v-14d881ac]{margin-left:5px;font-weight:400;color:#d96a5f;vertical-align:middle}",""])},PRPd:function(t,e,n){"use strict";n.r(e);var i={name:"GoTop",props:["target"],mounted:function(){this.listen();var t=this;$(this.target).on("scroll",function(){t.listen()})},methods:{goTop:function(){$(this.target).animate({scrollTop:0},1e3)},listen:function(){$(this.target).scrollTop()>1e3?$("#goTop").fadeIn(300):$("#goTop").fadeOut(300)}},data:function(){return{}}},r=(n("oHER"),n("KHd+")),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"side-tool"}},[e("ul",[e("li",{attrs:{id:"goTop","data-placement":"left","data-toggle":"tooltip","data-container":"body","data-title":"回到文章頂部"}},[e("a",{staticClass:"function_button",on:{click:this.goTop}},[e("i",{staticClass:"iconfont icon-xiangshangjiantou"})])])])])},[],!1,null,"240c1e22",null);e.default=a.exports},Ps6F:function(t,e,n){"use strict";n.r(e);var i=n("jl8+"),r={name:"UserSelect",props:["users","api"],computed:{apiUrl:function(){return window.tokenize(this.api?this.api:"/api/user/editors")}},components:{Multiselect:n.n(i).a},mounted:function(){if(this.users){var t=JSON.parse(this.users);for(var e in this.multiValue=[],t)this.multiValue.push({id:e,name:t[e]});$('input[name="uids"]').val(JSON.stringify(this.multiValue))}this.fetchData()},methods:{fetchData:function(){var t=this;window.axios.get(this.apiUrl).then(function(e){t.options=e.data.data})},updateSelected:function(t){$('input[name="uids"]').val(JSON.stringify(this.multiValue))}},data:function(){return{multiValue:null,options:[1,2,3,4,5,6,7,8,9]}}},a=(n("YLx5"),n("yHs3"),n("KHd+")),o=Object(a.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("multiselect",{attrs:{options:t.options,multiple:!0,placeholder:"請選擇",label:"name","track-by":"id"},on:{input:t.updateSelected},model:{value:t.multiValue,callback:function(e){t.multiValue=e},expression:"multiValue"}}),t._v(" "),n("input",{attrs:{name:"uids",type:"hidden"}})],1)},[],!1,null,null,null);e.default=o.exports},Q9M4:function(t,e,n){var i=n("EQG1");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},QVq0:function(t,e,n){"use strict";n.r(e);var i=(n("cf8e"),n("KHd+")),r=Object(i.a)({name:"ModalToUp",computed:{getPayUrl:function(){return"/alipay/wap/pay"}},data:function(){return{money:10}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-to-up"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("form",{attrs:{action:t.getPayUrl,method:"GET"}},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"money-input"},[n("label",[t._v("充值金额")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],staticClass:"input-style",attrs:{name:"amount",type:"number",placeholder:"10.00",min:"10",max:"5000"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),t._m(2)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("充值")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"method"},[e("span",[this._v("选择支付方式")]),this._v(" "),e("input",{attrs:{type:"radio",value:"alipay",checked:"checked"}}),this._v(" "),e("img",{staticClass:"alipay",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/alipay.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn-base btn-handle btn-hg",attrs:{type:"submit"}},[this._v("确认支付")])])}],!1,null,"26bb2884",null);e.default=r.exports},QcVs:function(t,e,n){var i=n("g7D3");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},QsDW:function(t,e,n){"use strict";n.r(e);var i={name:"Loading",props:["progress"],mounted:function(){},updated:function(){this.progress<50?$(this.$refs.right_bar).css("transform","rotate(".concat(3.6*this.progress,"deg)")):($(this.$refs.right_bar).css("transform","rotate(".concat(180,"deg)")),$(this.$refs.left_bar).css("transform","rotate(".concat(3.6*(this.progress-50),"deg)")))},methods:{},data:function(){return{}}},r=(n("2VEA"),n("KHd+")),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return 100!==this.progress?e("div",{staticClass:"progress blue"},[e("span",{staticClass:"progress-left"},[e("span",{ref:"left_bar",staticClass:"progress-bar"})]),this._v(" "),e("span",{staticClass:"progress-right"},[e("span",{ref:"right_bar",staticClass:"progress-bar"})]),this._v(" "),e("div",{staticClass:"progress-value"},[this._v(this._s(this.progress+"%"))])]):this._e()},[],!1,null,null,null);e.default=a.exports},QuT3:function(t,e,n){"use strict";var i=n("RGev");n.n(i).a},R1Dc:function(t,e,n){"use strict";var i=n("DoeO");n.n(i).a},R21m:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'fieldset[disabled] .multiselect{pointer-events:none}.multiselect__spinner{position:absolute;right:1px;top:1px;width:48px;height:35px;background:#fff;display:block}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:2px solid transparent;border-top-color:#41b883;box-shadow:0 0 0 1px transparent}.multiselect__spinner:before{-webkit-animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.multiselect__spinner:after{-webkit-animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.multiselect__loading-enter-active,.multiselect__loading-leave-active{transition:opacity .4s ease-in-out;opacity:1}.multiselect__loading-enter,.multiselect__loading-leave-active{opacity:0}.multiselect,.multiselect__input,.multiselect__single{font-family:inherit;font-size:16px;touch-action:manipulation}.multiselect{box-sizing:content-box;display:block;position:relative;width:100%;min-height:40px;text-align:left;color:#35495e}.multiselect *{box-sizing:border-box}.multiselect:focus{outline:none}.multiselect--disabled{background:#ededed;pointer-events:none;opacity:.6}.multiselect--active{z-index:50}.multiselect--active:not(.multiselect--above) .multiselect__current,.multiselect--active:not(.multiselect--above) .multiselect__input,.multiselect--active:not(.multiselect--above) .multiselect__tags{border-bottom-left-radius:0;border-bottom-right-radius:0}.multiselect--active .multiselect__select{transform:rotate(180deg)}.multiselect--above.multiselect--active .multiselect__current,.multiselect--above.multiselect--active .multiselect__input,.multiselect--above.multiselect--active .multiselect__tags{border-top-left-radius:0;border-top-right-radius:0}.multiselect__input,.multiselect__single{position:relative;display:inline-block;min-height:20px;line-height:20px;border:none;border-radius:5px;background:#fff;padding:0 0 0 5px;width:100%;transition:border .1s ease;box-sizing:border-box;margin-bottom:8px;vertical-align:top}.multiselect__input:-ms-input-placeholder{color:#35495e}.multiselect__input::-moz-placeholder{color:#35495e}.multiselect__input::-ms-input-placeholder{color:#35495e}.multiselect__input::placeholder{color:#35495e}.multiselect__tag~.multiselect__input,.multiselect__tag~.multiselect__single{width:auto}.multiselect__input:hover,.multiselect__single:hover{border-color:#cfcfcf}.multiselect__input:focus,.multiselect__single:focus{border-color:#a8a8a8;outline:none}.multiselect__single{padding-left:5px;margin-bottom:8px}.multiselect__tags-wrap{display:inline}.multiselect__tags{min-height:40px;display:block;padding:8px 40px 0 8px;border-radius:5px;border:1px solid #e8e8e8;background:#fff;font-size:14px}.multiselect__tag{position:relative;display:inline-block;padding:4px 26px 4px 10px;border-radius:5px;margin-right:10px;color:#fff;line-height:1;background:#41b883;margin-bottom:5px;white-space:nowrap;overflow:hidden;max-width:100%;text-overflow:ellipsis}.multiselect__tag-icon{cursor:pointer;margin-left:7px;position:absolute;right:0;top:0;bottom:0;font-weight:700;font-style:normal;width:22px;text-align:center;line-height:22px;transition:all .2s ease;border-radius:5px}.multiselect__tag-icon:after{content:"\\D7";color:#266d4d;font-size:14px}.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#369a6e}.multiselect__tag-icon:focus:after,.multiselect__tag-icon:hover:after{color:#fff}.multiselect__current{min-height:40px;overflow:hidden;padding:8px 30px 0 12px;white-space:nowrap;border-radius:5px;border:1px solid #e8e8e8}.multiselect__current,.multiselect__select{line-height:16px;box-sizing:border-box;display:block;margin:0;text-decoration:none;cursor:pointer}.multiselect__select{position:absolute;width:40px;height:38px;right:1px;top:1px;padding:4px 8px;text-align:center;transition:transform .2s ease}.multiselect__select:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 0;content:""}.multiselect__placeholder{color:#adadad;display:inline-block;margin-bottom:10px;padding-top:2px}.multiselect--active .multiselect__placeholder{display:none}.multiselect__content-wrapper{position:absolute;display:block;background:#fff;width:100%;max-height:240px;overflow:auto;border:1px solid #e8e8e8;border-top:none;border-bottom-left-radius:5px;border-bottom-right-radius:5px;z-index:50;-webkit-overflow-scrolling:touch}.multiselect__content{list-style:none;display:inline-block;padding:0;margin:0;min-width:100%;vertical-align:top}.multiselect--above .multiselect__content-wrapper{bottom:100%;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:none;border-top:1px solid #e8e8e8}.multiselect__content::webkit-scrollbar{display:none}.multiselect__element{display:block}.multiselect__option{display:block;padding:12px;min-height:40px;line-height:16px;text-decoration:none;text-transform:none;vertical-align:middle;position:relative;cursor:pointer;white-space:nowrap}.multiselect__option:after{top:0;right:0;position:absolute;line-height:40px;padding-right:12px;padding-left:20px;font-size:13px}.multiselect__option--highlight{background:#41b883;outline:none;color:#fff}.multiselect__option--highlight:after{content:attr(data-select);background:#41b883;color:#fff}.multiselect__option--selected{background:#f3f3f3;color:#35495e;font-weight:700}.multiselect__option--selected:after{content:attr(data-selected);color:silver}.multiselect__option--selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--selected.multiselect__option--highlight:after{background:#ff6a6a;content:attr(data-deselect);color:#fff}.multiselect--disabled .multiselect__current,.multiselect--disabled .multiselect__select{background:#ededed;color:#a6a6a6}.multiselect__option--disabled{background:#ededed!important;color:#a6a6a6!important;cursor:text;pointer-events:none}.multiselect__option--group{background:#ededed;color:#35495e}.multiselect__option--group.multiselect__option--highlight{background:#35495e;color:#fff}.multiselect__option--group.multiselect__option--highlight:after{background:#35495e}.multiselect__option--disabled.multiselect__option--highlight{background:#dedede}.multiselect__option--group-selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--group-selected.multiselect__option--highlight:after{background:#ff6a6a;content:attr(data-deselect);color:#fff}.multiselect-enter-active,.multiselect-leave-active{transition:all .15s ease}.multiselect-enter,.multiselect-leave-active{opacity:0}.multiselect__strong{margin-bottom:8px;line-height:20px;display:inline-block;vertical-align:top}[dir=rtl] .multiselect{text-align:right}[dir=rtl] .multiselect__select{right:auto;left:1px}[dir=rtl] .multiselect__tags{padding:8px 8px 0 40px}[dir=rtl] .multiselect__content{text-align:right}[dir=rtl] .multiselect__option:after{right:auto;left:0}[dir=rtl] .multiselect__clear{right:auto;left:12px}[dir=rtl] .multiselect__spinner{right:auto;left:1px}@-webkit-keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}@keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}',""])},R5DQ:function(t,e,n){var i=n("rHtn");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},RGev:function(t,e,n){var i=n("H4GE");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},RIZS:function(t,e,n){"use strict";n.r(e);var i={name:"AnswerTool",props:["questionId","answerId","isSelf","isPayer","closed","title","author","url"],computed:{answered:function(){return null!==this.isJustAnswered?this.isJustAnswered:this.closed}},created:function(){$bus.$on("questionAnswered",function(){this.isJustAnswered=1}),this.fetchData()},methods:{checkAccept:function(){var t=this;$bus.state.answer.answerIds.length<10&&(this.isAccept=!this.isAccept,this.isAccept?$bus.state.answer.answerIds.push(this.answerId):$bus.state.answer.answerIds=$bus.state.answer.answerIds.filter(function(e){return e.answerId!=t.answerId}),$bus.$emit("clickAnswer"))},favoriteQuestion:function(){this.question.favorited=!this.question.favorited,this.question.count_favorites+=this.question.favorited?1:-1,window.axios.get(window.tokenize("/api/favorite-question-"+this.question.id))},reportQuestion:function(){this.question.reported=!this.question.reported,this.question.count_reports+=this.question.reported?1:-1,window.axios.get(window.tokenize("/api/report-question-"+this.question.id))},reportAnswer:function(){this.answer.reported=!this.answer.reported,this.answer.count_reports+=this.answer.reported?1:-1,window.axios.get(window.tokenize("/api/report-answer-"+this.answer.id))},deleteAnswer:function(){this.$set(this.answer,"deleted",!this.answer.deleted),window.axios.get(window.tokenize("/api/delete-answer-"+this.answer.id))},unlikeAnswer:function(){this.answer.unliked=!this.answer.unliked,this.answer.count_unlikes+=this.answer.unliked?1:-1,window.axios.get(window.tokenize("/api/unlike-answer-"+this.answer.id))},likeAnswer:function(){this.answer.liked=!this.answer.liked,this.answer.count_likes+=this.answer.liked?1:-1,window.axios.get(window.tokenize("/api/like-answer-"+this.answer.id))},inviteUser:function(t){t.invited=1,this.uninvited=_.filter(this.users,["invited",0]),window.axios.get(window.tokenize("/api/question-"+this.questionId+"-invite-user-"+t.id))},inviteAnswer:function(){this.showInvite=!this.showInvite},showComment:function(){this.showComments=!this.showComments},fetchData:function(){var t=this;this.questionId?(window.axios.get(window.tokenize("/api/question-"+this.questionId+"-uninvited")).then(function(e){t.users=e.data,t.uninvited=t.users}),window.axios.get(window.tokenize("/api/question/"+this.questionId)).then(function(e){t.question=e.data,t.loaded=!0})):this.answerId&&window.axios.get(window.tokenize("/api/answer/"+this.answerId)).then(function(e){t.answer=e.data,t.loaded=!0})}},data:function(){return{loaded:!1,answer:null,question:null,showInvite:!1,showComments:!1,users:[],uninvited:[],isAccept:!1,isJustAnswered:null}}},r=(n("ewZ9"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",{class:["tool-cabinet",t.answer&&t.answer.deleted?"deleted-answer":""]},[t.questionId?n("div",{staticClass:"bottom-tool question-tool"},[n("a",{staticClass:"action-btn",attrs:{href:"javascript:;"},on:{click:t.favoriteQuestion}},[n("i",{class:["iconfont",t.question.favorited?"icon-shoucang1":"icon-shoucang"]}),n("span",{staticClass:"text"},[t._v("收藏问题"+t._s(t.question.count_favorites?"("+t.question.count_favorites+")":""))])]),t._v(" "),n("a",{staticClass:"action-btn",attrs:{href:"javascript:;"},on:{click:t.inviteAnswer}},[n("i",{staticClass:"iconfont icon-guanzhu"}),n("span",{staticClass:"text hidden-xs"},[t._v("邀请回答")])]),t._v(" "),n("share",{staticClass:"action-btn no-margin",attrs:{placement:"top",title:t.title,author:t.author,url:t.url}},[n("span",{staticClass:"text"},[t._v("分享")])]),t._v(" "),n("a",{staticClass:"action-btn report pull-right hidden-xs",attrs:{href:"javascript:;"},on:{click:t.reportQuestion}},[n("i",{staticClass:"iconfont icon-jinggao"}),n("span",{staticClass:"text hidden-xs"},[t._v(t._s(t.question.reported?"已举报":"举报")+t._s(t.question.count_reports?"("+t.question.count_reports+")":""))])])],1):n("div",{staticClass:"bottom-tool answer-tool"},[n("a",{class:["action-btn","like",t.answer.liked?"active":""],attrs:{href:"javascript:;"},on:{click:t.likeAnswer}},[n("i",{class:["iconfont",t.answer.liked?"icon-dianzan":"icon-fabulous"]}),n("span",{staticClass:"text hidden-xs"},[t._v(t._s(t.answer.count_likes)+"赞")])]),t._v(" "),n("a",{staticClass:"action-btn",attrs:{href:"javascript:;"},on:{click:t.unlikeAnswer}},[n("i",{class:["iconfont",t.answer.unliked?"icon-zan2":"icon-dianzan1"]}),n("span",{staticClass:"text hidden-xs"},[t._v(t._s(t.answer.count_unlikes)+"踩")])]),t._v(" "),n("a",{staticClass:"action-btn",attrs:{href:"javascript:;"},on:{click:t.showComment}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(t._s(t.answer.count_comments)),n("span",{staticClass:"text hidden-xs"},[t._v("评论")])]),t._v(" "),n("share",{staticClass:"action-btn no-margin",attrs:{placement:"top",title:t.title,author:t.author,url:t.url}},[n("span",{staticClass:"text"},[t._v("分享")])]),t._v(" "),t.isSelf?n("a",{staticClass:"pull-right"},[n("delete-button",{attrs:{api:"/api/delete-answer-",id:t.answerId}})],1):n("a",{staticClass:"action-btn report pull-right hidden-xs",attrs:{href:"javascript:;"},on:{click:t.reportAnswer}},[n("i",{staticClass:"iconfont icon-jinggao"}),n("span",{staticClass:"text hidden-xs"},[t._v(t._s(t.answer.reported?"已举报":"举报"))])]),t._v(" "),t.isPayer&&!t.answered?n("a",{class:["action-btn","accept","pull-right",t.isAccept?"already":""],attrs:{href:"javascript:;"},on:{click:t.checkAccept}},[n("i",{class:["iconfont",t.isAccept?"icon-weibiaoti12":""]}),t._v(" "),n("i",{staticClass:"iconfont icon-cha chacha"}),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(t.isAccept?"已采纳":"采纳该回答"))])]):t._e()],1),t._v(" "),t.questionId?n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInvite,expression:"showInvite"}],staticClass:"invite-answer"},[n("div",{staticClass:"invite-user"},[n("div",{staticClass:"invite-status"},[t._v("立即邀请用户，更快获得回答")]),t._v(" "),n("transition-group",{staticClass:"invite-list",attrs:{name:"list",tag:"ul"}},t._l(t.uninvited,function(e){return n("li",{key:e.id,staticClass:"note-info info-xs"},[e.invited?t._e():n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.id}},[n("img",{attrs:{src:e.avatar,alt:""}})]),t._v(" "),n("a",{staticClass:"btn-base btn-follow btn-md",on:{click:function(n){return t.inviteUser(e)}}},[n("i",{staticClass:"iconfont icon-guanzhu"}),n("span",[t._v("邀请")])]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/user/"+e.id}},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("p",[t._v(t._s(e.introduction))])])])}),0)],1)]):t._e(),t._v(" "),t.answerId?n("div",{directives:[{name:"show",rawName:"v-show",value:t.showComments,expression:"showComments"}],staticClass:"comment-container"},[n("comments",{attrs:{id:t.answerId,type:"answers"}})],1):t._e()]):t._e()},[],!1,null,null,null);e.default=a.exports},"Rn+g":function(t,e,n){"use strict";var i=n("LYNF");t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},Rvex:function(t,e,n){"use strict";n.r(e);var i={name:"FollowUserList",props:["api","startPage","notEmpty","isDesktop","currentUserId"],watch:{api:function(t){this.clear(),this.fetchData()}},computed:{apiUrl:function(){var t=this.page,e=this.api?this.api:this.apiDefault;return-1!==e.indexOf("?")?e+"&page="+t:e+"?page="+t}},mounted:function(){this.listenScrollBottom(),this.fetchData()},methods:{clear:function(){this.users=[]},listenScrollBottom:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page,this.lastPage>0&&this.page>this.lastPage||this.fetchData()},fetchData:function(){var t=this;window.axios.post(window.tokenize(this.apiUrl)).then(function(e){t.lastPage=e.data.last_page,t.users=t.users.concat(e.data.data),$('[data-toggle="tooltip"]').tooltip()})}},data:function(){return{apiDefault:"",page:this.startPage?this.startPage:1,lastPage:-1,users:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.users,function(e){return n("li",{staticClass:"user-info info-md"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar,alt:""}})]),t._v(" "),n("follow",{attrs:{type:"users",id:e.user.id,"user-id":t.currentUserId,followed:e.user.is_follow}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:"/user/"+e.user.id}},[t._v(t._s(e.user.name))])]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"meta"},[n("span",[t._v("关注 "+t._s(e.user.count_followings))]),t._v(" "),n("span",[t._v("粉丝 "+t._s(e.user.count_follows))]),t._v(" "),n("span",[t._v("作品 "+t._s(e.user.count_articles))])]),t._v(" "),n("div",{staticClass:"meta"},[t._v("\n\t\t          写了 "+t._s(e.user.count_words)+" 字，获得了 "+t._s(e.user.count_likes)+" 个喜欢\n\t          ")])])],1)}),0)},[],!1,null,"7a2126f1",null);e.default=a.exports},"Ryi/":function(t,e,n){"use strict";n.r(e);var i=(n("i3aO"),n("KHd+")),r=Object(i.a)({name:"TagsInput",props:["name","required","value"],data:function(){return{}}},function(){var t=this.$createElement;return(this._self._c||t)("input",{attrs:{type:"text",name:this.name,required:this.required,"data-role":"tagsinput"},domProps:{value:this.value}})},[],!1,null,null,null);e.default=r.exports},S1ry:function(t,e,n){var i,r,a;a=this,i=[n("6s3i"),n("NRn6")],void 0===(r=function(t,e){return a.uploader=function(t,e){var n,i={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}var r;return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.count=0,n.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},n.prototype._init=function(){var e;return this.files=[],this.queue=[],this.id=++n.count,this.on("uploadcomplete",(e=this,function(n,i){return e.files.splice(t.inArray(i,e.files),1),e.queue.length>0&&e.files.length<e.opts.connectionCount?e.upload(e.queue.shift()):0===e.files.length?e.uploading=!1:void 0})),t(window).on("beforeunload.uploader-"+this.id,function(t){return function(e){if(t.uploading)return e.originalEvent.returnValue=t._t("leaveConfirm"),t._t("leaveConfirm")}}(this))},n.prototype.generateId=(r=0,function(){return r+=1}),n.prototype.upload=function(e,n){var i,r,a,o;if(null==n&&(n={}),null!=e){if(t.isArray(e)||e instanceof FileList)for(r=0,o=e.length;r<o;r++)i=e[r],this.upload(i,n);else t(e).is("input:file")?((a=t(e).attr("name"))&&(n.fileKey=a),this.upload(t.makeArray(t(e)[0].files),n)):e.id&&e.obj||(e=this.getFile(e));if(e&&e.obj)if(t.extend(e,n),this.files.length>=this.opts.connectionCount)this.queue.push(e);else if(!1!==this.triggerHandler("beforeupload",[e]))return this.files.push(e),this._xhrUpload(e),this.uploading=!0}},n.prototype.getFile=function(t){var e,n,i;return t instanceof window.File||t instanceof window.Blob?(e=null!=(n=t.fileName)?n:t.name,{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:e,size:null!=(i=t.fileSize)?i:t.size,ext:e?e.split(".").pop().toLowerCase():"",obj:t}):null},n.prototype._xhrUpload=function(e){var n,i,r,a,o;if((n=new FormData).append(e.fileKey,e.obj),n.append("original_filename",e.name),e.params)for(i in r=e.params)a=r[i],n.append(i,a);return e.xhr=t.ajax({url:e.url,data:n,processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(e.name)},xhr:function(){var e,n;return(e=t.ajaxSettings.xhr())&&(e.upload.onprogress=(n=this,function(t){return n.progress(t)})),e},progress:(o=this,function(t){if(t.lengthComputable)return o.trigger("uploadprogress",[e,t.loaded,t.total])}),error:function(t){return function(n,i,r){return t.trigger("uploaderror",[e,n,i])}}(this),success:function(n){return function(i){return n.trigger("uploadprogress",[e,e.size,e.size]),n.trigger("uploadsuccess",[e,i]),t(document).trigger("uploadsuccess",[e,i,n])}}(this),complete:function(t){return function(n,i){return t.trigger("uploadcomplete",[e,n.responseText])}}(this)})},n.prototype.cancel=function(t){var e,n,i,r;if(!t.id)for(n=0,i=(r=this.files).length;n<i;n++)if((e=r[n]).id===1*t){t=e;break}return this.trigger("uploadcancel",[t]),t.xhr&&t.xhr.abort(),t.xhr=null},n.prototype.readImageFile=function(e,n){var i,r;if(t.isFunction(n))return(r=new Image).onload=function(){return n(r)},r.onerror=function(){return n()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(e.type)?((i=new FileReader).onload=function(t){return r.src=t.target.result},i.readAsDataURL(e)):n()},n.prototype.destroy=function(){var e,n,i,r;for(this.queue.length=0,n=0,i=(r=this.files).length;n<i;n++)e=r[n],this.cancel(e);return t(window).off(".uploader-"+this.id),t(document).off(".uploader-"+this.id)},n.i18n={"zh-CN":{leaveConfirm:"正在上传文件，如果离开上传会自动取消"}},n.locale="zh-CN",n}(e),function(t){return new n(t)}}(t,e)}.apply(e,i))||(t.exports=r)},SE3q:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal.modal-category-contribute .modal-dialog[data-v-7b269770]{max-width:960px}.modal.modal-category-contribute .modal-dialog .search-wrapper[data-v-7b269770]{position:absolute;top:15px;right:80px;margin:0!important}@media screen and (max-width:1000px){.modal.modal-category-contribute .modal-dialog[data-v-7b269770]{max-width:720px}.modal.modal-category-contribute .modal-dialog li[data-v-7b269770]{width:50%}}@media screen and (max-width:768px){.modal.modal-category-contribute .modal-dialog[data-v-7b269770]{max-width:450px}.modal.modal-category-contribute .modal-dialog li[data-v-7b269770]{width:100%}}.modal.modal-category-contribute .modal-dialog .modal-body[data-v-7b269770]{height:500px}.modal.modal-category-contribute .modal-dialog .modal-body #contribute-note-list li[data-v-7b269770]{padding:20px 60px 20px 25px}.modal.modal-category-contribute li[data-v-7b269770]{width:33.3333%;display:inline-block;border-bottom:none!important}",""])},SQQX:function(t,e,n){"use strict";var i=n("Q9M4");n.n(i).a},SntB:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,function(t){void 0!==e[t]&&(n[t]=e[t])}),i.forEach(a,function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])}),i.forEach(o,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])});var s=r.concat(a).concat(o),l=Object.keys(e).filter(function(t){return-1===s.indexOf(t)});return i.forEach(l,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}),n}},Spdi:function(t,e,n){var i=n("kLOM");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},TiGw:function(t,e,n){"use strict";n.r(e);var i={name:"AuthorsVideo",props:["userId","categoryId","collectionId","videoId","relatedPage","num"],mounted:function(){this.fetchData(this.relatedPage)},methods:{fetchData:function(t){var e,n=this;this.counter++,this.page++,t&&(this.page=t),$(this.$refs.fresh).css("transform","rotate(".concat(360*this.counter,"deg)"));var i=null!==(e=this.num)&&void 0!==e?e:4,r="/api/user/"+this.userId+"/videos/relatedVideos?num="+i+"&page="+this.page+"&video_id="+this.videoId,a="/api/category/"+this.categoryId+"/videos?video_id="+this.videoId+"&num="+i+"&page="+this.page,o="/api/collection/"+this.collectionId+"/posts?video_id="+this.videoId+"&num="+i+"&page="+this.page;this.userId?(console.log("同用户视频",this.userId),window.axios.get(r).then(function(t){var e;n.posts=null===(e=t.data)||void 0===e?void 0:e.data,n.last_page=t.data.last_page,n.page==n.last_page&&(n.page=1)})):this.categoryId?(console.log("同专题视频",this.categoryId),window.axios.get(a).then(function(t){var e;n.posts=null===(e=t.data)||void 0===e?void 0:e.data,n.last_page=t.data.last_page,n.page==n.last_page&&(n.page=1)})):this.collectionId&&(console.log("同合集视频",this.collectionId),window.axios.get(o).then(function(t){var e;n.posts=null===(e=t.data)||void 0===e?void 0:e.data,n.last_page=t.data.last_page,n.page==n.last_page&&(n.page=1)}))}},data:function(){return{posts:null,counter:-1,page:0,last_page:null}}},r=(n("vFFC"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"related-video"},[n("div",{staticClass:"title"},[t.userId?n("h4",[t._v("同作者视频")]):t._e(),t._v(" "),t.categoryId?n("div",{staticClass:"recommend"},[t._v("同分类推荐")]):t._e(),t._v(" "),t.collectionId?n("div",{staticClass:"recommend"},[t._v("同合集视频")]):t._e(),t._v(" "),t.last_page>1?n("a",{staticClass:"font",attrs:{href:"javascript:;"},on:{click:function(e){return t.fetchData()}}},[n("i",{ref:"fresh",staticClass:"iconfont icon-shuaxin"}),t._v("换一批")]):t._e()]),t._v(" "),n("ul",{staticClass:"video-list"},t._l(t.posts,function(e){return n("li",{key:e.id,staticClass:"video-item"},[n("a",{staticClass:"link",attrs:{href:"/video/"+e.video.id+"?related_page="+t.page}},[n("div",{staticClass:"cover"},[n("img",{attrs:{src:e.cover,alt:""}}),t._v(" "),n("i",{staticClass:"hover-play"}),t._v(" "),n("span",{staticClass:"duration"},[t._v(t._s(e.video.duration)+"秒")])]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"recommend-video-title"},[t._v("\n                        "+t._s(e.description?e.description:e.content)+"\n                    ")]),t._v(" "),n("span",{staticClass:"amount"},[t._v("\n                        "+t._s(e.count_likes+"次点赞")+"\n                    ")])])])])}),0)])},[],!1,null,null,null);e.default=a.exports},URgk:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new a(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},UVSc:function(t,e,n){var i=n("n0NO");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},UnBK:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("xAGQ"),a=n("Lmem"),o=n("JEQr");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},VFRU:function(t,e,n){"use strict";n.r(e);var i={name:"Submissions",computed:{categoryName:function(){return window.category_name}},created:function(){var t=window.tokenize("/api/categories/requested-articles-"+this.$route.params.id),e=this;window.axios.get(t).then(function(t){e.articles=t.data,e.all=e.articles})},methods:{requestApi:function(t,e){window.axios.get(e).then(function(e){t.pivot=e.data.pivot})},onlyUnread:function(t){t.target.checked?this.articles=this.articles.filter(function(t){return"待审核"==t.pivot.submit}):this.articles=this.all},approve:function(t){var e=window.tokenize("/api/categories/approve-category-"+t.pivot.category_id+"-"+t.id);this.requestApi(t,e)},deny:function(t){var e=window.tokenize("/api/categories/approve-category-"+t.pivot.category_id+"-"+t.id+"?deny=1");this.requestApi(t,e)},remove:function(t){var e=window.tokenize("/api/categories/approve-category-"+t.pivot.category_id+"-"+t.id+"?remove=1");this.requestApi(t,e)}},data:function(){return{all:[],articles:[]}}},r=(n("QuT3"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"submissions"},[n("div",{staticClass:"push-top"},[n("router-link",{staticClass:"back-list active",attrs:{to:"/requests"}},[n("i",{staticClass:"iconfont icon-zuobian"}),t._v(" 返回投稿请求")]),t._v(" "),n("b",[n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.categoryName))])]),t._v(" "),n("div",{staticClass:"more-option"},[n("input",{attrs:{type:"checkbox",name:"pending",id:"onlyUnreadCheck"},on:{change:t.onlyUnread}}),n("span",{attrs:{for:"onlyUnreadCheck"}},[t._v("只看未处理投稿")])])],1),t._v(" "),n("ul",{staticClass:"article-list"},t._l(t.articles,function(e){return n("li",{staticClass:"article-item have-img"},[n("a",{staticClass:"wrap-img",attrs:{href:"/article/"+e.id}},[n("img",{attrs:{src:e.image_url,alt:""}})]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"author"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user.id}},[t._v(t._s(e.user.name))]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.created_at))])])]),t._v(" "),n("a",{staticClass:"title",attrs:{href:"/article/"+e.id}},[n("span",[t._v(t._s(e.title))])]),t._v(" "),n("p",{staticClass:"abstract"},[t._v("\n\t\t      "+t._s(e.description)+"\n\t\t    ")]),t._v(" "),n("div",{staticClass:"meta"},[n("a",{attrs:{href:"/article/"+e.id}},[n("i",{staticClass:"iconfont icon-liulan"}),t._v(" "+t._s(e.hits)+"\n\t\t      ")]),t._v(" "),n("a",{attrs:{href:"/article/"+e.id}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(" "+t._s(e.count_replies)+"\n\t\t      ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-03xihuan"}),t._v(" "+t._s(e.count_likes))]),t._v(" "),e.count_tips?n("span",[n("i",{staticClass:"iconfont icon-qianqianqian"}),t._v(" "+t._s(e.count_tips))]):t._e()])]),t._v(" "),n("div",{staticClass:"push-action"},[t._v("\n\t\t  \t"+t._s(e.pivot.submit)+"\n\t\t  ")]),t._v(" "),"已收录"==e.pivot.submit?n("div",{staticClass:"push-action"},[n("span",{staticClass:"push-status"},[t._v("已收入"),n("a",{staticClass:"push-remove",on:{click:function(n){return t.remove(e)}}},[t._v("移除")])]),t._v(" "),n("span",{staticClass:"push-time"},[t._v(t._s(e.pivot.updated_at)+" 投稿")])]):t._e(),t._v(" "),"已拒绝"==e.pivot.submit?n("div",{staticClass:"push-action"},[n("span",{staticClass:"push-status"},[t._v("已拒绝")]),t._v(" "),n("span",{staticClass:"push-time"},[t._v(t._s(e.pivot.updated_at)+" 投稿")])]):t._e(),t._v(" "),"已撤回"==e.pivot.submit?n("div",{staticClass:"push-action"},[n("span",{staticClass:"push-time"},[t._v(t._s(e.pivot.updated_at)+" 投稿")])]):t._e(),t._v(" "),"待审核"==e.pivot.submit?n("div",{staticClass:"push-action"},[n("a",{staticClass:"btn-base btn-hollow btn-xs",on:{click:function(n){return t.approve(e)}}},[t._v("接受")]),t._v(" "),n("a",{staticClass:"btn-base btn-gray btn-xs",on:{click:function(n){return t.deny(e)}}},[t._v("拒绝")]),t._v(" "),n("span",{staticClass:"push-time"},[t._v(t._s(e.pivot.updated_at)+" 投稿")])]):t._e()])}),0)])},[],!1,null,"271b04e0",null);e.default=a.exports},"VSY+":function(t,e){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(e){var i=t(this),r=i.attr("data-target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),r="#"===r?[]:r;var a=t(document).find(r);function o(){a.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each(function(){var i=t(this),r=i.data("bs.button"),a="object"==typeof n&&n;r||i.data("bs.button",r=new e(this,a)),"toggle"==n?r.toggle():n&&r.setState(n)})}e.VERSION="3.4.1",e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",a=i.data();e+="Text",null==a.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=n,t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var i=t(e.target).closest(".btn");n.call(i,"toggle"),t(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};function n(n){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),o="string"==typeof n?n:a.slide;r||i.data("bs.carousel",r=new e(this,a)),"number"==typeof n?r.to(n):o?r[o]():a.interval&&r.pause().cycle()})}e.VERSION="3.4.1",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},e.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(n,i){var r=this.$element.find(".item.active"),a=i||this.getItemForDirection(n,r),o=this.interval,s="next"==n?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(n),"object"==typeof a&&a.length&&a[0].offsetWidth,r.addClass(s),a.addClass(s),r.one("bsTransitionEnd",function(){a.removeClass([n,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=n,t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(e){var i=t(this),r=i.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var a=i.attr("data-target")||r,o=t(document).find(a);if(o.hasClass("carousel")){var s=t.extend({},o.data(),i.data()),l=i.attr("data-slide-to");l&&(s.interval=!1),n.call(o,s),l&&o.data("bs.carousel").to(l),e.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(i)}function i(n){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);!r&&a.toggle&&/show|hide/.test(n)&&(a.toggle=!1),r||i.data("bs.collapse",r=new e(this,a)),"string"==typeof n&&r[n]()})}e.VERSION="3.4.1",e.TRANSITION_DURATION=350,e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(n=r.data("bs.collapse"))&&n.transitioning)){var a=t.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),n||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[o](this.$element[0][l])}}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=t.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(e.TRANSITION_DURATION)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},e.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(e,i){var r=t(i);this.addAriaAndCollapsedClass(n(r),r)},this)).end()},e.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var r=t(this);r.attr("data-target")||e.preventDefault();var a=n(r),o=a.data("bs.collapse")?"toggle":r.data();i.call(a,o)})}(jQuery),function(t){"use strict";var e='[data-toggle="dropdown"]',n=function(e){t(e).on("click.bs.dropdown",this.toggle)};function i(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==n?t(document).find(n):null;return i&&i.length?i:e.parent()}function r(n){n&&3===n.which||(t(".dropdown-backdrop").remove(),t(e).each(function(){var e=t(this),r=i(e),a={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(e.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}n.VERSION="3.4.1",n.prototype.toggle=function(e){var n=t(this);if(!n.is(".disabled, :disabled")){var a=i(n),o=a.hasClass("open");if(r(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",r);var s={relatedTarget:this};if(a.trigger(e=t.Event("show.bs.dropdown",s)),e.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},n.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var a=i(r),o=a.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&a.find(e).trigger("focus"),r.trigger("click");var s=a.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),r=i.data("bs.dropdown");r||i.data("bs.dropdown",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",e,n.prototype.toggle).on("keydown.bs.dropdown.data-api",e,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,i){return this.each(function(){var r=t(this),a=r.data("bs.modal"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);a||r.data("bs.modal",a=new e(this,o)),"string"==typeof n?a[n](i):o.show&&a.show(i)})}e.VERSION="3.4.1",e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},e.prototype.show=function(n){var i=this,r=t.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:n});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(e.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},e.prototype.hide=function(n){n&&n.preventDefault(),n=t.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},e.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(n){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;a?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),n&&n()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):o()}else n&&n()},e.prototype.handleUpdate=function(){this.adjustDialog()},e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},e.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+n),t(this.fixedContent).each(function(e,i){var r=i.style.paddingRight,a=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(a)+n+"px")}))},e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""})},e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=n,t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),r=i.attr("href"),a=i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),o=t(document).find(a),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&e.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),n.call(o,s,this)})}(jQuery),function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function a(e,a){var o=e.nodeName.toLowerCase();if(-1!==t.inArray(o,a))return-1===t.inArray(o,n)||Boolean(e.nodeValue.match(i)||e.nodeValue.match(r));for(var s=t(a).filter(function(t,e){return e instanceof RegExp}),l=0,c=s.length;l<c;l++)if(o.match(s[l]))return!0;return!1}function o(e,n,i){if(0===e.length)return e;if(i&&"function"==typeof i)return i(e);if(!document.implementation||!document.implementation.createHTMLDocument)return e;var r=document.implementation.createHTMLDocument("sanitization");r.body.innerHTML=e;for(var o=t.map(n,function(t,e){return e}),s=t(r.body).find("*"),l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();if(-1!==t.inArray(d,o))for(var f=t.map(u.attributes,function(t){return t}),p=[].concat(n["*"]||[],n[d]||[]),h=0,m=f.length;h<m;h++)a(f[h],p)||u.removeAttribute(f[h].nodeName);else u.parentNode.removeChild(u)}return r.body.innerHTML}var s=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};s.VERSION="3.4.1",s.TRANSITION_DURATION=150,s.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},s.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},s.prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.getOptions=function(n){var i=this.$element.data();for(var r in i)i.hasOwnProperty(r)&&-1!==t.inArray(r,e)&&delete i[r];return(n=t.extend({},this.getDefaults(),i,n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.sanitize&&(n.template=o(n.template,n.whiteList,n.sanitizeFn)),n},s.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},s.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},s.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},s.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},s.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(o);c&&(o=o.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(t(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,f=r[0].offsetHeight;if(c){var p=o,h=this.getPosition(this.$viewport);o="bottom"==o&&u.bottom+f>h.bottom?"top":"top"==o&&u.top-f<h.top?"bottom":"right"==o&&u.right+d>h.width?"left":"left"==o&&u.left-d<h.left?"right":o,r.removeClass(p).addClass(o)}var m=this.getCalculatedOffset(o,u,d,f);this.applyPlacement(m,o);var g=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(s.TRANSITION_DURATION):g()}},s.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,a=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top+=o,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=a&&(e.top=e.top+a-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),f=d?2*u.left-r+l:2*u.top-a+c,p=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][p],d)},s.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=o(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right")},s.prototype.hide=function(e){var n=this,i=t(this.$tip),r=t.Event("hide.bs."+this.type);function a(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",a).emulateTransitionEnd(s.TRANSITION_DURATION):a(),this.hoverState=null,this},s.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},s.prototype.hasContent=function(){return this.getTitle()},s.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var a=window.SVGElement&&n instanceof window.SVGElement,o=i?{top:0,left:0}:a?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,l,o)},s.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},s.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-o.scroll,l=e.top+a-o.scroll+i;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=e.left-a,u=e.left+a+n;c<o.left?r.left=o.left-c:u>o.right&&(r.left=o.left+o.width-u)}return r},s.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},s.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},s.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.toggleEnabled=function(){this.enabled=!this.enabled},s.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},s.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},s.prototype.sanitizeHtml=function(t){return o(t,this.options.whiteList,this.options.sanitizeFn)};var l=t.fn.tooltip;t.fn.tooltip=function(e){return this.each(function(){var n=t(this),i=n.data("bs.tooltip"),r="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||n.data("bs.tooltip",i=new s(this,r)),"string"==typeof e&&i[e]())})},t.fn.tooltip.Constructor=s,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=l,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.4.1",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();if(this.options.html){var i=typeof n;this.options.sanitize&&(e=this.sanitizeHtml(e),"string"===i&&(n=this.sanitizeHtml(n))),t.find(".popover-title").html(e),t.find(".popover-content").children().detach().end()["string"===i?"html":"append"](n)}else t.find(".popover-title").text(e),t.find(".popover-content").children().detach().end().text(n);t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("bs.popover"),a="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new e(this,a)),"string"==typeof n&&r[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(n).is(document.body)?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),a="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,a)),"string"==typeof n&&r[n]()})}e.VERSION="3.4.1",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),a=/^#./.test(r)&&t(r);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return o!=(t=a[a.length-1])&&this.activate(t);if(o&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)o!=a[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};function n(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new e(this)),"string"==typeof n&&r[n]()})}e.VERSION="3.4.1",e.TRANSITION_DURATION=150,e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(a),e.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=t(document).find(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},e.prototype.activate=function(n,i,r){var a=i.find("> .active"),o=r&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}a.length&&o?a.one("bsTransitionEnd",s).emulateTransitionEnd(e.TRANSITION_DURATION):s(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=n,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(e){e.preventDefault(),n.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i);var r=this.options.target===e.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var i=t(this),r=i.data("bs.affix"),a="object"==typeof n&&n;r||i.data("bs.affix",r=new e(this,a)),"string"==typeof n&&r[n]()})}e.VERSION="3.4.1",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=a.top)&&"bottom":!(r+o<=t-i)&&"bottom";var s=null==this.affixed,l=s?r:a.top;return null!=n&&r<=n?"top":null!=i&&l+(s?o:e)>=t-i&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,r=i.top,a=i.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(a=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var s=this.getState(o,n,r,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-n-a})}};var i=t.fn.affix;t.fn.affix=n,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(e,i)})})}(jQuery)},VgZs:function(t,e,n){"use strict";var i=n("u64i");n.n(i).a},ViVg:function(t,e,n){"use strict";var i=n("A10U");n.n(i).a},W1Dg:function(t,e,n){var i=n("riJi");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},W1Xh:function(t,e,n){"use strict";var i=n("8KA6");n.n(i).a},WRGJ:function(t,e,n){"use strict";var i=n("awH6");n.n(i).a},X1SV:function(t,e,n){"use strict";n.r(e);var i={name:"Chats",created:function(){var t=window.tokenize("/api/notification/chats"),e=this;window.axios.get(t).then(function(t){e.chats=t.data.data,e.last_page=t.data.last_page})},data:function(){return{chats:[],page:1,lastPage:null}}},r=(n("fVYD"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"menu"},[t._v("全部消息")]),t._v(" "),t.chats.length?n("ul",{staticClass:"chats-list"},t._l(t.chats,function(e){return n("li",[n("div",{staticClass:"dropdown time"},[n("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:;","data-toggle":"dropdown","aria-expanded":"false"}},[t._v("\n\t\t\t\t\t"+t._s(e.time)+" "),n("i",{staticClass:"iconfont icon-xia"})]),t._v(" "),t._m(0,!0)]),t._v(" "),n("div",{staticClass:"user-info"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.with_id}},[n("img",{attrs:{src:e.with_avatar,alt:""}}),t._v(" "),e.unreads?n("span",{staticClass:"badge"},[t._v(t._s(e.unreads))]):t._e()]),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.with_id}},[t._v(t._s(e.with_name))])]),t._v(" "),n("router-link",{attrs:{to:"/chat/"+e.id}},[n("div",{staticClass:"info"},[n("p",[t._v(t._s(e.last_message))])])])],1)])}),0):n("div",{staticClass:"unMessage"},[n("blank-content")],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{staticClass:"link",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-lajitong"}),e("span",[this._v("删除会话")])])]),this._v(" "),e("li",[e("a",{staticClass:"link",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-heimingdan1"}),e("span",[this._v("加入黑名单")])])]),this._v(" "),e("li",[e("a",{staticClass:"report link",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-iconset03100"}),e("span",[this._v("举报用户")])])])])}],!1,null,"87657b14",null);e.default=a.exports},X4RE:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".search-recent{padding:15px 15px 10px}.search-recent .search-recent-item-wrap li{line-height:20px}.search-recent .search-recent-item-wrap li a{display:block;height:40px;line-height:20px;padding:10px 15px 10px 0;font-size:14px;color:#252525;position:relative}.search-recent .search-recent-item-wrap li a i.icon-unie646{float:left;margin-right:10px;font-size:18px;color:#787878}.search-recent .search-recent-item-wrap li a i.icon-cha{position:absolute;right:15px;top:11px;font-size:14px;color:#a0a0a0;display:none}.search-recent .search-recent-item-wrap li a i.icon-cha:hover{color:#515151}.search-recent .search-recent-item-wrap li a span{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-right:30px;text-align:left}.search-recent .search-recent-item-wrap li a:hover{background-color:#f0f0f0;border-radius:4px}.search-recent .search-recent-item-wrap li a:hover i.icon-cha{display:block}",""])},XIRt:function(t,e,n){"use strict";n.r(e);var i={name:"SingleListCreate",props:["id","type"],mounted:function(){this.loadData()},computed:{get_items_col:function(){return this.data.items.length>=4?"col-sm-4 col-md-3":3==this.data.items.length?"col-sm-4":""}},methods:{loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&($(t.target).text("搜索..."),$(t.target).prop("disabled",!0));var e="/api/articles";this.query&&(e=e+"?query="+this.query);var n=this;this.$http.get(e).then(function(e){n.articles=e.data.data,$(".item").show(),t&&($(t.target).text("搜索"),$(t.target).prop("disabled",!1))})},setHalfScreen:function(){this.data.col="col-md-6"},setFullScreen:function(){this.data.col="col-md-12"},getUrl:function(t){return"/article/"+t},addItem:function(t,e){$(t.target).parent().hide(),this.data.aids||(this.data.aids=new Array),this.data.items||(this.data.items=new Array),this.data.aids=this.data.aids.concat(e.id),this.data.items=this.data.items.concat({id:e.id,title:e.title,image_url:e.image_url})},deleteItem:function(t){var e=this.data.aids.indexOf(t.id);this.data.aids.splice(e,1),e=this.data.items.indexOf(t),this.data.items.splice(e,1)},saveCollection:function(){if(this.data.title&&this.data.aids.length){var t={col:this.data.col,title:this.data.title,aids:this.data.aids};this.$http.post("/api/"+this.type+"/"+this.id+"/json",t).then(function(t){$("#list_select_link")[0].click(),window.app.$refs.list_select.loadData()})}}},data:function(){return{data:{col:"col-md-6",title:null,aids:null,items:null},query:null,articles:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row top10"},[n("div",{class:t.data.col},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"集合标题,例如: 相关草药 / 相关英雄..."},domProps:{value:t.data.title},on:{input:function(e){e.target.composing||t.$set(t.data,"title",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"panel-body"},[t.data.items?t._l(t.data.items,function(e){return n("div",{class:"col-xs-6 "+t.get_items_col},[n("img",{staticClass:"img img-responsive",attrs:{src:e.image_url},on:{click:function(n){return t.deleteItem(e)}}}),t._v(" "),n("p",{staticClass:"strip_title"},[t._v("\n              "+t._s(e.title)+"\n            ")])])}):n("div",[t._v("\n            下方搜索文章，　点 ＋ 加入文章...\n          ")])],2)])])]),t._v(" "),n("div",{staticClass:"top10"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.setHalfScreen}},[t._v("半屏幕宽")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.setFullScreen}},[t._v("全屏幕宽")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveCollection}},[t._v("保存集合")])]),t._v(" "),n("div",{staticClass:"panel panel-primary top10"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"搜索 相关草药 / 相关英雄 标题..."},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.loadData(e)}}},[t._v("搜索")])])])]),t._v(" "),n("div",{staticClass:"panel-body"},[t.articles?n("div",t._l(t.articles,function(e){return n("div",{staticClass:"col-xs-6 col-sm-4 col-md-3 top10 item"},[n("a",{attrs:{href:t.getUrl(e.id)}},[n("img",{staticClass:"img img-responsive",staticStyle:{"max-height":"120px"},attrs:{src:e.image_url}})]),t._v(" "),n("p",{staticClass:"strip_title"},[t._v("\n            "+t._s(e.title)+"\n          ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(n){t.addItem(n,e)}}},[t._v("＋加入文章")])])}),0):n("div",[t._v("\n        未找到文章, 换个关键词搜索看...\n      ")])])])])},[],!1,null,"533f31c8",null);e.default=a.exports},XQtB:function(t,e,n){"use strict";n.r(e);var i={name:"SingleListSelect",props:["id","type"],mounted:function(){this.loadData()},computed:{},methods:{get_items_col:function(t){return t.items.length>=4?"col-sm-4 col-md-3":3==t.items.length?"col-sm-4":""},getUrl:function(t){return"/article/"+t},loadData:function(){var t=this;this.$http.get("/api/"+this.type+"/"+this.id+"/lists").then(function(e){t.lists=e.data})},addToBody:function(t,e){var n="col-md-6"==t.col?"box-related-half":"box-related-full";$(".editable").summernote("pasteHTML",'<single-list class="'+n+'" id="'+this.id+'" type="'+this.type+'" index="'+e+'"/>')},deleteCollection:function(t){var e=this;this.$http.get("/api/"+this.type+"/"+this.id+"/del-"+t).then(function(n){e.lists.splice(t,1)})}},data:function(){return{lists:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row top10"},[t.lists?t._l(t.lists,function(e,i){return n("div",{class:e.col},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},["article"==t.type?n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(n){return t.addToBody(e,i)}}},[t._v("添加到正文")])]):t._e(),t._v(" "),n("h3",{staticClass:"panel-title",staticStyle:{"line-height":"30px"}},[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"panel-body"},t._l(e.items,function(i){return n("div",{class:"col-xs-6 "+t.get_items_col(e)},[n("a",{attrs:{href:t.getUrl(i.id),title:i.title}},[n("img",{staticClass:"img img-responsive",attrs:{src:i.image_url}})]),t._v(" "),n("p",{staticClass:"strip_title"},[t._v("\n\t\t\t\t\t\t"+t._s(i.title)+"\n\t\t\t\t\t")])])}),0),t._v(" "),n("div",{staticClass:"panel-footer"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteCollection(i)}}},[t._v("删除")])])])])}):n("div",[t._v("\n\t\t您还有没有创建, 先去左边创建...\n\t")])],2)},[],!1,null,"ca7020f2",null);e.default=a.exports},Xibo:function(t,e,n){var i=n("h4CX");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},XuX8:function(t,e,n){t.exports=n("INkZ")},Y02k:function(t,e,n){"use strict";n.r(e);var i={name:"Reward",created:function(){this.fetchData()},methods:{api:function(){return window.tokenize("/api/user")},fetchData:function(){var t=this;window.axios.get(this.api()).then(function(e){t.user=e.data})},save:function(){var t=this,e={enable_tips:this.user.enable_tips,tip_words:this.user.tip_words};window.axios.post(this.api(),e).then(function(e){t.user=e.data,t.saved=!0})}},data:function(){return{saved:null,user:{}}}},r=(n("E2/B"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"form-menu"},[n("tbody",{staticClass:"reward"},[n("tr",[n("td",{staticClass:"setting-title pull-left top-line"},[t._v("\n                    赞赏功能\n                ")]),t._v(" "),n("td",{staticClass:"top-line"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.enable_tips,expression:"user.enable_tips"}],attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.user.enable_tips,"1")},on:{change:function(e){return t.$set(t.user,"enable_tips","1")}}}),t._v(" "),n("span",[t._v("开启")])]),t._v(" "),n("div",{staticClass:"col-xs-18"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.enable_tips,expression:"user.enable_tips"}],attrs:{type:"radio",value:"0"},domProps:{checked:t._q(t.user.enable_tips,"0")},on:{change:function(e){return t.$set(t.user,"enable_tips","0")}}}),t._v(" "),n("span",[t._v("关闭")])])]),t._v(" "),n("p",[t._v("开启后赞赏按钮将出现在你的文章底部")])])]),t._v(" "),n("tr",[n("td",{staticClass:"setting-title pull-left"},[t._v("赞赏描述")]),t._v(" "),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.tip_words,expression:"user.tip_words"}],attrs:{row:"3",placeholder:"如果觉得我的文章对您有用，请随意赞赏。您的支持将鼓励我继续创作！"},domProps:{value:t.user.tip_words},on:{input:function(e){e.target.composing||t.$set(t.user,"tip_words",e.target.value)}}})])])])]),t._v(" "),n("input",{staticClass:"btn-base btn-handle btn-bold",attrs:{type:"button",value:"保存"},on:{click:t.save}}),t._v(" "),t.saved?n("div",{staticClass:"alert alert-success"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-hidden":"true"}},[t._v("×")]),t._v(" "),n("strong",[t._v("提示！")]),t._v(" 赞赏设置保存成功...\n    ")]):t._e()])},[],!1,null,"7f757cea",null);e.default=a.exports},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,a,o,s,l=1,c={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){h(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&h(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){h(t.data)},i=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(h,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[l]=r,i(l),l++},f.clearImmediate=p}function p(t){delete c[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},YLx5:function(t,e,n){"use strict";var i=n("4PEM");n.n(i).a},YfZI:function(t,e,n){var i=n("pVEr");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"Yv+J":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.progress.blue .progress-value{color:#d96a5f}.progress.blue .progress-bar{border-color:#d96a5f}.progress{width:100px;height:100px;line-height:100px;background:none;margin:0 auto;box-shadow:none;position:relative}.progress:after{content:"";width:100%;border-radius:50%;border:2px solid #fff;left:0}.progress:after,.progress span{height:100%;position:absolute;top:0}.progress span{width:50%;overflow:hidden;z-index:1}.progress .progress-left{left:0}.progress .progress-bar{width:100%;height:100%;background:none;border-width:2px;border-style:solid;position:absolute;top:0}.progress .progress-left .progress-bar{left:100%;border-top-right-radius:80px;border-bottom-right-radius:80px;border-left:0;transform-origin:center left;transform:rotate(0deg);transition:all 1s ease}.progress .progress-right{right:0}.progress .progress-right .progress-bar{left:-100%;border-top-left-radius:80px;border-bottom-left-radius:80px;border-right:0;transform-origin:center right;transform:rotate(0deg)}.progress .progress-value{width:78%;height:78%;border-radius:50%;font-size:26px;line-height:78px;text-align:center;position:absolute;top:11%;left:11%}',""])},ZS9G:function(t,e,n){"use strict";var i=n("yTzj");n.n(i).a},ZSiy:function(t,e,n){var i=n("evwa");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},ZyDK:function(t,e,n){"use strict";var i=n("4ZAT");n.n(i).a},"a/FM":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".captcha .geetest-wind[data-v-527945ef]{position:relative;width:100%;height:44px}.captcha .geetest-wind .geetest-radar-btn[data-v-527945ef]{position:relative;width:100%;height:100%;min-width:160px;background-image:linear-gradient(180deg,#fff,#f3f3f3);border:1px solid #ccc;border-radius:2px;cursor:pointer}.captcha .geetest-wind .geetest-radar-btn[data-v-527945ef]:hover{background-image:linear-gradient(0deg,#fff,#f3f3f3)}.captcha .geetest-wind .geetest-radar-btn:hover .geetest-radar .geetest-sector[data-v-527945ef]{-webkit-animation:scaleOne .5s linear infinite both;animation:scaleOne .5s linear infinite both}.captcha .geetest-wind .geetest-radar-btn:hover .geetest-radar .geetest-ring[data-v-527945ef]{-webkit-animation:scaleTwo .5s linear .5s infinite both;animation:scaleTwo .5s linear .5s infinite both}.captcha .geetest-wind .geetest-radar-btn .geetest-radar[data-v-527945ef]{position:absolute;margin:6px;width:30px;height:30px;z-index:1}.captcha .geetest-wind .geetest-radar-btn .geetest-radar .geetest-ring[data-v-527945ef],.captcha .geetest-wind .geetest-radar-btn .geetest-radar .geetest-sector[data-v-527945ef]{position:absolute;width:100%;height:100%;box-shadow:inset 0 0 0 1px #407fcf;background-color:#c5daf9;border-radius:50%}.captcha .geetest-wind .geetest-radar-btn .geetest-radar .geetest-small[data-v-527945ef]{position:absolute;width:10px;height:10px;top:0;left:0;right:0;bottom:0;margin:auto;background-color:#407fcf;border-radius:50%}.captcha .geetest-wind .geetest-radar-btn .geetest-radar-tip[data-v-527945ef]{position:absolute;top:0;left:0;box-sizing:border-box;padding-left:46px;height:42px;width:100%;line-height:42px;font-size:14px;color:#717171;white-space:nowrap;text-align:left;transform:translateZ(0)}.captcha .geetest-wind .geetest-radar-btn .geetest-logo[data-v-527945ef]{position:absolute;right:11px;width:22px;height:22px;top:11px;color:#bbb6ce;text-align:center;line-height:22px}.captcha .geetest-wind .geetest-radar-btn .geetest-logo i[data-v-527945ef]{font-size:18px}",""])},aCnp:function(t,e,n){"use strict";n.r(e);var i={name:"Base",created:function(){this.fetchData()},methods:{previewImage:function(t){var e=t.target;if(e.files&&e.files[0]){var n=e.files[0],i=new FileReader;i.onload=function(t){$("#previewImage").attr("src",t.target.result)},i.readAsDataURL(n),this.upload({url:window.tokenize("/api/user/save-avatar"),fileKey:"avatar",obj:n})}},api:function(){return window.tokenize("/api/user")},fetchData:function(){var t=this;window.axios.get(this.api()).then(function(e){t.user=e.data})},refreshAvatars:function(){$("img.avatar").each(function(){$(this).attr("src",$(this).attr("src")+"?t="+Date.now())})},save:function(){var t={name:this.user.name},e=this;window.axios.post(this.api(),t).then(function(t){e.saved=!0,e.refreshAvatars()})},upload:function(t){var e=new FormData;e.append(t.fileKey,t.obj),window.axios.post(t.url,e,{headers:{"Content-Type":"multipart/form-data"}})}},data:function(){return{saved:null,user:{}}}},r=(n("4/2r"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"form-menu"},[n("tbody",{staticClass:"base"},[n("tr",[n("td",{staticClass:"top-line"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.user&&t.user.avatar?t.user.avatar:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/xbx.jpg",id:"previewImage"}})])]),t._v(" "),n("td",{staticClass:"top-line"},[n("a",{staticClass:"btn-base btn-hollow btn-md btn-file"},[n("input",{attrs:{unselectable:"on",type:"file"},on:{change:t.previewImage}}),t._v(" 更改头像\n\t                ")])])]),t._v(" "),n("tr",[n("td",{staticClass:"setting-title"},[t._v("\n\t                昵称\n\t            ")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input-style",attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])])])]),t._v(" "),n("input",{staticClass:"btn-base btn-handle btn-md btn-bold",attrs:{type:"button",value:"保存"},on:{click:t.save}}),t._v(" "),t.saved?n("div",{staticClass:"alert alert-success"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-hidden":"true"}},[t._v("×")]),t._v(" "),n("strong",[t._v("提示！")]),t._v(" 基本设置保存成功...\n    ")]):t._e()])},[],!1,null,"3c69709e",null);e.default=a.exports},"aET+":function(t,e,n){var i,r,a={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),l=null,c=0,u=[],d=n("9tPo");function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=a[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(y(i.parts[o],e))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(y(i.parts[o],e));a[i.id]={id:i.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],i={},r=0;r<t.length;r++){var a=t[r],o=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertAt.before,n);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=n.nc;i&&(t.attrs.nonce=i)}return v(e,t.attrs),h(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,i,r,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var o=c++;n=l||(l=g(e)),i=w.bind(null,n,o,!1),r=w.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),h(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||a)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),i=function(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var o=n[r];(s=a[o.id]).refs--,i.push(s)}for(t&&f(p(t,e),e),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var b,_=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}},aFUY:function(t,e,n){"use strict";n.r(e);var i=(n("D2hv"),n("KHd+")),r=Object(i.a)({name:"ReplyComment",props:["isShow","body"],computed:{show:function(){return this.message=this.body,this.isShow}},methods:{send:function(){if(!this.message)return null;this.message=this.message.replace(/<span class="atwho-inserted" data-atwho-at-query="@(.*?)" contenteditable="false"><span data-id="(\d+)">@(.*?)<\/span><\/span>/g,'<at href="/user/$2" data-id="$2">@$3</at>'),this.$emit("sendReply",this.message),this.$refs.editContent.innerHTML=null,this.message=null},setComment:function(){this.message=this.$refs.editContent.innerHTML},toggle:function(){this.$emit("toggle-replycomment")}},data:function(){return{message:""}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[t.show?n("div",[n("form",{staticClass:"new-comment"},[n("div",[t._m(0),t._v(" "),n("div",{staticClass:"write-block"},[n("div",{staticClass:"emoji-wrap"},[n("a",{staticClass:"emoji"},[n("i",{staticClass:"iconfont icon-smile"})])]),t._v(" "),n("div",{staticClass:"hint"},[t._v("Ctrl+Enter 发表")]),t._v(" "),n("a",{staticClass:"btn-base btn-handle btn-md",class:{disable:!t.message},on:{click:t.send}},[t._v("发送")]),t._v(" "),n("a",{staticClass:"cancel",on:{click:t.toggle}},[t._v("取消")])])])])]):t._e()])},[function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"editContent",staticClass:"commenTable",attrs:{placeholder:"写下你的评论...",contentEditable:"true"},domProps:{innerHTML:t._s(t.message)},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.send(e):null},input:t.setComment}})}],!1,null,"b6395c0a",null);e.default=r.exports},aHPL:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".reward textarea[data-v-7f757cea]{font-size:15px}",""])},"aV+c":function(t,e,n){"use strict";n.r(e);var i=n("KHd+"),r=Object(i.a)({name:"modificationName",computed:{name:{get:function(){return this.$store.state.currentCollection.name},set:function(t){this.newCollectionName=t}}},methods:{submit:function(){this.$store.commit("RENAME_COLLECTION",this.newCollectionName),this.$store.dispatch("renameCollection",{name:this.newCollectionName})}},data:function(){return{newCollectionName:null}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modification-name"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-style",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("a",{staticClass:"submit btn-base btn-hollow btn-md",on:{click:t.submit}},[t._v("确认")]),t._v(" "),n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("取消")])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("请输入新文集名")])])}],!1,null,null,null);e.default=r.exports},awH6:function(t,e,n){var i=n("GGGH");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},bW85:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.hot-search-wrp{margin-top:9px;width:220px;left:0;top:100%;visibility:hidden;opacity:0;border-radius:4px;z-index:999}.hot-search-wrp,.hot-search-wrp:before{position:absolute;background-color:#fff;box-shadow:0 0 8px rgba(0,0,0,.2)}.hot-search-wrp:before{content:"";left:27px;width:10px;height:10px;transform:rotate(45deg);top:-5px;z-index:-1}.hot-search-wrp .hot-search{border-bottom:1px solid #f0f0f0}.hot-search-wrp .search-recent{padding:10px 15px}',""])},cVAr:function(t,e,n){"use strict";n.r(e);var i=(n("tpIM"),n("KHd+")),r=Object(i.a)({name:"Aside",mounted:function(){this.leftMenu||this.$router.push({path:"/base"})},data:function(){return{}}},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"aside aside-menu"},[e("router-link",{attrs:{tag:"li",to:"/base","active-class":"active"}},[e("a",{attrs:{href:"javascript:;"}},[e("div",{staticClass:"icon-wrp"},[e("i",{staticClass:"iconfont icon-duoxuan"})]),this._v(" "),e("span",[this._v("基础设置")])])]),this._v(" "),e("router-link",{attrs:{tag:"li",to:"/profile","active-class":"active"}},[e("a",{attrs:{href:"javascript:;"}},[e("div",{staticClass:"icon-wrp"},[e("i",{staticClass:"iconfont icon-ziliao"})]),e("span",[this._v("个人资料")])])]),this._v(" "),e("router-link",{attrs:{tag:"li",to:"/reward","active-class":"active"}},[e("a",{attrs:{href:"javascript:;"}},[e("div",{staticClass:"icon-wrp"},[e("i",{staticClass:"iconfont icon-jinqian1"})]),e("span",[this._v("赞赏设置")])])])],1)},[],!1,null,"060c3e4d",null);e.default=r.exports},cf8e:function(t,e,n){"use strict";var i=n("tLTf");n.n(i).a},cffh:function(t,e,n){"use strict";var i=n("M4/I");n.n(i).a},d0jA:function(t,e,n){"use strict";var i=n("AnCm");n.n(i).a},dKsS:function(t,e,n){"use strict";var i=n("UVSc");n.n(i).a},dLnp:function(t,e,n){var i=n("qyP9");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},dMPS:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".title>h4{color:#d0d0d6;font-weight:600;padding-left:20px;margin:15px 0}.title .recommend,.title>h4{font-size:17px;display:inline-block}.title .recommend{font-weight:300;margin:10px 0 20px 15px;line-height:25px;color:#515151}.title .font{float:right;margin-top:10px;margin-right:15px;color:#969696}.title .font .icon-shuaxin{font-size:14px;display:inline-block;vertical-align:middle;margin:-2px 5px 0 0;transition:all .5s ease-in-out}.title .font:hover{color:#d96a5f}.video-list{padding:5px 0 14px 20px}.video-list .video-item .link{display:flex;align-items:center;width:100%}.video-list .video-item .link .cover{width:42%;height:101px;float:left;display:inline-block;position:relative;overflow:hidden;background-color:#000}.video-list .video-item .link .cover:hover img{transform:scale(1.1);transition:all .3s ease-in-out}.video-list .video-item .link .cover:hover .hover-play{opacity:1;transform:scale(.8);transition:all .3s ease-in-out}.video-list .video-item .link .cover .hover-play{background:url(/images/play-icon.png) no-repeat;font-size:14px;color:#777;font-weight:400;position:absolute;top:50%;left:50%}.video-list .video-item .link .cover img{width:100%;background-color:#000}.video-list .video-item .link .cover .duration{position:absolute;left:4px;bottom:8px;padding:0 6px;height:16px;line-height:16px;font-size:12px;color:#fff;background-color:rgba(0,0,0,.4);border-radius:2px}.video-list .video-item .link .info{width:57%;padding:0 5%;float:right;display:inline-block;height:101px}.video-list .video-item .link .info:hover .recommend-video-title{color:#d96a5f!important}.video-list .video-item .link .info .recommend-video-title{color:#d0d0d6;font-size:14px;line-height:20px;max-height:40px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis}.video-list .video-item .link .info .amount{white-space:nowrap;font-size:12px;color:#969696}",""])},dPPg:function(t,e,n){"use strict";var i=n("DzuU");n.n(i).a},dUOy:function(t,e,n){var i=n("r1kk");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"dx/d":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.form-box{display:inline-block}.hot-search-wrp{margin-top:9px;width:220px;left:0;top:100%;visibility:hidden;opacity:0;border-radius:4px;z-index:999}.hot-search-wrp,.hot-search-wrp:before{position:absolute;background-color:#fff;box-shadow:0 0 8px rgba(0,0,0,.2)}.hot-search-wrp:before{content:"";left:27px;width:10px;height:10px;transform:rotate(45deg);top:-5px;z-index:-1}.hot-search-wrp .hot-search{border-bottom:1px solid #f0f0f0}.hot-search-wrp .search-recent{padding:10px 15px}',""])},eT5e:function(t,e,n){var i=n("iIoO");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},endd:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},eqyj:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},evwa:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".aside[data-v-6ef40d02]{border-right:1px solid #f0f0f0}.aside .change-type[data-v-6ef40d02]{margin-left:20px;font-size:15px;color:#252525}.aside .change-type i[data-v-6ef40d02]{margin-left:5px;color:#c8c8c8}.aside .dropdown-menu[data-v-6ef40d02]{width:130px}.aside .dropdown-menu a[data-v-6ef40d02]{text-align:center}.aside .add-people[data-v-6ef40d02]{float:right;margin-right:6px;font-size:13px;color:#252525}.aside .add-people i[data-v-6ef40d02]{margin-right:4px}.aside .active-add-people .add-people[data-v-6ef40d02]{color:#d96a5f}.aside .follow-list[data-v-6ef40d02]{margin-top:7px;border-top:1px solid #f0f0f0}.aside .follow-list li.active[data-v-6ef40d02]{background-color:#f0f0f0;border-radius:4px 0 0 4px}.aside .follow-list li[data-v-6ef40d02]:first-child{border-radius:0 0 0 4px}.aside .follow-list li .follow-warp[data-v-6ef40d02]{position:relative;height:auto;padding:10px 20px;line-height:30px;display:block;font-size:15px;color:#252525}.aside .follow-list li .follow-warp .avatar[data-v-6ef40d02],.aside .follow-list li .follow-warp .avatar-category[data-v-6ef40d02]{width:40px;height:40px}.aside .follow-list li .follow-warp i[data-v-6ef40d02]{margin-right:15px;font-size:22px;color:#d96a5f;vertical-align:middle}.aside .follow-list li .follow-warp .name[data-v-6ef40d02]{display:inline-block;vertical-align:middle;max-width:150px}.aside .follow-list li .follow-warp .count[data-v-6ef40d02]{float:right;margin-top:4px;font-size:14px;color:#969696}.aside .follow-list li[data-v-6ef40d02]:hover{background-color:#f0f0f0}@media screen and (max-width:768px){.aside .change-type[data-v-6ef40d02]{margin:0}.aside .follow-list li .follow-warp[data-v-6ef40d02]{padding:10px 0 0;text-align:center}.aside .follow-list li .follow-warp .avatar[data-v-6ef40d02],.aside .follow-list li .follow-warp .avatar-category[data-v-6ef40d02]{display:block;width:auto;height:auto;margin-right:0}.aside .follow-list li .follow-warp .avatar-category img[data-v-6ef40d02],.aside .follow-list li .follow-warp .avatar img[data-v-6ef40d02]{width:40px;height:40px}.aside .follow-list li .follow-warp .name[data-v-6ef40d02]{display:block;width:auto}.aside .dropdown-menu[data-v-6ef40d02]{width:70px;min-width:70px}.aside .dropdown-menu li[data-v-6ef40d02]{margin-bottom:10px}.aside .dropdown-menu li .link[data-v-6ef40d02]{padding:10px 0!important;text-align:center}}",""])},ewZ9:function(t,e,n){"use strict";var i=n("ywjp");n.n(i).a},"f+yM":function(t,e,n){"use strict";n.r(e);var i=n("fkIY"),r=n.n(i),a={name:"Editor",props:["placeholder","name","value","picture","video","write","focus","autosave"],computed:{placeholderText:function(){return this.placeholder?this.placeholder:"请开始您的写作..."}},updated:function(){void 0!==this.write?(this.editor.setValue(this.value),this.$emit("changed",this.value)):this.editor.setValue(this.editor_value)},data:function(){return{editor_value:"",value_draft:"",draftShow:!1,textareaId:(new Date).getTime(),editor:null,toolbar:["title","bold","ol","ul","blockquote","hr","link","|","image","picture"]}},mounted:function(){this.loadEditor()},methods:{loadEditor:function(){var t=this;void 0!==this.picture&&this.toolbar.push("picture"),void 0!==this.video&&this.toolbar.push("video"),void 0!==this.write&&(this.toolbar.push("save"),this.toolbar.push("publish")),this.editor=new r.a({textarea:$("#"+t.textareaId),toolbar:t.toolbar,toolbarFloat:!0,upload:{url:window.tokenize("/api/image"),params:{from:"simditor"},fileKey:"photo",connectionCount:10,fileSize:4096e4,leaveConfirm:"正在上传文件"},pasteImage:!0,tabIndent:!0,allowedTags:["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],allowedAttributes:{img:["src","alt","width","height","data-non-image"],a:["href","target"],font:["color"],code:["class"]},allowedStyles:{span:["color"],b:["color"],i:["color"],strong:["color"],strike:["color"],u:["color"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},cleanPaste:!1}),this.editor.on("imageuploaded",function(e,n){window.$bus.$emit("imageuploaded",t.editor.getValue())}),this.editor.on("valuechanged",function(e,n){t.$emit("changed",t.editor.getValue())}),this.editor.on("imgpicked",function(e,n){t.$emit("changed",t.editor.getValue()),t.$emit("imgpicked",t.editor.getValue())}),this.editor.on("promptdraft",function(e,n){t.value_draft=n.draft,t.draftShow=!t.draftShow}),void 0!==this.write&&(this.editor.on("blur",function(e,n){t.$emit("blur",t.editor.getValue())}),this.editor.on("saved",function(e,n){t.$emit("saved",t.editor.getValue()),t.editor.focus()}),this.editor.on("published",function(e,n){t.$emit("published",t.editor.getValue()),t.editor.focus()}))},yesClick:function(){this.draftShow=!this.draftShow,this.editor_value=this.value_draft},noClick:function(){this.draftShow=!this.draftShow,this.editor_value=""}}},o=(n("9lkz"),n("KHd+")),s=Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"simditor-box"},[t._t("default"),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.draftShow,expression:"draftShow"}],staticClass:"alert alert-success"},[t._v("\n    你要恢复未保存的草稿吗\n    "),n("span",{staticClass:"btn yes",on:{click:t.yesClick}},[t._v("yes")]),t._v(" "),n("span",{staticClass:"btn no",on:{click:t.noClick}},[t._v("no")])]),t._v(" "),n("textarea",{attrs:{id:t.textareaId,name:t.name,placeholder:t.placeholderText,autofocus:"autofocus","data-autosave":t.autosave?"editor-content":null}},[t._v("          "+t._s(t.value)+"\n      ")])],2)},[],!1,null,null,null);e.default=s.exports},f9ys:function(t,e,n){"use strict";n.r(e);var i={name:"CloseShare",props:[],mounted:function(){},methods:{CloseModule:function(){$("#pageLayout").css("display","none"),$(".share-module ").animate({bottom:"-195px"})}},data:function(){return{}}},r=(n("qI1G"),n("KHd+")),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module-share-btn",on:{click:this.CloseModule}},[e("span",{staticClass:"module-share-cancel"},[this._v("取消")])])},[],!1,null,"45c6ab24",null);e.default=a.exports},fVYD:function(t,e,n){"use strict";var i=n("ASWn");n.n(i).a},feDh:function(t,e,n){"use strict";n.r(e);var i={name:"VideoList",props:["api","startPage","isDesktop"],watch:{api:function(t){this.clear(),this.fetchData()}},computed:{apiUrl:{get:function(){var t=this.page,e=this.api?this.api:this.apiDefault,n=-1!==e.indexOf("?")?e+"&page="+t:e+"?page="+t;return 0==t&&(n+="&stick=true"),n}}},mounted:function(){this.listenScrollBotton(),this.fetchData(),this.loadData()},methods:{clear:function(){this.posts=[]},listenScrollBotton:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page,this.lastPage>0&&this.page>this.lastPage?console.log("已经到底了"):this.fetchData()},fetchData:function(){var t=this;window.axios.get(this.apiUrl).then(function(e){t.posts=t.posts.concat(e.data.data),t.lastPage=e.data.lastPage})},loadData:function(){this.posts.length<1&&(++this.page,this.fetchData())}},data:function(){return{apiDefault:"",page:this.startPage?this.startPage:0,lastPage:-1,posts:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-box"},[t._m(0),t._v(" "),n("div",{staticClass:"box-body"},[n("ul",{staticClass:"game-video-list"},t._l(t.posts,function(e){return n("li",{key:e.id,staticClass:"game-video-item"},[n("a",{staticClass:"video-info",attrs:{href:"/video/"+e.video.id,target:t.isDesktop?"_blank":"_self"}},[n("img",{staticClass:"video-photo",attrs:{src:e.cover}}),t._v(" "),n("i",{staticClass:"hover-play"})]),t._v(" "),n("a",{staticClass:"video-title",attrs:{href:"/video/"+e.video.id,target:t.isDesktop?"_blank":"_self"}},[t._v(t._s(e.content))]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"user",attrs:{href:"/user/"+e.user.id}},[n("img",{staticClass:"avatar",attrs:{src:e.user.avatar}}),t._v(" "),n("span",[t._v(t._s(e.user.name))])]),t._v(" "),n("div",{staticClass:"num"},[n("i",{staticClass:"iconfont icon-liulan"},[t._v(" "+t._s(e.hits))]),t._v(" "),e.count_comments>0?n("i",{staticClass:"iconfont icon-svg37"},[t._v(" "+t._s(e.count_replies))]):n("i",{staticClass:"iconfont icon-svg37"},[t._v(" 0")])])])])}),0)]),t._v(" "),n("a",{staticClass:"btn-base btn-more",attrs:{href:"javascript:;"}},[t._v("\n        "+t._s(t.page>=t.lastPage?"已经到底了":"正在加载更多")+"\n    ")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-top"},[e("div",{staticClass:"top-left"},[e("i",{staticClass:"iconfont icon-fabulous"}),this._v(" "),e("a",{attrs:{href:"/"}},[e("p",{staticClass:"title"},[this._v("更多推荐")])])])])}],!1,null,"aaa556c0",null);e.default=a.exports},fkIY:function(t,e,n){var i,r,a;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=this,i=[n("EVdn"),n("NRn6"),n("wyAJ"),n("S1ry")],void 0===(r=function(t,e,n,i){return a.Simditor=function(t,e,n,i){var r,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,T,k,C,E,S,A,R,L,D,O,I,P,N,M,F,j,B=function(t,e){for(var n in e)U.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},U={}.hasOwnProperty,$=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},q=[].slice;R=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Selection",n.prototype._range=null,n.prototype._startNodes=null,n.prototype._endNodes=null,n.prototype._containerNode=null,n.prototype._nodes=null,n.prototype._blockNodes=null,n.prototype._rootNodes=null,n.prototype._init=function(){var t;return this.editor=this._module,this._selection=document.getSelection(),this.editor.on("selectionchanged",(t=this,function(e){return t.reset(),t._range=t._selection.getRangeAt(0)})),this.editor.on("blur",function(t){return function(e){return t.reset()}}(this))},n.prototype.reset=function(){return this._range=null,this._startNodes=null,this._endNodes=null,this._containerNode=null,this._nodes=null,this._blockNodes=null,this._rootNodes=null},n.prototype.clear=function(){try{this._selection.removeAllRanges()}catch(t){}return this.reset()},n.prototype.range=function(t){var e;return t?(this.clear(),this._selection.addRange(t),this._range=t,e=this.editor.util.browser.firefox||this.editor.util.browser.msie,!this.editor.inputManager.focused&&e&&this.editor.body.focus()):!this._range&&this.editor.inputManager.focused&&this._selection.rangeCount&&(this._range=this._selection.getRangeAt(0)),this._range},n.prototype.startNodes=function(){var e;return this._range&&(this._startNodes||(this._startNodes=(e=this,function(){var n;return(n=t(e._range.startContainer).parentsUntil(e.editor.body).get()).unshift(e._range.startContainer),t(n)})())),this._startNodes},n.prototype.endNodes=function(){var e;return this._range&&(this._endNodes||(this._endNodes=this._range.collapsed?this.startNodes():((e=t(this._range.endContainer).parentsUntil(this.editor.body).get()).unshift(this._range.endContainer),t(e)))),this._endNodes},n.prototype.containerNode=function(){return this._range&&(this._containerNode||(this._containerNode=t(this._range.commonAncestorContainer))),this._containerNode},n.prototype.nodes=function(){var e;return this._range&&(this._nodes||(this._nodes=(e=this,function(){var n;return n=[],e.startNodes().first().is(e.endNodes().first())?n=e.startNodes().get():(e.startNodes().each(function(i,r){var a,o,s,l,c,u,d;return o=t(r),e.endNodes().index(o)>-1?n.push(r):o.parent().is(e.editor.body)||(u=e.endNodes().index(o.parent()))>-1?(a=u&&u>-1?e.endNodes().eq(u-1):e.endNodes().last(),d=(s=o.parent().contents()).index(o),l=s.index(a),t.merge(n,s.slice(d,l).get())):(c=(s=o.parent().contents()).index(o),t.merge(n,s.slice(c).get()))}),e.endNodes().each(function(i,r){var a,o,s;return(a=t(r)).parent().is(e.editor.body)||e.startNodes().index(a.parent())>-1?(n.push(r),!1):(s=(o=a.parent().contents()).index(a),t.merge(n,o.slice(0,s+1)))})),t(t.unique(n))})())),this._nodes},n.prototype.blockNodes=function(){var t;if(this._range)return this._blockNodes||(this._blockNodes=(t=this,function(){return t.nodes().filter(function(e,n){return t.editor.util.isBlockNode(n)})})()),this._blockNodes},n.prototype.rootNodes=function(){var e;if(this._range)return this._rootNodes||(this._rootNodes=(e=this,function(){return e.nodes().filter(function(n,i){var r;return(r=t(i).parent()).is(e.editor.body)||r.is("blockquote")})})()),this._rootNodes},n.prototype.rangeAtEndOf=function(e,n){var i,r,a,o,s,l;if(null==n&&(n=this.range()),n&&n.collapsed)return e=t(e)[0],a=n.endContainer,o=this.editor.util.getNodeLength(a),r=n.endOffset===o-1,s=t(a).contents().last().is("br"),i=n.endOffset===o,!!(r&&s||i)&&(e===a||!!t.contains(e,a)&&(l=!0,t(a).parentsUntil(e).addBack().each(function(e,n){var i,r,a;if(a=(i=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}).last()).get(0)===n,r=i.is("br")&&i.prev().get(0)===n,!a&&!r)return l=!1,!1}),l))},n.prototype.rangeAtStartOf=function(e,n){var i,r;if(null==n&&(n=this.range()),n&&n.collapsed)return e=t(e)[0],r=n.startContainer,0===n.startOffset&&(e===r||!!t.contains(e,r)&&(i=!0,t(r).parentsUntil(e).addBack().each(function(e,n){if(t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}).first().get(0)!==n)return i=!1}),i))},n.prototype.insertNode=function(e,n){if(null==n&&(n=this.range()),n)return e=t(e)[0],n.insertNode(e),this.setRangeAfter(e,n)},n.prototype.setRangeAfter=function(e,n){if(null==n&&(n=this.range()),null!=n)return e=t(e)[0],n.setEndAfter(e),n.collapse(!1),this.range(n)},n.prototype.setRangeBefore=function(e,n){if(null==n&&(n=this.range()),null!=n)return e=t(e)[0],n.setEndBefore(e),n.collapse(!1),this.range(n)},n.prototype.setRangeAtStartOf=function(e,n){return null==n&&(n=this.range()),e=t(e).get(0),n.setEnd(e,0),n.collapse(!1),this.range(n)},n.prototype.setRangeAtEndOf=function(e,n){var i,r,a,o,s,l,c;return null==n&&(n=this.range()),e=(r=t(e))[0],r.is("pre")?(a=r.contents()).length>0?(l=(o=a.last()).text(),s=this.editor.util.getNodeLength(o[0]),"\n"===l.charAt(l.length-1)?n.setEnd(o[0],s-1):n.setEnd(o[0],s)):n.setEnd(e,0):(c=this.editor.util.getNodeLength(e),3!==e.nodeType&&c>0&&((i=t(e).contents().last()).is("br")?c-=1:3!==i[0].nodeType&&this.editor.util.isEmptyNode(i)&&(i.append(this.editor.util.phBr),e=i[0],c=0)),n.setEnd(e,c)),n.collapse(!1),this.range(n)},n.prototype.deleteRangeContents=function(t){var e,n,i,r;return null==t&&(t=this.range()),r=t.cloneRange(),i=t.cloneRange(),r.collapse(!0),i.collapse(!1),n=this.rangeAtStartOf(this.editor.body,r),e=this.rangeAtEndOf(this.editor.body,i),!t.collapsed&&n&&e?(this.editor.body.empty(),t.setStart(this.editor.body[0],0),t.collapse(!0),this.range(t)):t.deleteContents(),t},n.prototype.breakBlockEl=function(e,n){var i;return null==n&&(n=this.range()),i=t(e),n.collapsed?(n.setStartBefore(i.get(0)),n.collapsed?i:i.before(n.extractContents())):i},n.prototype.save=function(e){var n,i,r;if(null==e&&(e=this.range()),!this._selectionSaved)return(i=e.cloneRange()).collapse(!1),r=t("<span/>").addClass("simditor-caret-start"),n=t("<span/>").addClass("simditor-caret-end"),i.insertNode(n[0]),e.insertNode(r[0]),this.clear(),this._selectionSaved=!0},n.prototype.restore=function(){var t,e,n,i,r,a,o;return!!this._selectionSaved&&(r=this.editor.body.find(".simditor-caret-start"),t=this.editor.body.find(".simditor-caret-end"),r.length&&t.length?(o=(a=r.parent()).contents().index(r),n=(e=t.parent()).contents().index(t),a[0]===e[0]&&(n-=1),(i=document.createRange()).setStart(a.get(0),o),i.setEnd(e.get(0),n),r.remove(),t.remove(),this.range(i)):(r.remove(),t.remove()),this._selectionSaved=!1,i)},n}(e),h=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Formatter",n.prototype.opts={allowedTags:[],allowedAttributes:{},allowedStyles:{}},n.prototype._init=function(){return this.editor=this._module,this._allowedTags=t.merge(["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],this.opts.allowedTags),this._allowedAttributes=t.extend({img:["src","alt","width","height","data-non-image"],a:["href","target"],font:["color"],code:["class"]},this.opts.allowedAttributes),this._allowedStyles=t.extend({span:["color","font-size"],b:["color"],i:["color"],strong:["color"],strike:["color"],u:["color"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},this.opts.allowedStyles),this.editor.body.on("click","a",function(t){return!1})},n.prototype.decorate=function(t){return null==t&&(t=this.editor.body),this.editor.trigger("decorate",[t]),t},n.prototype.undecorate=function(t){return null==t&&(t=this.editor.body.clone()),this.editor.trigger("undecorate",[t]),t},n.prototype.autolink=function(e){var n,i,r,a,o,s,l,c,u,d,f,p,h;for(null==e&&(e=this.editor.body),l=[],(r=function(n){return n.contents().each(function(n,i){var a,o;if(!(a=t(i)).is("a")&&!a.closest("a, pre",e).length)return!a.is("iframe")&&a.contents().length?r(a):(o=a.text())&&/https?:\/\/|www\./gi.test(o)?l.push(a):void 0})})(e),u=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/gi,a=0,s=l.length;a<s;a++){for(p=(i=l[a]).text(),d=[],c=null,o=0;null!==(c=u.exec(p));)f=p.substring(o,c.index),d.push(document.createTextNode(f)),o=u.lastIndex,h=/^(http(s)?:\/\/|\/)/.test(c[0])?c[0]:"http://"+c[0],n=t('<a href="'+h+'" rel="nofollow"></a>').text(c[0]),d.push(n[0]);d.push(document.createTextNode(p.substring(o))),i.replaceWith(t(d))}return e},n.prototype.format=function(e){var n,i,r,a,o,s,l,c,u,d;if(null==e&&(e=this.editor.body),e.is(":empty"))return e.append("<p>"+this.editor.util.phBr+"</p>"),e;for(r=0,o=(u=e.contents()).length;r<o;r++)l=u[r],this.cleanNode(l,!0);for(a=0,s=(d=e.contents()).length;a<s;a++)c=d[a],(n=t(c)).is("br")?(null!=i&&(i=null),n.remove()):this.editor.util.isBlockNode(c)?n.is("li")?i&&i.is("ul, ol")?i.append(c):(i=t("<ul/>").insertBefore(c)).append(c):i=null:(i&&!i.is("ul, ol")||(i=t("<p/>").insertBefore(c)),i.append(c),this.editor.util.isEmptyNode(i)&&i.append(this.editor.util.phBr));return e},n.prototype.cleanNode=function(e,n){var i,r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_;if((a=t(e)).length>0){if(3!==a[0].nodeType){if(u=a.is("iframe")?null:a.contents(),d=this.editor.util.isDecoratedNode(a),a.is(this._allowedTags.join(","))||d){if(a.is("a")&&(r=a.find("img")).length>0&&(a.replaceWith(r),a=r,u=null),a.is("td")&&(i=a.find(this.editor.util.blockNodes.join(","))).length>0&&(i.each(function(e,n){return t(n).contents().unwrap()}),u=a.contents()),a.is("img")&&a.hasClass("uploading")&&a.remove(),!d){for(l=this._allowedAttributes[a[0].tagName.toLowerCase()],f=0,h=(v=t.makeArray(a[0].attributes)).length;f<h;f++)"style"!==(c=v[f]).name&&(null!=l&&(y=c.name,$.call(l,y)>=0)||a.removeAttr(c.name));this._cleanNodeStyles(a),a.is("span")&&0===a[0].attributes.length&&a.contents().first().unwrap()}}else 1!==a[0].nodeType||a.is(":empty")?(a.remove(),u=null):a.is("div, article, dl, header, footer, tr")?(a.append("<br/>"),u.first().unwrap()):a.is("table")?(o=t("<p/>"),a.find("tr").each(function(e,n){return o.append(t(n).text()+"<br/>")}),a.replaceWith(o),u=null):a.is("thead, tfoot")?(a.remove(),u=null):a.is("th")?(s=t("<td/>").append(a.contents()),a.replaceWith(s)):u.first().unwrap();if(n&&null!=u&&!a.is("pre"))for(p=0,m=u.length;p<m;p++)g=u[p],this.cleanNode(g,!0);return null}(b=a.text().replace(/(\r\n|\n|\r)/gm,""))?(_=document.createTextNode(b),a.replaceWith(_)):a.remove()}},n.prototype._cleanNodeStyles=function(e){var n,i,r,a,o,s,l,c,u;if(c=e.attr("style")){if(e.removeAttr("style"),!((n=this._allowedStyles[e[0].tagName.toLowerCase()])&&n.length>0))return e;for(u={},i=0,r=(o=c.split(";")).length;i<r;i++)l=o[i],((a=(l=t.trim(l)).split(":")).length=2)&&(s=a[0],$.call(n,s)>=0&&(u[t.trim(a[0])]=t.trim(a[1])));return Object.keys(u).length>0&&e.css(u),e}},n.prototype.clearHtml=function(e,n){var i,r,a,o;return null==n&&(n=!0),i=t("<div/>").append(e),r=i.contents(),a="",r.each((o=this,function(e,i){var s,l;return 3===i.nodeType?a+=i.nodeValue:1===i.nodeType&&((l=(s=t(i)).is("iframe")?null:s.contents())&&l.length>0&&(a+=o.clearHtml(l)),n&&e<r.length-1&&s.is("br, p, div, li,tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2,h3, h4, header"))?a+="\n":void 0})),a},n.prototype.beautify=function(e){var n;return n=function(t){return!!(t.is("p")&&!t.text()&&t.children(":not(br)").length<1)},e.each(function(e,i){var r;return((r=t(i)).is(':not(img, br, col, td, hr, [class^="simditor-"]):empty')||n(r))&&r.remove(),r.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()})},n}(e),_=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="InputManager",n.prototype._modifierKeys=[16,17,18,91,93,224],n.prototype._arrowKeys=[37,38,39,40],n.prototype._init=function(){var e,n,i;return this.editor=this._module,this.throttledValueChanged=this.editor.util.throttle((i=this,function(t){return setTimeout(function(){return i.editor.trigger("valuechanged",t)},10)}),300),this.throttledSelectionChanged=this.editor.util.throttle(function(t){return function(){return t.editor.trigger("selectionchanged")}}(this),50),t(document).on("selectionchange.simditor"+this.editor.id,function(t){return function(e){var n;if(t.focused&&!t.editor.clipboard.pasting)return(n=function(){return t._selectionTimer&&(clearTimeout(t._selectionTimer),t._selectionTimer=null),t.editor.selection._selection.rangeCount>0?t.throttledSelectionChanged():t._selectionTimer=setTimeout(function(){if(t._selectionTimer=null,t.focused)return n()},10)})()}}(this)),this.editor.on("valuechanged",function(e){return function(){var n;if(e.lastCaretPosition=null,n=e.editor.body.children().filter(function(t,n){return e.editor.util.isBlockNode(n)}),e.focused&&0===n.length&&(e.editor.selection.save(),e.editor.formatter.format(),e.editor.selection.restore()),e.editor.body.find("hr, pre, .simditor-table").each(function(n,i){var r,a;if(((r=t(i)).parent().is("blockquote")||r.parent()[0]===e.editor.body[0])&&(a=!1,0===r.next().length&&(t("<p/>").append(e.editor.util.phBr).insertAfter(r),a=!0),0===r.prev().length&&(t("<p/>").append(e.editor.util.phBr).insertBefore(r),a=!0),a))return e.throttledValueChanged()}),e.editor.body.find("pre:empty").append(e.editor.util.phBr),!e.editor.util.support.onselectionchange&&e.focused)return e.throttledSelectionChanged()}}(this)),this.editor.body.on("keydown",t.proxy(this._onKeyDown,this)).on("keypress",t.proxy(this._onKeyPress,this)).on("keyup",t.proxy(this._onKeyUp,this)).on("mouseup",t.proxy(this._onMouseUp,this)).on("focus",t.proxy(this._onFocus,this)).on("blur",t.proxy(this._onBlur,this)).on("drop",t.proxy(this._onDrop,this)).on("input",t.proxy(this._onInput,this)),this.editor.util.browser.firefox&&(this.editor.hotkeys.add("cmd+left",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","backward","lineboundary"),!1}}(this)),this.editor.hotkeys.add("cmd+right",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","forward","lineboundary"),!1}}(this)),e=this.editor.util.os.mac?"cmd+a":"ctrl+a",this.editor.hotkeys.add(e,function(t){return function(e){var n,i,r,a;if((n=t.editor.body.children()).length>0)return i=n.first().get(0),r=n.last().get(0),(a=document.createRange()).setStart(i,0),a.setEnd(r,t.editor.util.getNodeLength(r)),t.editor.selection.range(a),!1}}(this))),n=this.editor.util.os.mac?"cmd+enter":"ctrl+enter",this.editor.hotkeys.add(n,function(t){return function(e){return t.editor.el.closest("form").find("button:submit").click(),!1}}(this))},n.prototype._onFocus=function(t){var e;if(!this.editor.clipboard.pasting)return this.editor.el.addClass("focus").removeClass("error"),this.focused=!0,setTimeout((e=this,function(){var t,n;if((n=e.editor.selection._selection.getRangeAt(0)).startContainer===e.editor.body[0]&&(e.lastCaretPosition?e.editor.undoManager.caretPosition(e.lastCaretPosition):(t=e.editor.body.children().first(),n=document.createRange(),e.editor.selection.setRangeAtStartOf(t,n))),e.lastCaretPosition=null,e.editor.triggerHandler("focus"),!e.editor.util.support.onselectionchange)return e.throttledSelectionChanged()}),0)},n.prototype._onBlur=function(t){var e;if(!this.editor.clipboard.pasting)return this.editor.el.removeClass("focus"),this.editor.sync(),this.focused=!1,this.lastCaretPosition=null!=(e=this.editor.undoManager.currentState())?e.caret:void 0,this.editor.triggerHandler("blur")},n.prototype._onMouseUp=function(t){if(!this.editor.util.support.onselectionchange)return this.throttledSelectionChanged()},n.prototype._onKeyDown=function(t){var e,n;if(!1===this.editor.triggerHandler(t))return!1;if(!this.editor.hotkeys.respondTo(t)){if(this.editor.keystroke.respondTo(t))return this.throttledValueChanged(),!1;if(e=t.which,!($.call(this._modifierKeys,e)>=0||(n=t.which,$.call(this._arrowKeys,n)>=0)||this.editor.util.metaKey(t)&&86===t.which))return this.editor.util.support.oninput||this.throttledValueChanged(["typing"]),null}},n.prototype._onKeyPress=function(t){if(!1===this.editor.triggerHandler(t))return!1},n.prototype._onKeyUp=function(e){var n,i;if(!1===this.editor.triggerHandler(e))return!1;!this.editor.util.support.onselectionchange&&(i=e.which,$.call(this._arrowKeys,i)>=0)?this.throttledValueChanged():8!==e.which&&46!==e.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),n=t("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(n))},n.prototype._onDrop=function(t){return!1!==this.editor.triggerHandler(t)&&this.throttledValueChanged()},n.prototype._onInput=function(t){return this.throttledValueChanged(["oninput"])},n}(e),x=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Keystroke",n.prototype._init=function(){return this.editor=this._module,this._keystrokeHandlers={},this._initKeystrokeHandlers()},n.prototype.add=function(t,e,n){return t=t.toLowerCase(),t=this.editor.hotkeys.constructor.aliases[t]||t,this._keystrokeHandlers[t]||(this._keystrokeHandlers[t]={}),this._keystrokeHandlers[t][e]=n},n.prototype.respondTo=function(e){var n,i,r,a,o;if(i=null!=(r=this.editor.hotkeys.constructor.keyNameMap[e.which])?r.toLowerCase():void 0)return!!(i in this._keystrokeHandlers&&((a="function"==typeof(n=this._keystrokeHandlers[i])["*"]?n["*"](e):void 0)||this.editor.selection.startNodes().each((o=this,function(n,r){var s,l;if(r.nodeType===Node.ELEMENT_NODE)return s=null!=(l=o._keystrokeHandlers[i])?l[r.tagName.toLowerCase()]:void 0,!0!==(a="function"==typeof s?s(e,t(r)):void 0)&&!1!==a&&void 0})),a))||void 0},n.prototype._initKeystrokeHandlers=function(){var e,n;return this.editor.util.browser.safari&&this.add("enter","*",(n=this,function(e){var i,r;if(e.shiftKey&&!(i=n.editor.selection.blockNodes().last()).is("pre"))return r=t("<br/>"),n.editor.selection.rangeAtEndOf(i)?(n.editor.selection.insertNode(r),n.editor.selection.insertNode(t("<br/>")),n.editor.selection.setRangeBefore(r)):n.editor.selection.insertNode(r),!0})),(this.editor.util.browser.webkit||this.editor.util.browser.msie)&&(e=function(e){return function(n,i){var r;if(e.editor.selection.rangeAtEndOf(i))return r=t("<p/>").append(e.editor.util.phBr).insertAfter(i),e.editor.selection.setRangeAtStartOf(r),!0}}(this),this.add("enter","h1",e),this.add("enter","h2",e),this.add("enter","h3",e),this.add("enter","h4",e),this.add("enter","h5",e),this.add("enter","h6",e)),this.add("backspace","*",function(t){return function(e){var n,i,r;return(i=(r=t.editor.selection.rootNodes().first()).prev()).is("hr")&&t.editor.selection.rangeAtStartOf(r)?(t.editor.selection.save(),i.remove(),t.editor.selection.restore(),!0):(n=t.editor.selection.blockNodes().last(),t.editor.util.browser.webkit&&t.editor.selection.rangeAtStartOf(n)?(t.editor.selection.save(),t.editor.formatter.cleanNode(n,!0),t.editor.selection.restore(),null):void 0)}}(this)),this.add("enter","li",function(e){return function(n,i){var r,a,o,s;if((r=i.clone()).find("ul, ol").remove(),e.editor.util.isEmptyNode(r)&&i.is(e.editor.selection.blockNodes().last())){if(a=i.parent(),i.next("li").length>0){if(!e.editor.util.isEmptyNode(i))return;a.parent("li").length>0?(o=t("<li/>").append(e.editor.util.phBr).insertAfter(a.parent("li")),s=t("<"+a[0].tagName+"/>").append(i.nextAll("li")),o.append(s)):(o=t("<p/>").append(e.editor.util.phBr).insertAfter(a),s=t("<"+a[0].tagName+"/>").append(i.nextAll("li")),o.after(s))}else a.parent("li").length>0?(o=t("<li/>").insertAfter(a.parent("li")),i.contents().length>0?o.append(i.contents()):o.append(e.editor.util.phBr)):(o=t("<p/>").append(e.editor.util.phBr).insertAfter(a),i.children("ul, ol").length>0&&o.after(i.children("ul, ol")));return i.prev("li").length?i.remove():a.remove(),e.editor.selection.setRangeAtStartOf(o),!0}}}(this)),this.add("enter","pre",function(e){return function(n,i){var r,a,o;return n.preventDefault(),n.shiftKey?(r=t("<p/>").append(e.editor.util.phBr).insertAfter(i),e.editor.selection.setRangeAtStartOf(r),!0):(a=null,(o=e.editor.selection.range()).deleteContents(),!e.editor.util.browser.msie&&e.editor.selection.rangeAtEndOf(i)?(a=document.createTextNode("\n\n"),o.insertNode(a),o.setEnd(a,1)):(a=document.createTextNode("\n"),o.insertNode(a),o.setStartAfter(a)),o.collapse(!1),e.editor.selection.range(o),!0)}}(this)),this.add("enter","blockquote",function(t){return function(e,n){var i,r;if((i=t.editor.selection.blockNodes().last()).is("p")&&!i.next().length&&t.editor.util.isEmptyNode(i))return n.after(i),r=document.createRange(),t.editor.selection.setRangeAtStartOf(i,r),!0}}(this)),this.add("backspace","li",function(e){return function(n,i){var r,a,o,s,l,c,u,d,f;return a=i.children("ul, ol"),l=i.prev("li"),a.length>0&&l.length>0&&(f="",c=null,i.contents().each(function(e,n){return(1!==n.nodeType||!/UL|OL/.test(n.nodeName))&&(1===n.nodeType&&/BR/.test(n.nodeName)?void 0:(3===n.nodeType&&n.nodeValue?f+=n.nodeValue:1===n.nodeType&&(f+=t(n).text()),c=t(n)))}),u=e.editor.util.browser.firefox&&!c.next("br").length,c&&1===f.length&&u?(r=t(e.editor.util.phBr).insertAfter(c),c.remove(),e.editor.selection.setRangeBefore(r),!0):!(f.length>0||(d=document.createRange(),(s=l.children("ul, ol")).length>0?(o=t("<li/>").append(e.editor.util.phBr).appendTo(s),s.append(a.children("li")),i.remove(),e.editor.selection.setRangeAtEndOf(o,d)):(e.editor.selection.setRangeAtEndOf(l,d),l.append(a),i.remove(),e.editor.selection.range(d)),0)))}}(this)),this.add("backspace","pre",function(e){return function(n,i){var r,a,o;if(e.editor.selection.rangeAtStartOf(i))return a=i.html().replace("\n","<br/>")||e.editor.util.phBr,r=t("<p/>").append(a).insertAfter(i),i.remove(),o=document.createRange(),e.editor.selection.setRangeAtStartOf(r,o),!0}}(this)),this.add("backspace","blockquote",function(t){return function(e,n){var i,r;if(t.editor.selection.rangeAtStartOf(n))return i=n.children().first().unwrap(),r=document.createRange(),t.editor.selection.setRangeAtStartOf(i,r),!0}}(this))},n}(e),M=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="UndoManager",n.prototype._index=-1,n.prototype._capacity=20,n.prototype._startPosition=null,n.prototype._endPosition=null,n.prototype._init=function(){var t,e,n;return this.editor=this._module,this._stack=[],this.editor.util.os.mac?(e="cmd+z",t="shift+cmd+z"):this.editor.util.os.win?(e="ctrl+z",t="ctrl+y"):(e="ctrl+z",t="shift+ctrl+z"),this.editor.hotkeys.add(e,(n=this,function(t){return t.preventDefault(),n.undo(),!1})),this.editor.hotkeys.add(t,function(t){return function(e){return e.preventDefault(),t.redo(),!1}}(this)),this.throttledPushState=this.editor.util.throttle(function(t){return function(){return t._pushUndoState()}}(this),2e3),this.editor.on("valuechanged",function(t){return function(e,n){if("undo"!==n&&"redo"!==n)return t.throttledPushState()}}(this)),this.editor.on("selectionchanged",function(t){return function(e){return t.resetCaretPosition(),t.update()}}(this)),this.editor.on("focus",function(t){return function(e){if(0===t._stack.length)return t._pushUndoState()}}(this)),this.editor.on("blur",function(t){return function(e){return t.resetCaretPosition()}}(this))},n.prototype.resetCaretPosition=function(){return this._startPosition=null,this._endPosition=null},n.prototype.startPosition=function(){return this.editor.selection._range&&(this._startPosition||(this._startPosition=this._getPosition("start"))),this._startPosition},n.prototype.endPosition=function(){var t;return this.editor.selection._range&&(this._endPosition||(this._endPosition=(t=this,function(){return t.editor.selection.range().collapsed?t._startPosition:t._getPosition("end")})())),this._endPosition},n.prototype._pushUndoState=function(){if(!1!==this.editor.triggerHandler("pushundostate")&&this.caretPosition().start)return this._index+=1,this._stack.length=this._index,this._stack.push({html:this.editor.body.html(),caret:this.caretPosition()}),this._stack.length>this._capacity?(this._stack.shift(),this._index-=1):void 0},n.prototype.currentState=function(){return this._stack.length&&this._index>-1?this._stack[this._index]:null},n.prototype.undo=function(){var t;if(!(this._index<1||this._stack.length<2))return this.editor.hidePopover(),this._index-=1,t=this._stack[this._index],this.editor.body.get(0).innerHTML=t.html,this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])},n.prototype.redo=function(){var t;if(!(this._index<0||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,t=this._stack[this._index],this.editor.body.get(0).innerHTML=t.html,this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["redo"])},n.prototype.update=function(){var t;if(t=this.currentState())return t.html=this.editor.body.html(),t.caret=this.caretPosition()},n.prototype._getNodeOffset=function(e,n){var i,r,a;return i=t.isNumeric(n)?t(e):t(e).parent(),a=0,r=!1,i.contents().each(function(t,i){return e!==i&&(n!==t||0!==t)&&(i.nodeType===Node.TEXT_NODE?!r&&i.nodeValue.length>0&&(a+=1,r=!0):(a+=1,r=!1),n-1!==t&&null)}),a},n.prototype._getPosition=function(e){var n,i,r,a,o,s,l;if(null==e&&(e="start"),a=this.editor.selection.range()[e+"Offset"],(i=(n=this.editor.selection[e+"Nodes"]()).first()[0]).nodeType===Node.TEXT_NODE){for(s=i.previousSibling;s&&s.nodeType===Node.TEXT_NODE;)i=s,a+=this.editor.util.getNodeLength(s),s=s.previousSibling;(r=n.get())[0]=i,n=t(r)}else a=this._getNodeOffset(i,a);return o=[a],n.each((l=this,function(t,e){return o.unshift(l._getNodeOffset(e))})),o},n.prototype._getNodeByPosition=function(e){var n,i,r,a,o,s,l,c;for(s=this.editor.body[0],r=a=0,o=(c=e.slice(0,e.length-1)).length;a<o;r=++a){if((l=c[r])>(i=s.childNodes).length-1){if(r!==e.length-2||!t(s).is("pre:empty")){s=null;break}n=document.createTextNode(""),s.appendChild(n),i=s.childNodes}s=i[l]}return s},n.prototype.caretPosition=function(t){var e,n,i,r,a;if(t){if(!t.start)return;return r=this._getNodeByPosition(t.start),a=t.start[t.start.length-1],t.collapsed?(e=r,n=a):(e=this._getNodeByPosition(t.end),n=t.start[t.start.length-1]),r&&e?((i=document.createRange()).setStart(r,a),i.setEnd(e,n),this.editor.selection.range(i)):void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("simditor: invalid caret state"))}return i=this.editor.selection.range(),this.editor.inputManager.focused&&null!=i?{start:this.startPosition(),end:this.endPosition(),collapsed:i.collapsed}:{}},n}(e),j=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}var i,r,a,o,s,l,c,u,d,f,p,h;return B(n,e),n.pluginName="Util",n.prototype._init=function(){if(this.editor=this._module,this.browser.msie&&this.browser.version<11)return this.phBr=""},n.prototype.phBr="<br/>",n.prototype.os=(i={},/Mac/.test(navigator.appVersion)?i.mac=!0:/Linux/.test(navigator.appVersion)?i.linux=!0:/Win/.test(navigator.appVersion)?i.win=!0:/X11/.test(navigator.appVersion)&&(i.unix=!0),/Mobi/.test(navigator.appVersion)&&(i.mobile=!0),i),n.prototype.browser=(h=navigator.userAgent,s=/(msie|trident)/i.test(h),r=/chrome|crios/i.test(h),p=/safari/i.test(h)&&!r,o=/firefox/i.test(h),a=/edge/i.test(h),s?{msie:!0,version:1*(null!=(l=h.match(/(msie |rv:)(\d+(\.\d+)?)/i))?l[2]:void 0)}:a?{edge:!0,webkit:!0,version:1*(null!=(c=h.match(/edge\/(\d+(\.\d+)?)/i))?c[1]:void 0)}:r?{webkit:!0,chrome:!0,version:1*(null!=(u=h.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?u[1]:void 0)}:p?{webkit:!0,safari:!0,version:1*(null!=(d=h.match(/version\/(\d+(\.\d+)?)/i))?d[1]:void 0)}:o?{mozilla:!0,firefox:!0,version:1*(null!=(f=h.match(/firefox\/(\d+(\.\d+)?)/i))?f[1]:void 0)}:{}),n.prototype.support={onselectionchange:function(){var t;if(void 0!==(t=document.onselectionchange))try{return document.onselectionchange=0,null===document.onselectionchange}catch(t){}finally{document.onselectionchange=t}return!1}(),oninput:!/(msie|trident)/i.test(navigator.userAgent)},n.prototype.reflow=function(e){return null==e&&(e=document),t(e)[0].offsetHeight},n.prototype.metaKey=function(t){return/Mac/.test(navigator.userAgent)?t.metaKey:t.ctrlKey},n.prototype.isEmptyNode=function(e){var n;return(n=t(e)).is(":empty")||!n.text()&&!n.find(":not(br, span, div)").length},n.prototype.isDecoratedNode=function(e){return t(e).is('[class^="simditor-"]')},n.prototype.blockNodes=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"],n.prototype.isBlockNode=function(e){return!(!(e=t(e)[0])||3===e.nodeType)&&new RegExp("^("+this.blockNodes.join("|")+")$").test(e.nodeName.toLowerCase())},n.prototype.getNodeLength=function(e){switch((e=t(e)[0]).nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},n.prototype.dataURLtoBlob=function(t){var e,n,i,r,a,o,s,l,c,u,d;if(a=(o=window.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}())&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,!((o||e)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;for(r=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),n=new ArrayBuffer(r.length),l=new Uint8Array(n),s=c=0,d=r.length;0<=d?c<=d:c>=d;s=0<=d?++c:--c)l[s]=r.charCodeAt(s);return u=t.split(",")[0].split(":")[1].split(";")[0],o?new Blob([a?l:n],{type:u}):((i=new e).append(n),i.getBlob(u))},n.prototype.throttle=function(t,e){var n,i,r,a,o,s,l;return a=0,l=0,r=n=o=null,i=function(){return l=0,a=+new Date,o=t.apply(r,n),r=null,n=null},(s=function(){var t;return r=this,n=arguments,t=new Date-a,l||(t>=e?i():l=setTimeout(i,e-t)),o}).clear=function(){if(l)return clearTimeout(l),i()},s},n.prototype.formatHTML=function(e){var n,i,r,a,o,s,l,c;for(o=/<(\/?)(.+?)(\/?)>/g,l="",r=0,i=null,s=function(t,e){return new Array(e+1).join(t)};null!==(a=o.exec(e));)a.isBlockNode=t.inArray(a[2],this.blockNodes)>-1,a.isStartTag="/"!==a[1]&&"/"!==a[3],a.isEndTag="/"===a[1]||"/"===a[3],n=i?i.index+i[0].length:0,(c=e.substring(n,a.index)).length>0&&t.trim(c)&&(l+=c),a.isBlockNode&&a.isEndTag&&!a.isStartTag&&(r-=1),a.isBlockNode&&a.isStartTag&&(i&&i.isBlockNode&&i.isEndTag||(l+="\n"),l+=s("  ",r)),l+=a[0],a.isBlockNode&&a.isEndTag&&(l+="\n"),a.isBlockNode&&a.isStartTag&&(r+=1),i=a;return t.trim(l)},n}(e),P=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Toolbar",n.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0},n.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'},n.prototype._init=function(){var e,n,i,r;if(this.editor=this._module,this.opts.toolbar)return t.isArray(this.opts.toolbar)||(this.opts.toolbar=["bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","|","link","image","|","indent","outdent"]),this._render(),this.list.on("click",function(t){return!1}),this.wrapper.on("mousedown",(r=this,function(t){return r.list.find(".menu-on").removeClass(".menu-on")})),t(document).on("mousedown.simditor"+this.editor.id,function(t){return function(e){return t.list.find(".menu-on").removeClass(".menu-on")}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.css("top",this.opts.toolbarFloatOffset),i=0,n=function(t){return function(){return t.wrapper.css("position","static"),t.wrapper.width("auto"),t.editor.util.reflow(t.wrapper),t.wrapper.width(t.wrapper.outerWidth()),t.wrapper.css("left",t.editor.util.os.mobile?t.wrapper.position().left:t.wrapper.offset().left),t.wrapper.css("position",""),i=t.wrapper.outerHeight(),t.editor.placeholderEl.css("top",i),!0}}(this),e=null,t(window).on("resize.simditor-"+this.editor.id,function(t){return e=n()}),t(window).on("scroll.simditor-"+this.editor.id,function(r){return function(a){var o,s,l;if(r.wrapper.is(":visible"))if(o=(l=r.editor.wrapper.offset().top)+r.editor.wrapper.outerHeight()-80,(s=t(document).scrollTop()+r.opts.toolbarFloatOffset)<=l||s>=o){if(r.editor.wrapper.removeClass("toolbar-floating").css("padding-top",""),r.editor.util.os.mobile)return r.wrapper.css("top",r.opts.toolbarFloatOffset)}else if(e||(e=n()),r.editor.wrapper.addClass("toolbar-floating").css("padding-top",i),r.editor.util.os.mobile)return r.wrapper.css("top",s-l+r.opts.toolbarFloatOffset)}}(this))),this.editor.on("destroy",function(t){return function(){return t.buttons.length=0}}(this)),t(document).on("mousedown.simditor-"+this.editor.id,function(t){return function(e){return t.list.find("li.menu-on").removeClass("menu-on")}}(this))},n.prototype._render=function(){var e,n,i,r;for(this.buttons=[],this.wrapper=t(this._tpl.wrapper).prependTo(this.editor.wrapper),this.list=this.wrapper.find("ul"),e=0,n=(r=this.opts.toolbar).length;e<n;e++)if("|"!==(i=r[e])){if(!this.constructor.buttons[i])throw new Error("simditor: invalid toolbar button "+i);this.buttons.push(new this.constructor.buttons[i]({editor:this.editor}))}else t(this._tpl.separator).appendTo(this.list);if(this.opts.toolbarHidden)return this.wrapper.hide()},n.prototype.findButton=function(t){var e;return null!=(e=this.list.find(".toolbar-item-"+t).data("button"))?e:null},n.addButton=function(t){return this.buttons[t.prototype.name]=t},n.buttons={},n}(e),b=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Indentation",n.prototype.opts={tabIndent:!0},n.prototype._init=function(){return this.editor=this._module,this.editor.keystroke.add("tab","*",(t=this,function(e){var n;if(n=t.editor.toolbar.findButton("code"),t.opts.tabIndent||n&&n.active)return t.indent(e.shiftKey)}));var t},n.prototype.indent=function(e){var n,i,r,a;return this.editor.selection.startNodes(),this.editor.selection.endNodes(),n=this.editor.selection.blockNodes(),i=[],n=n.each(function(e,n){var r,a,o,s,l;for(r=!0,a=o=0,s=i.length;o<s;a=++o){if(l=i[a],t.contains(n,l)){r=!1;break}if(t.contains(l,n)){i.splice(a,1,n),r=!1;break}}if(r)return i.push(n)}),n=t(i),r=!1,n.each((a=this,function(t,n){var i;if(i=e?a.outdentBlock(n):a.indentBlock(n))return r=i})),r},n.prototype.indentBlock=function(e){var n,i,r,a,o,s,l,c,u,d;if((n=t(e)).length){if(n.is("pre")){if(!(s=this.editor.selection.containerNode()).is(n)&&!s.closest("pre").is(n))return;this.indentText(this.editor.selection.range())}else if(n.is("li")){if((o=n.prev("li")).length<1)return;this.editor.selection.save(),d=n.parent()[0].tagName,(i=o.children("ul, ol")).length>0?i.append(n):t("<"+d+"/>").append(n).appendTo(o),this.editor.selection.restore()}else if(n.is("p, h1, h2, h3, h4"))u=parseInt(n.css("margin-left"))||0,u=(Math.round(u/this.opts.indentWidth)+1)*this.opts.indentWidth,n.css("margin-left",u);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if((r=(l=this.editor.selection.containerNode().closest("td, th")).next("td, th")).length>0||((a=(c=l.parent("tr")).next("tr")).length<1&&c.parent().is("thead")&&(a=c.parent("thead").next("tbody").find("tr:first")),r=a.find("td:first, th:first")),!(l.length>0&&r.length>0))return;this.editor.selection.setRangeAtEndOf(r)}return!0}},n.prototype.indentText=function(t){var e,n;return e=t.toString().replace(/^(?=.+)/gm,"  "),n=document.createTextNode(e||"  "),t.deleteContents(),t.insertNode(n),e?(t.selectNode(n),this.editor.selection.range(t)):this.editor.selection.setRangeAfter(n)},n.prototype.outdentBlock=function(e){var n,i,r,a,o,s,l,c,u,d;if((n=t(e))&&n.length>0){if(n.is("pre")){if(!(a=this.editor.selection.containerNode()).is(n)&&!a.closest("pre").is(n))return;this.outdentText(d)}else if(n.is("li"))r=(i=n.parent()).parent("li"),this.editor.selection.save(),r.length<1?((d=document.createRange()).setStartBefore(i[0]),d.setEndBefore(n[0]),i.before(d.extractContents()),t("<p/>").insertBefore(i).after(n.children("ul, ol")).append(n.contents()),n.remove()):(n.next("li").length>0&&t("<"+i[0].tagName+"/>").append(n.nextAll("li")).appendTo(n),n.insertAfter(r),i.children("li").length<1&&i.remove()),this.editor.selection.restore();else if(n.is("p, h1, h2, h3, h4"))u=parseInt(n.css("margin-left"))||0,u=Math.max(Math.round(u/this.opts.indentWidth)-1,0)*this.opts.indentWidth,n.css("margin-left",0===u?"":u);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if((o=(l=this.editor.selection.containerNode().closest("td, th")).prev("td, th")).length>0||((s=(c=l.parent("tr")).prev("tr")).length<1&&c.parent().is("tbody")&&(s=c.parent("tbody").prev("thead").find("tr:first")),o=s.find("td:last, th:last")),!(l.length>0&&o.length>0))return;this.editor.selection.setRangeAtEndOf(o)}return!0}},n.prototype.outdentText=function(t){},n}(e),c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Clipboard",n.prototype.opts={pasteImage:!1,cleanPaste:!1},n.prototype._init=function(){return this.editor=this._module,this.opts.pasteImage&&"string"!=typeof this.opts.pasteImage&&(this.opts.pasteImage="inline"),this.editor.body.on("paste",(t=this,function(e){var n;if(!t.pasting&&!t._pasteBin)return!1!==t.editor.triggerHandler(e)&&(n=t.editor.selection.deleteRangeContents(),t.editor.body.html()?n.collapsed||n.collapse(!0):(t.editor.formatter.format(),t.editor.selection.setRangeAtStartOf(t.editor.body.find("p:first"))),!t._processPasteByClipboardApi(e)&&(t.editor.inputManager.throttledValueChanged.clear(),t.editor.inputManager.throttledSelectionChanged.clear(),t.editor.undoManager.throttledPushState.clear(),t.editor.selection.reset(),t.editor.undoManager.resetCaretPosition(),t.pasting=!0,t._getPasteContent(function(e){return t._processPasteContent(e),t._pasteInBlockEl=null,t._pastePlainText=null,t.pasting=!1})))}));var t},n.prototype._processPasteByClipboardApi=function(t){var e,n,i,r;if(!this.editor.util.browser.edge&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items&&t.originalEvent.clipboardData.items.length>0&&(n=t.originalEvent.clipboardData.items[0],/^image\//.test(n.type))){if(null==(e=n.getAsFile())||!this.opts.pasteImage)return;if(e.name||(e.name="Clipboard Image.png"),!1===this.editor.triggerHandler("pasting",[e]))return;return(r={})[this.opts.pasteImage]=!0,null!=(i=this.editor.uploader)&&i.upload(e,r),!0}},n.prototype._getPasteContent=function(e){var n,i;return this._pasteBin=t('<div contenteditable="true" />').addClass("simditor-paste-bin").attr("tabIndex","-1").appendTo(this.editor.el),n={html:this.editor.body.html(),caret:this.editor.undoManager.caretPosition()},this._pasteBin.focus(),setTimeout((i=this,function(){var r;return i.editor.hidePopover(),i.editor.body.get(0).innerHTML=n.html,i.editor.undoManager.caretPosition(n.caret),i.editor.body.focus(),i.editor.selection.reset(),i.editor.selection.range(),i._pasteInBlockEl=i.editor.selection.blockNodes().last(),i._pastePlainText=i.opts.cleanPaste||i._pasteInBlockEl.is("pre, table"),i._pastePlainText?r=i.editor.formatter.clearHtml(i._pasteBin.html(),!0):((r=t("<div/>").append(i._pasteBin.contents())).find("table colgroup").remove(),i.editor.formatter.format(r),i.editor.formatter.decorate(r),i.editor.formatter.beautify(r.children()),r=r.contents()),i._pasteBin.remove(),i._pasteBin=null,e(r)}),0)},n.prototype._processPasteContent=function(e){var n,i,r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,T,k;if(!1!==this.editor.triggerHandler("pasting",[e])&&(n=this._pasteInBlockEl,e)){if(this._pastePlainText)if(n.is("table")){for(c=(g=e.split("\n")).pop(),s=0,u=g.length;s<u;s++)m=g[s],this.editor.selection.insertNode(document.createTextNode(m)),this.editor.selection.insertNode(t("<br/>"));this.editor.selection.insertNode(document.createTextNode(c))}else for(l=0,d=(w=(e=t("<div/>").text(e)).contents()).length;l<d;l++)y=w[l],this.editor.selection.insertNode(t(y)[0]);else if(n.is(this.editor.body))for(v=0,f=e.length;v<f;v++)y=e[v],this.editor.selection.insertNode(y);else{if(e.length<1)return;if(1===e.length)if(e.is("p")){if(1===(a=e.contents()).length&&a.is("img")){if(/^data:image/.test((i=a).attr("src"))){if(!this.opts.pasteImage)return;return(r=this.editor.util.dataURLtoBlob(i.attr("src"))).name="Clipboard Image.png",(k={})[this.opts.pasteImage]=!0,void(null!=(x=this.editor.uploader)&&x.upload(r,k))}if(i.is('img[src^="webkit-fake-url://"]'))return}for(b=0,p=a.length;b<p;b++)y=a[b],this.editor.selection.insertNode(y)}else if(n.is("p")&&this.editor.util.isEmptyNode(n))n.replaceWith(e),this.editor.selection.setRangeAtEndOf(e);else if(e.is("ul, ol"))if(1===e.find("li").length)for(_=0,h=(T=(e=t("<div/>").text(e.text())).contents()).length;_<h;_++)y=T[_],this.editor.selection.insertNode(t(y)[0]);else n.is("li")?(n.parent().after(e),this.editor.selection.setRangeAtEndOf(e)):(n.after(e),this.editor.selection.setRangeAtEndOf(e));else n.after(e),this.editor.selection.setRangeAtEndOf(e);else n.is("li")&&(n=n.parent()),this.editor.selection.rangeAtStartOf(n)?o="before":this.editor.selection.rangeAtEndOf(n)?o="after":(this.editor.selection.breakBlockEl(n),o="before"),n[o](e),this.editor.selection.setRangeAtEndOf(e.last())}return this.editor.inputManager.throttledValueChanged()}},n}(e),(L=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return B(r,e),r.connect(j),r.connect(_),r.connect(R),r.connect(M),r.connect(x),r.connect(h),r.connect(P),r.connect(b),r.connect(c),r.count=0,r.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1,indentWidth:40},r.prototype._init=function(){var e,a,s,l;if(this.textarea=t(this.opts.textarea),this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder"),!this.textarea.length)throw new Error("simditor: param textarea is required.");if(null!=(e=this.textarea.data("simditor"))&&e.destroy(),this.id=++r.count,this._render(),!n)throw new Error("simditor: simple-hotkeys is required.");if(this.hotkeys=n({el:this.body}),this.opts.upload&&i&&(s="object"===o(this.opts.upload)?this.opts.upload:{},this.uploader=i(s)),(a=this.textarea.closest("form")).length&&(a.on("submit.simditor-"+this.id,(l=this,function(){return l.sync()})),a.on("reset.simditor-"+this.id,function(t){return function(){return t.setValue("")}}(this))),this.on("initialized",function(t){return function(){if(t.opts.placeholder&&t.on("valuechanged",function(){return t._placeholder()}),t.setValue(t.textarea.val().trim()||""),t.textarea.attr("autofocus"))return t.focus()}}(this)),this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){}}},r.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>',r.prototype._render=function(){var e,n,i,r;if(this.el=t(this._tpl).insertBefore(this.textarea),this.wrapper=this.el.find(".simditor-wrapper"),this.body=this.wrapper.find(".simditor-body"),this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder),this.el.data("simditor",this),this.wrapper.append(this.textarea),this.textarea.data("simditor",this).blur(),this.body.attr("tabindex",this.textarea.attr("tabindex")),this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux"),this.util.os.mobile&&this.el.addClass("simditor-mobile"),this.opts.params){for(e in i=[],n=this.opts.params)r=n[e],i.push(t("<input/>",{type:"hidden",name:e,value:r}).insertAfter(this.textarea));return i}},r.prototype._placeholder=function(){var t;return 0===(t=this.body.children()).length||1===t.length&&this.util.isEmptyNode(t)&&parseInt(t.css("margin-left")||0)<this.opts.indentWidth?this.placeholderEl.show():this.placeholderEl.hide()},r.prototype.setValue=function(t){return this.hidePopover(),this.textarea.val(t),this.body.get(0).innerHTML=t,this.formatter.format(),this.formatter.decorate(),this.util.reflow(this.body),this.inputManager.lastCaretPosition=null,this.trigger("valuechanged")},r.prototype.getValue=function(){return this.sync()},r.prototype.sync=function(){var e,n,i,r,a,o;for(n=this.body.clone(),this.formatter.undecorate(n),this.formatter.format(n),this.formatter.autolink(n),a=(e=n.children()).last("p"),r=e.first("p");a.is("p")&&this.util.isEmptyNode(a);)i=a,a=a.prev("p"),i.remove();for(;r.is("p")&&this.util.isEmptyNode(r);)i=r,r=a.next("p"),i.remove();return n.find("img.uploading").remove(),o=t.trim(n.html()),this.textarea.val(o),o},r.prototype.focus=function(){var e,n;if(this.body.is(":visible")&&this.body.is("[contenteditable]"))return this.inputManager.lastCaretPosition?(this.undoManager.caretPosition(this.inputManager.lastCaretPosition),this.inputManager.lastCaretPosition=null):((e=this.body.children().last()).is("p")||(e=t("<p/>").append(this.util.phBr).appendTo(this.body)),n=document.createRange(),this.selection.setRangeAtEndOf(e,n));this.el.find("textarea:visible").focus()},r.prototype.blur=function(){return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.body.blur():this.body.find("textarea:visible").blur()},r.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(e,n){if((n=t(n).data("popover")).active)return n.hide()})},r.prototype.destroy=function(){return this.triggerHandler("destroy"),this.textarea.closest("form").off(".simditor .simditor-"+this.id),this.selection.clear(),this.inputManager.focused=!1,this.textarea.insertBefore(this.el).hide().val("").removeData("simditor"),this.el.remove(),t(document).off(".simditor-"+this.id),t(window).off(".simditor-"+this.id),this.off()},r}(e)).i18n={"zh-CN":{save:"保存",publish:"发布",blockquote:"引用",bold:"加粗文字",code:"插入代码",color:"文字颜色",coloredText:"彩色文字",hr:"分隔线",image:"插入图片",externalImage:"外链图片",uploadImage:"上传图片",uploadFailed:"上传失败了",uploadError:"上传出错了",imageUrl:"图片地址",imageSize:"图片尺寸",imageAlt:"图片描述",restoreImageSize:"还原图片尺寸",uploading:"正在上传",indent:"向右缩进",outdent:"向左缩进",italic:"斜体文字",link:"插入链接",linkText:"链接文字",linkUrl:"链接地址",linkTarget:"打开方式",openLinkInCurrentWindow:"在新窗口中打开",openLinkInNewWindow:"在当前窗口中打开",removeLink:"移除链接",ol:"有序列表",ul:"无序列表",strikethrough:"删除线文字",table:"表格",deleteRow:"删除行",insertRowAbove:"在上面插入行",insertRowBelow:"在下面插入行",deleteColumn:"删除列",insertColumnLeft:"在左边插入列",insertColumnRight:"在右边插入列",deleteTable:"删除表格",title:"标题",normalText:"普通文本",underline:"下划线文字",alignment:"水平对齐",alignCenter:"居中",alignLeft:"居左",alignRight:"居右",selectLanguage:"选择程序语言",fontScale:"字体大小",fontScaleXLarge:"超大字体",fontScaleLarge:"大号字体",fontScaleNormal:"正常大小",fontScaleSmall:"小号字体",fontScaleXSmall:"超小字体"},"en-US":{blockquote:"Block Quote",bold:"Bold",code:"Code",color:"Text Color",coloredText:"Colored Text",hr:"Horizontal Line",image:"Insert Image",externalImage:"External Image",uploadImage:"Upload Image",uploadFailed:"Upload failed",uploadError:"Error occurs during upload",imageUrl:"Url",imageSize:"Size",imageAlt:"Alt",restoreImageSize:"Restore Origin Size",uploading:"Uploading",indent:"Indent",outdent:"Outdent",italic:"Italic",link:"Insert Link",linkText:"Text",linkUrl:"Url",linkTarget:"Target",openLinkInCurrentWindow:"Open link in current window",openLinkInNewWindow:"Open link in new window",removeLink:"Remove Link",ol:"Ordered List",ul:"Unordered List",strikethrough:"Strikethrough",table:"Table",deleteRow:"Delete Row",insertRowAbove:"Insert Row Above",insertRowBelow:"Insert Row Below",deleteColumn:"Delete Column",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteTable:"Delete Table",title:"Title",normalText:"Text",underline:"Underline",alignment:"Alignment",alignCenter:"Align Center",alignLeft:"Align Left",alignRight:"Align Right",selectLanguage:"Select Language",fontScale:"Font Size",fontScaleXLarge:"X Large Size",fontScaleLarge:"Large Size",fontScaleNormal:"Normal Size",fontScaleSmall:"Small Size",fontScaleXSmall:"X Small Size"}},l=function(e){function n(t){this.editor=t.editor,this.title=this._t(this.name),n.__super__.constructor.call(this,t)}return B(n,e),n.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'},n.prototype.name="",n.prototype.icon="",n.prototype.title="",n.prototype.text="",n.prototype.htmlTag="",n.prototype.disableTag="",n.prototype.menu=!1,n.prototype.active=!1,n.prototype.disabled=!1,n.prototype.needFocus=!0,n.prototype.shortcut=null,n.prototype._init=function(){var e,n,i,r,a;for(this.render(),this.el.on("mousedown",(a=this,function(t){var e,n;return t.preventDefault(),e=a.needFocus&&!a.editor.inputManager.focused,!(a.el.hasClass("disabled")||e||(a.menu?(a.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),a.wrapper.is(".menu-on")&&(a.menuWrapper.offset().left+a.menuWrapper.outerWidth()+5-a.editor.wrapper.offset().left-a.editor.wrapper.outerWidth()>0&&a.menuWrapper.css({left:"auto",right:0}),a.trigger("menuexpand")),1):(n=a.el.data("param"),a.command(n),1)))})),this.wrapper.on("click","a.menu-item",function(e){return function(n){var i,r,a;return n.preventDefault(),i=t(n.currentTarget),e.wrapper.removeClass("menu-on"),r=e.needFocus&&!e.editor.inputManager.focused,i.hasClass("disabled")||r||(e.editor.toolbar.wrapper.removeClass("menu-on"),a=i.data("param"),e.command(a)),!1}}(this)),this.wrapper.on("mousedown","a.menu-item",function(t){return!1}),this.editor.on("blur",function(t){return function(){if(t.editor.body.is(":visible")&&t.editor.body.is("[contenteditable]")&&!t.editor.clipboard.pasting)return t.setActive(!1),t.setDisabled(!1)}}(this)),null!=this.shortcut&&this.editor.hotkeys.add(this.shortcut,function(t){return function(e){return t.el.mousedown(),!1}}(this)),e=0,n=(i=this.htmlTag.split(",")).length;e<n;e++)r=i[e],(r=t.trim(r))&&t.inArray(r,this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push(r);return this.editor.on("selectionchanged",function(t){return function(e){if(t.editor.inputManager.focused)return t._status()}}(this))},n.prototype.iconClassOf=function(t){return t?-1!==t.indexOf("icon-")?"iconfont "+t:"simditor-icon simditor-icon-"+t:""},n.prototype.setIcon=function(t){return this.el.find("span").removeClass().addClass(this.iconClassOf(t)).text(this.text)},n.prototype.render=function(){if(this.wrapper=t(this._tpl.item).appendTo(this.editor.toolbar.list),this.el=this.wrapper.find("a.toolbar-item"),this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this),this.setIcon(this.icon),this.menu)return this.menuWrapper=t(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+this.name),this.renderMenu()},n.prototype.renderMenu=function(){var e,n,i,r,a,o,s;if(t.isArray(this.menu)){for(this.menuEl=t("<ul/>").appendTo(this.menuWrapper),s=[],n=0,i=(a=this.menu).length;n<i;n++)"|"!==(r=a[n])?(e=t(this._tpl.menuItem).appendTo(this.menuEl).find("a.menu-item").attr({title:null!=(o=r.title)?o:r.text,"data-param":r.param}).addClass("menu-item-"+r.name),r.icon?s.push(e.find("span").addClass(this.iconClassOf(r.icon))):s.push(e.find("span").text(r.text))):t(this._tpl.separator).appendTo(this.menuEl);return s}},n.prototype.setActive=function(t){if(t!==this.active)return this.active=t,this.el.toggleClass("active",this.active)},n.prototype.setDisabled=function(t){if(t!==this.disabled)return this.disabled=t,this.el.toggleClass("disabled",this.disabled)},n.prototype._disableStatus=function(){var t,e,n;return n=this.editor.selection.startNodes(),e=this.editor.selection.endNodes(),t=n.filter(this.disableTag).length>0||e.filter(this.disableTag).length>0,this.setDisabled(t),this.disabled&&this.setActive(!1),this.disabled},n.prototype._activeStatus=function(){var t,e,n,i,r;return r=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),i=r.filter(this.htmlTag),e=n.filter(this.htmlTag),t=i.length>0&&e.length>0&&i.is(e),this.node=t?i:null,this.setActive(t),this.active},n.prototype._status=function(){if(this._disableStatus(),!this.disabled)return this._activeStatus()},n.prototype.command=function(t){},n.prototype._t=function(){var t,e,i;return t=1<=arguments.length?q.call(arguments,0):[],(i=n.__super__._t.apply(this,t))||(i=(e=this.editor)._t.apply(e,t)),i},n}(e),L.Button=l,A=function(e){function n(t){this.button=t.button,this.editor=t.button.editor,n.__super__.constructor.call(this,t)}return B(n,e),n.prototype.offset={top:4,left:0},n.prototype.target=null,n.prototype.active=!1,n.prototype._init=function(){var e;return this.el=t('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",this),this.render(),this.el.on("mouseenter",(e=this,function(t){return e.el.addClass("hover")})),this.el.on("mouseleave",function(t){return function(e){return t.el.removeClass("hover")}}(this))},n.prototype.render=function(){},n.prototype._initLabelWidth=function(){var e,n;if((e=this.el.find(".settings-field")).length>0)return this._labelWidth=0,e.each((n=this,function(e,i){var r;if((r=t(i).find("label")).length>0)return n._labelWidth=Math.max(n._labelWidth,r.width())})),e.find("label").width(this._labelWidth)},n.prototype.show=function(e,n){if(null==n&&(n="bottom"),null!=e)return this.el.siblings(".simditor-popover").each(function(e,n){if((n=t(n).data("popover")).active)return n.hide()}),this.active&&this.target&&this.target.removeClass("selected"),this.target=e.addClass("selected"),this.active?(this.refresh(n),this.trigger("popovershow")):(this.active=!0,this.el.css({left:-9999}).show(),this._labelWidth||this._initLabelWidth(),this.editor.util.reflow(),this.refresh(n),this.trigger("popovershow"))},n.prototype.hide=function(){if(this.active)return this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")},n.prototype.refresh=function(t){var e,n,i,r,a,o;if(null==t&&(t="bottom"),this.active)return e=this.editor.el.offset(),a=this.target.offset(),r=this.target.outerHeight(),"bottom"===t?o=a.top-e.top+r:"top"===t&&(o=a.top-e.top-this.el.height()),i=this.editor.wrapper.width()-this.el.outerWidth()-10,n=Math.min(a.left-e.left,i),this.el.css({top:o+this.offset.top,left:n+this.offset.left})},n.prototype.destroy=function(){return this.target=null,this.active=!1,this.editor.off(".linkpopover"),this.el.remove()},n.prototype._t=function(){var t,e,i;return t=1<=arguments.length?q.call(arguments,0):[],(i=n.__super__._t.apply(this,t))||(i=(e=this.button)._t.apply(e,t)),i},n}(e),L.Popover=A,I=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="title",n.prototype.htmlTag="h1, h2, h3, h4, h5",n.prototype.disableTag="pre, table",n.prototype._init=function(){return this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}],n.__super__._init.call(this)},n.prototype.setActive=function(t,e){if(n.__super__.setActive.call(this,t),t&&(e||(e=this.node[0].tagName.toLowerCase())),this.el.removeClass("active-p active-h1 active-h2 active-h3 active-h4 active-h5"),t)return this.el.addClass("active active-"+e)},n.prototype.command=function(e){var n,i;return n=this.editor.selection.rootNodes(),this.editor.selection.save(),n.each((i=this,function(n,r){var a;if(!((a=t(r)).is("blockquote")||a.is(e)||a.is(i.disableTag)||i.editor.util.isDecoratedNode(a)))return t("<"+e+"/>").append(a.contents()).replaceAll(a)})),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),L.Toolbar.addButton(I),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="fontScale",n.prototype.icon="font",n.prototype.disableTag="pre",n.prototype.htmlTag="span",n.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},n.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t,e,n,i,r;return this.editor.selection.range(),r=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),i=r.filter('span[style*="font-size"]'),e=n.filter('span[style*="font-size"]'),t=r.length>0&&n.length>0&&i.is(e),this.setActive(t),this.active},n.prototype.command=function(e){var n,i;if(!this.editor.selection.range().collapsed)return document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,e),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),((n=this.editor.selection.containerNode())[0].nodeType===Node.TEXT_NODE?n.closest('span[style*="font-size"]'):n.find('span[style*="font-size"]')).each((i=this,function(e,n){var r,a;return r=t(n),a=n.style.fontSize,/large|x-large|small|x-small/.test(a)?r.css("fontSize",i.sizeMap[a]):"medium"===a?r.replaceWith(r.contents()):void 0})),this.editor.trigger("valuechanged")},n}(),L.Toolbar.addButton(p),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="bold",n.prototype.icon="bold",n.prototype.htmlTag="b, strong",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+b",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + b )":(this.title=this.title+" ( Ctrl + b )",this.shortcut="ctrl+b"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("bold"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("bold"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(),L.Toolbar.addButton(s),w=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="italic",n.prototype.icon="italic",n.prototype.htmlTag="i",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+i",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + i )":(this.title=this.title+" ( Ctrl + i )",this.shortcut="ctrl+i"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("italic"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("italic"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(),L.Toolbar.addButton(w),N=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="underline",n.prototype.icon="underline",n.prototype.htmlTag="u",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+u",n.prototype.render=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + u )":(this.title=this.title+" ( Ctrl + u )",this.shortcut="ctrl+u"),n.__super__.render.call(this)},n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("underline"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("underline"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(),L.Toolbar.addButton(N),f=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="color",n.prototype.icon="tint",n.prototype.disableTag="pre",n.prototype.menu=!0,n.prototype.render=function(){var t;return t=1<=arguments.length?q.call(arguments,0):[],n.__super__.render.apply(this,t)},n.prototype.renderMenu=function(){return t('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default"></a></li>\n</ul>').appendTo(this.menuWrapper),this.menuWrapper.on("mousedown",".color-list",function(t){return!1}),this.menuWrapper.on("click",".font-color",(e=this,function(n){var i,r,a,o,s,l;if(e.wrapper.removeClass("menu-on"),(i=t(n.currentTarget)).hasClass("font-color-default")){if(!((r=e.editor.body.find("p, li")).length>0))return;s=window.getComputedStyle(r[0],null).getPropertyValue("color"),a=e._convertRgbToHex(s)}else s=window.getComputedStyle(i[0],null).getPropertyValue("background-color"),a=e._convertRgbToHex(s);if(a)return o=e.editor.selection.range(),!i.hasClass("font-color-default")&&o.collapsed&&(l=document.createTextNode(e._t("coloredText")),o.insertNode(l),o.selectNodeContents(l),e.editor.selection.range(o)),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a),document.execCommand("styleWithCSS",!1,!1),e.editor.util.support.oninput?void 0:e.editor.trigger("valuechanged")}));var e},n.prototype._convertRgbToHex=function(t){var e,n,i,r,a;return(e=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g.exec(t))?(n=1*e[1],i=1*e[2],r=1*e[3],"#"+(a=function(t){var e;return 1===(e=t.toString(16)).length?"0"+e:e})(n)+a(i)+a(r)):""},n}(),L.Toolbar.addButton(f),C=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.type="",n.prototype.disableTag="pre, table",n.prototype.command=function(e){var n,i,r,a;return i=this.editor.selection.blockNodes(),r="ul"===this.type?"ol":"ul",this.editor.selection.save(),n=null,i.each((a=this,function(e,i){var o;if(!((o=t(i)).is("blockquote, li")||o.is(a.disableTag)||a.editor.util.isDecoratedNode(o))&&t.contains(document,i))return o.is(a.type)?(o.children("li").each(function(e,n){return t(n).children("ul, ol").insertAfter(o),t("<p/>").append(t(n).html()||a.editor.util.phBr).insertBefore(o)}),o.remove()):o.is(r)?t("<"+a.type+"/>").append(o.contents()).replaceAll(o):n&&o.prev().is(n)?(t("<li/>").append(o.html()||a.editor.util.phBr).appendTo(n),o.remove()):((n=t("<"+a.type+"><li></li></"+a.type+">")).find("li").append(o.html()||a.editor.util.phBr),n.replaceAll(o))})),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),E=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,C),e.prototype.type="ol",e.prototype.name="ol",e.prototype.icon="list-ol",e.prototype.htmlTag="ol",e.prototype.shortcut="cmd+/",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + / )":(this.title=this.title+" ( ctrl + / )",this.shortcut="ctrl+/"),e.__super__._init.call(this)},e}(),F=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,C),e.prototype.type="ul",e.prototype.name="ul",e.prototype.icon="list-ul",e.prototype.htmlTag="ul",e.prototype.shortcut="cmd+.",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + . )":(this.title=this.title+" ( Ctrl + . )",this.shortcut="ctrl+."),e.__super__._init.call(this)},e}(),L.Toolbar.addButton(E),L.Toolbar.addButton(F),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="blockquote",n.prototype.icon="quote-left",n.prototype.htmlTag="blockquote",n.prototype.disableTag="pre, table",n.prototype.command=function(){var e,n,i,r;return e=(e=this.editor.selection.rootNodes()).filter(function(e,n){return!t(n).parent().is("blockquote")}),this.editor.selection.save(),i=[],r=this,n=function(){if(i.length>0)return t("<"+r.htmlTag+"/>").insertBefore(i[0]).append(i),i.length=0},e.each(function(e){return function(r,a){var o;if((o=t(a)).parent().is(e.editor.body))return o.is(e.htmlTag)?(n(),o.children().unwrap()):o.is(e.disableTag)||e.editor.util.isDecoratedNode(o)?n():i.push(a)}}(this)),n(),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),L.Toolbar.addButton(a),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="code",n.prototype.icon="code",n.prototype.htmlTag="pre",n.prototype.disableTag="ul, ol, table",n.prototype._init=function(){var e;return n.__super__._init.call(this),this.editor.on("decorate",(e=this,function(n,i){return i.find("pre").each(function(n,i){return e.decorate(t(i))})})),this.editor.on("undecorate",function(e){return function(n,i){return i.find("pre").each(function(n,i){return e.undecorate(t(i))})}}(this))},n.prototype.render=function(){var t;return t=1<=arguments.length?q.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new d({button:this})},n.prototype._checkMode=function(){var e;return e=this.editor.selection.range(),t(e.cloneContents()).find(this.editor.util.blockNodes.join(","))>0||e.collapsed&&0===this.editor.selection.startNodes().filter("code").length?(this.inlineMode=!1,this.htmlTag="pre"):(this.inlineMode=!0,this.htmlTag="code")},n.prototype._status=function(){if(this._checkMode(),n.__super__._status.call(this),!this.inlineMode)return this.active?this.popover.show(this.node):this.popover.hide()},n.prototype.decorate=function(t){var e,n,i,r;if((e=t.find("> code")).length>0&&(n=null!=(i=e.attr("class"))&&null!=(r=i.match(/lang-(\S+)/))?r[1]:void 0,e.contents().unwrap(),n))return t.attr("data-lang",n)},n.prototype.undecorate=function(e){var n,i;return i=e.attr("data-lang"),n=t("<code/>"),i&&-1!==i&&n.addClass("lang-"+i),e.wrapInner(n).removeAttr("data-lang")},n.prototype.command=function(){return this.inlineMode?this._inlineCommand():this._blockCommand()},n.prototype._blockCommand=function(){var e,n,i,r,a;return e=this.editor.selection.rootNodes(),i=[],r=[],a=this,n=function(){var e;if(i.length>0)return e=t("<"+a.htmlTag+"/>").insertBefore(i[0]).text(a.editor.formatter.clearHtml(i)),r.push(e[0]),i.length=0},e.each(function(e){return function(a,o){var s,l;return(s=t(o)).is(e.htmlTag)?(n(),l=t("<p/>").append(s.html().replace("\n","<br/>")).replaceAll(s),r.push(l[0])):s.is(e.disableTag)||e.editor.util.isDecoratedNode(s)||s.is("blockquote")?n():i.push(o)}}(this)),n(),this.editor.selection.setRangeAtEndOf(t(r).last()),this.editor.trigger("valuechanged")},n.prototype._inlineCommand=function(){var e,n,i;return i=this.editor.selection.range(),this.active?(i.selectNodeContents(this.node[0]),this.editor.selection.save(i),this.node.contents().unwrap(),this.editor.selection.restore()):(n=t(i.extractContents()),e=t("<"+this.htmlTag+"/>").append(n.contents()),i.insertNode(e[0]),i.selectNodeContents(e[0]),this.editor.selection.range(i)),this.editor.trigger("valuechanged")},n}(),d=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,A),n.prototype.render=function(){var e,n,i,r,a;for(this._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">'+this._t("selectLanguage")+"</option>\n    </select>\n  </div>\n</div>",this.langs=this.editor.opts.codeLanguages||[{name:"Bash",value:"bash"},{name:"C++",value:"c++"},{name:"C#",value:"cs"},{name:"CSS",value:"css"},{name:"Erlang",value:"erlang"},{name:"Less",value:"less"},{name:"Sass",value:"sass"},{name:"Diff",value:"diff"},{name:"CoffeeScript",value:"coffeescript"},{name:"HTML,XML",value:"html"},{name:"JSON",value:"json"},{name:"Java",value:"java"},{name:"JavaScript",value:"js"},{name:"Markdown",value:"markdown"},{name:"Objective C",value:"oc"},{name:"PHP",value:"php"},{name:"Perl",value:"parl"},{name:"Python",value:"python"},{name:"Ruby",value:"ruby"},{name:"SQL",value:"sql"}],this.el.addClass("code-popover").append(this._tpl),this.selectEl=this.el.find(".select-lang"),e=0,i=(r=this.langs).length;e<i;e++)n=r[e],t("<option/>",{text:n.name,value:n.value}).appendTo(this.selectEl);return this.selectEl.on("change",(a=this,function(t){var e;return a.lang=a.selectEl.val(),e=a.target.hasClass("selected"),a.target.removeClass().removeAttr("data-lang"),-1!==a.lang&&a.target.attr("data-lang",a.lang),e&&a.target.addClass("selected"),a.editor.trigger("valuechanged")})),this.editor.on("valuechanged",function(t){return function(e){if(t.active)return t.refresh()}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?q.call(arguments,0):[],n.__super__.show.apply(this,t),this.lang=this.target.attr("data-lang"),null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)},n}(),L.Toolbar.addButton(u),T=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="link",n.prototype.icon="link",n.prototype.htmlTag="a",n.prototype.disableTag="pre",n.prototype.render=function(){var t;return t=1<=arguments.length?q.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new k({button:this})},n.prototype._status=function(){return n.__super__._status.call(this),this.active&&!this.editor.selection.rangeAtEndOf(this.node)?this.popover.show(this.node):this.popover.hide()},n.prototype.command=function(){var e,n,i,r,a,o,s;return a=this.editor.selection.range(),this.active?(o=document.createTextNode(this.node.text()),this.node.replaceWith(o),a.selectNode(o)):(e=t(a.extractContents()),r=this.editor.formatter.clearHtml(e.contents(),!1),n=t("<a/>",{href:"http://www.example.com",target:"_blank",text:r||this._t("linkText")}),this.editor.selection.blockNodes().length>0?a.insertNode(n[0]):(i=t("<p/>").append(n),a.insertNode(i[0])),a.selectNodeContents(n[0]),this.popover.one("popovershow",(s=this,function(){return r?(s.popover.urlEl.focus(),s.popover.urlEl[0].select()):(s.popover.textEl.focus(),s.popover.textEl[0].select())}))),this.editor.selection.range(a),this.editor.trigger("valuechanged")},n}(),k=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,A),n.prototype.render=function(){var e,n;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("linkText")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'"\n      tabindex="-1">\n      <span class="simditor-icon simditor-icon-unlink"></span>\n    </a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkTarget")+'</label>\n    <select class="link-target">\n      <option value="_blank">'+this._t("openLinkInNewWindow")+' (_blank)</option>\n      <option value="_self">'+this._t("openLinkInCurrentWindow")+" (_self)</option>\n    </select>\n  </div>\n</div>",this.el.addClass("link-popover").append(e),this.textEl=this.el.find(".link-text"),this.urlEl=this.el.find(".link-url"),this.unlinkEl=this.el.find(".btn-unlink"),this.selectTarget=this.el.find(".link-target"),this.textEl.on("keyup",(n=this,function(t){if(13!==t.which)return n.target.text(n.textEl.val()),n.editor.inputManager.throttledValueChanged()})),this.urlEl.on("keyup",function(t){return function(e){var n;if(13!==e.which)return n=t.urlEl.val(),!/https?:\/\/|^\//gi.test(n)&&n&&(n="http://"+n),t.target.attr("href",n),t.editor.inputManager.throttledValueChanged()}}(this)),t([this.urlEl[0],this.textEl[0]]).on("keydown",function(e){return function(n){var i;if(13===n.which||27===n.which||!n.shiftKey&&9===n.which&&t(n.target).hasClass("link-url"))return n.preventDefault(),i=document.createRange(),e.editor.selection.setRangeAfter(e.target,i),e.hide(),e.editor.inputManager.throttledValueChanged()}}(this)),this.unlinkEl.on("click",function(t){return function(e){var n,i;return i=document.createTextNode(t.target.text()),t.target.replaceWith(i),t.hide(),n=document.createRange(),t.editor.selection.setRangeAfter(i,n),t.editor.inputManager.throttledValueChanged()}}(this)),this.selectTarget.on("change",function(t){return function(e){return t.target.attr("target",t.selectTarget.val()),t.editor.inputManager.throttledValueChanged()}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?q.call(arguments,0):[],n.__super__.show.apply(this,t),this.textEl.val(this.target.text()),this.urlEl.val(this.target.attr("href"))},n}(),L.Toolbar.addButton(T),g=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="image",n.prototype.icon="picture-o",n.prototype.htmlTag="img",n.prototype.disableTag="pre, table",n.prototype.defaultImage="",n.prototype.needFocus=!1,n.prototype._init=function(){var e,i,r,a,o;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=[],i=0,r=(a=this.editor.opts.imageButton).length;i<r;i++)e=a[i],this.menu.push({name:e+"-image",text:this._t(e+"Image")});else this.menu=!1;else null!=this.editor.uploader?this.menu=[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:this.menu=!1;return this.defaultImage=this.editor.opts.defaultImage,this.editor.body.on("click","img:not([data-non-image])",(o=this,function(e){var n,i;return n=t(e.currentTarget),(i=document.createRange()).selectNode(n[0]),o.editor.selection.range(i),o.editor.util.support.onselectionchange||o.editor.trigger("selectionchanged"),!1})),this.editor.body.on("mouseup","img:not([data-non-image])",function(t){return!1}),this.editor.on("selectionchanged.image",function(e){return function(){var n,i,r;if(null!=(r=e.editor.selection.range()))return 1===(n=t(r.cloneContents()).contents()).length&&n.is("img:not([data-non-image])")?(i=t(r.startContainer).contents().eq(r.startOffset),e.popover.show(i)):e.popover.hide()}}(this)),this.editor.on("valuechanged.image",function(e){return function(){var n;if((n=e.editor.wrapper.find(".simditor-image-loading")).length>0)return n.each(function(n,i){var r,a,o;if(!((r=(a=t(i)).data("img"))&&r.parent().length>0)&&(a.remove(),r&&(o=r.data("file"))&&(e.editor.uploader.cancel(o),e.editor.body.find("img.uploading").length<1)))return e.editor.uploader.trigger("uploadready",[o])})}}(this)),n.__super__._init.call(this)},n.prototype.render=function(){var t;if(t=1<=arguments.length?q.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new v({button:this}),"upload"===this.editor.opts.imageButton)return this._initUploader(this.el)},n.prototype.renderMenu=function(){return n.__super__.renderMenu.call(this),this._initUploader()},n.prototype._initUploader=function(e){var n,i,r,a;if(null==e&&(e=this.menuEl.find(".menu-item-upload-image")),null!=this.editor.uploader)return n=null,a=this,(i=function(){return n&&n.remove(),n=t("<input/>",{type:"file",title:a._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)})(),e.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),e.on("change","input[type=file]",function(t){return function(e){return t.editor.inputManager.focused?(t.editor.uploader.upload(n,{inline:!0}),i()):(t.editor.one("focus",function(e){return t.editor.uploader.upload(n,{inline:!0}),i()}),t.editor.focus()),t.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",function(e){return function(n,i){var r;if(i.inline)return i.img?r=t(i.img):(r=e.createImage(i.name),i.img=r),r.addClass("uploading"),r.data("file",i),e.editor.uploader.readImageFile(i.obj,function(t){var n;if(r.hasClass("uploading"))return n=t?t.src:e.defaultImage,e.loadImage(r,n,function(){if(e.popover.active)return e.popover.refresh(),e.popover.srcEl.val(e._t("uploading")).prop("disabled",!0)})})}}(this)),r=t.proxy(this.editor.util.throttle(function(t,e,n,i){var r,a,o;if(e.inline&&(a=e.img.data("mask"))){if((r=a.data("img")).hasClass("uploading")&&r.parent().length>0)return(o=(100*(o=n/i)).toFixed(0))>99&&(o=99),a.find(".progress").height(100-o+"%");a.remove()}},500),this),this.editor.uploader.on("uploadprogress",r),this.editor.uploader.on("uploadsuccess",function(e){return function(n,i,r){var a,s,l;if(i.inline&&(a=i.img).hasClass("uploading")&&a.parent().length>0){if("object"!==o(r))try{r=t.parseJSON(r)}catch(t){r={success:!1}}return!1===r.success?(l=r.msg||e._t("uploadFailed"),alert(l),s=e.defaultImage):s=r.file_path,e.loadImage(a,s,function(){var t;if(a.removeData("file"),a.removeClass("uploading").removeClass("loading"),(t=a.data("mask"))&&t.remove(),a.removeData("mask"),null==window.new_imgs&&(window.new_imgs=[]),window.new_imgs.push(s),e.editor.trigger("imageuploaded"),e.editor.body.find("img.uploading").length<1)return e.editor.uploader.trigger("uploadready",[i,r])}),e.popover.active?(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(r.file_path)):void 0}}}(this)),this.editor.uploader.on("uploaderror",function(e){return function(n,i,r){var a,o,s;if(i.inline&&"abort"!==r.statusText){if(r.responseText){try{o=(s=t.parseJSON(r.responseText)).msg}catch(t){o=e._t("uploadError")}alert(o)}if((a=i.img).hasClass("uploading")&&a.parent().length>0)return e.loadImage(a,e.defaultImage,function(){var t;return a.removeData("file"),a.removeClass("uploading").removeClass("loading"),(t=a.data("mask"))&&t.remove(),a.removeData("mask")}),e.popover.active&&(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(e.defaultImage)),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1?e.editor.uploader.trigger("uploadready",[i,s]):void 0}}}(this));this.el.find(".btn-upload").remove()},n.prototype._status=function(){return this._disableStatus()},n.prototype.loadImage=function(e,n,i){var r,a,o,s;return s=this,o=function(){var t,n;return t=e.offset(),n=s.editor.wrapper.offset(),r.css({top:t.top-n.top,left:t.left-n.left,width:e.width(),height:e.height()}).show()},e.addClass("loading"),(r=e.data("mask"))||(r=t('<div class="simditor-image-loading">\n  <div class="progress"></div>\n</div>').hide().appendTo(this.editor.wrapper),o(),e.data("mask",r),r.data("img",e)),(a=new Image).onload=function(s){return function(){var l,c;if(e.hasClass("loading")||e.hasClass("uploading"))return c=a.width,l=a.height,e.attr({src:n,width:c,height:l,"data-image-size":c+","+l}).removeClass("loading"),e.hasClass("uploading")?(s.editor.util.reflow(s.editor.body),o()):(r.remove(),e.removeData("mask")),t.isFunction(i)?i(a):void 0}}(this),a.onerror=function(){return t.isFunction(i)&&i(!1),r.remove(),e.removeData("mask").removeClass("loading")},a.src=n},n.prototype.createImage=function(e){var n,i;return null==e&&(e="Image"),this.editor.inputManager.focused||this.editor.focus(),(i=this.editor.selection.range()).deleteContents(),this.editor.selection.range(i),n=t("<img/>").attr("alt",e),i.insertNode(n[0]),this.editor.selection.setRangeAfter(n,i),this.editor.trigger("valuechanged"),n},n.prototype.command=function(t){var e,n;return e=this.createImage(),this.loadImage(e,t||this.defaultImage,(n=this,function(){return n.editor.trigger("valuechanged"),n.editor.util.reflow(e),e.click(),n.popover.one("popovershow",function(){return n.popover.srcEl.focus(),n.popover.srcEl[0].select()})}))},n}(),v=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,A),n.prototype.offset={top:6,left:-4},n.prototype.render=function(){var e,n;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n  </div>\n</div>',this.el.addClass("image-popover").append(e),this.srcEl=this.el.find(".image-src"),this.widthEl=this.el.find("#image-width"),this.heightEl=this.el.find("#image-height"),this.altEl=this.el.find("#image-alt"),this.srcEl.on("keydown",(n=this,function(t){var e;if(13===t.which&&!n.target.hasClass("uploading"))return t.preventDefault(),e=document.createRange(),n.button.editor.selection.setRangeAfter(n.target,e),n.hide()})),this.srcEl.on("blur",function(t){return function(e){return t._loadImage(t.srcEl.val())}}(this)),this.el.find(".image-size").on("blur",function(e){return function(n){return e._resizeImg(t(n.currentTarget)),e.el.data("popover").refresh()}}(this)),this.el.find(".image-size").on("keyup",function(e){return function(n){var i;if(i=t(n.currentTarget),13!==n.which&&27!==n.which&&9!==n.which)return e._resizeImg(i,!0)}}(this)),this.el.find(".image-size").on("keydown",function(e){return function(n){var i,r,a;return r=t(n.currentTarget),13===n.which||27===n.which?(n.preventDefault(),13===n.which?e._resizeImg(r):e._restoreImg(),i=e.target,e.hide(),a=document.createRange(),e.button.editor.selection.setRangeAfter(i,a)):9===n.which?e.el.data("popover").refresh():void 0}}(this)),this.altEl.on("keydown",function(t){return function(e){var n;if(13===e.which)return e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()}}(this)),this.altEl.on("keyup",function(t){return function(e){if(13!==e.which&&27!==e.which&&9!==e.which)return t.alt=t.altEl.val(),t.target.attr("alt",t.alt)}}(this)),this.el.find(".btn-restore").on("click",function(t){return function(e){return t._restoreImg(),t.el.data("popover").refresh()}}(this)),this.editor.on("valuechanged",function(t){return function(e){if(t.active)return t.refresh()}}(this)),this._initUploader()},n.prototype._initUploader=function(){var e,n,i;if(e=this.el.find(".btn-upload"),null!=this.editor.uploader)return i=this,(n=function(){return i.input&&i.input.remove(),i.input=t("<input/>",{type:"file",title:i._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)})(),this.el.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),this.el.on("change","input[type=file]",function(t){return function(e){return t.editor.uploader.upload(t.input,{inline:!0,img:t.target}),n()}}(this));e.remove()},n.prototype._resizeImg=function(e,n){var i,r,a;if(null==n&&(n=!1),r=1*e.val(),this.target&&(t.isNumeric(r)||r<0))return e.is(this.widthEl)?(a=r,i=this.height*r/this.width,this.heightEl.val(i)):(i=r,a=this.width*r/this.height,this.widthEl.val(a)),n?void 0:(this.target.attr({width:a,height:i}),this.editor.trigger("valuechanged"))},n.prototype._restoreImg=function(){var t,e;return e=(null!=(t=this.target.data("image-size"))?t.split(","):void 0)||[this.width,this.height],this.target.attr({width:1*e[0],height:1*e[1]}),this.widthEl.val(e[0]),this.heightEl.val(e[1]),this.editor.trigger("valuechanged")},n.prototype._loadImage=function(t,e){var n;if(!/^data:image/.test(t)||this.editor.uploader){if(this.target.attr("src")!==t)return this.button.loadImage(this.target,t,(n=this,function(i){var r;if(i)return n.active&&(n.width=i.width,n.height=i.height,n.widthEl.val(n.width),n.heightEl.val(n.height)),/^data:image/.test(t)?((r=n.editor.util.dataURLtoBlob(t)).name="Base64 Image.png",n.editor.uploader.upload(r,{inline:!0,img:n.target})):n.editor.trigger("valuechanged"),e?e(i):void 0}))}else e&&e(!1)},n.prototype.show=function(){var t,e;return e=1<=arguments.length?q.call(arguments,0):[],n.__super__.show.apply(this,e),t=this.target,this.width=t.width(),this.height=t.height(),this.alt=t.attr("alt"),t.hasClass("uploading")?this.srcEl.val(this._t("uploading")).prop("disabled",!0):(this.srcEl.val(t.attr("src")).prop("disabled",!1),this.widthEl.val(this.width),this.heightEl.val(this.height),this.altEl.val(this.alt))},n}(),L.Toolbar.addButton(g),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,l),e.prototype.name="indent",e.prototype.icon="indent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent()},e}(),L.Toolbar.addButton(y),S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,l),e.prototype.name="outdent",e.prototype.icon="outdent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Shift + Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent(!0)},e}(),L.Toolbar.addButton(S),m=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="hr",n.prototype.icon="minus",n.prototype.htmlTag="hr",n.prototype._status=function(){},n.prototype.command=function(){var e,n,i;return(i=this.editor.selection.rootNodes().first()).next().length>0?this.editor.selection.save():n=t("<p/>").append(this.editor.util.phBr),e=t("<hr/>").insertAfter(i),n?(n.insertAfter(e),this.editor.selection.setRangeAtStartOf(n)):this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),L.Toolbar.addButton(m),O=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="table",n.prototype.icon="table",n.prototype.htmlTag="table",n.prototype.disableTag="pre, li, blockquote",n.prototype.menu=!0,n.prototype._init=function(){var e;return n.__super__._init.call(this),t.merge(this.editor.formatter._allowedTags,["thead","th","tbody","tr","td","colgroup","col"]),t.extend(this.editor.formatter._allowedAttributes,{td:["rowspan","colspan"],col:["width"]}),t.extend(this.editor.formatter._allowedStyles,{td:["text-align"],th:["text-align"]}),this._initShortcuts(),this.editor.on("decorate",(e=this,function(n,i){return i.find("table").each(function(n,i){return e.decorate(t(i))})})),this.editor.on("undecorate",function(e){return function(n,i){return i.find("table").each(function(n,i){return e.undecorate(t(i))})}}(this)),this.editor.on("selectionchanged.table",function(t){return function(e){var n,i;if(t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active"),i=t.editor.selection.range())return n=t.editor.selection.containerNode(),i.collapsed&&n.is(".simditor-table")&&(n=t.editor.selection.rangeAtStartOf(n)?n.find("th:first"):n.find("td:last"),t.editor.selection.setRangeAtEndOf(n)),n.closest("td, th",t.editor.body).addClass("active")}}(this)),this.editor.on("blur.table",function(t){return function(e){return t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active")}}(this)),this.editor.keystroke.add("up","td",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("up","th",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("down","td",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this)),this.editor.keystroke.add("down","th",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this))},n.prototype._tdNav=function(t,e){var n,i,r,a;return null==e&&(e="up"),r="up"===e?"prev":"next",i=t.parent("tr"),!((n=this["_"+r+"Row"](i)).length>0)||(a=i.find("td, th").index(t),this.editor.selection.setRangeAtEndOf(n.find("td, th").eq(a)))},n.prototype._nextRow=function(t){var e;return(e=t.next("tr")).length<1&&t.parent("thead").length>0&&(e=t.parent("thead").next("tbody").find("tr:first")),e},n.prototype._prevRow=function(t){var e;return(e=t.prev("tr")).length<1&&t.parent("tbody").length>0&&(e=t.parent("tbody").prev("thead").find("tr")),e},n.prototype.initResize=function(e){var n,i,r;return r=e.parent(".simditor-table"),(n=e.find("colgroup")).length<1&&(n=t("<colgroup/>").prependTo(e),e.find("thead tr th").each(function(e,i){return t("<col/>").appendTo(n)}),this.refreshTableWidth(e)),i=t("<div />",{class:"simditor-resize-handle",contenteditable:"false"}).appendTo(r),r.on("mousemove","td, th",function(e){var a,o,s,l,c;if(!r.hasClass("resizing"))if(o=t(e.currentTarget),e.pageX-t(e.currentTarget).offset().left<5&&o.prev().length>0&&(o=o.prev()),o.next("td, th").length<1)i.hide();else if(null!=(l=i.data("td"))?l.is(o):void 0)i.show();else{if(s=o.parent().find("td, th").index(o),a=n.find("col").eq(s),!(null!=(c=i.data("col"))?c.is(a):void 0))return i.css("left",o.position().left+o.outerWidth()-5).data("td",o).data("col",a).show();i.show()}}),r.on("mouseleave",function(t){return i.hide()}),r.on("mousedown",".simditor-resize-handle",function(e){var n,i,a,o,s,l,c,u,d,f;return a=(n=t(e.currentTarget)).data("td"),i=n.data("col"),s=a.next("td, th"),o=i.next("col"),d=e.pageX,c=1*a.outerWidth(),u=1*s.outerWidth(),l=parseFloat(n.css("left")),f=a.closest("table").width(),t(document).on("mousemove.simditor-resize-table",function(t){var e,r,a;return e=t.pageX-d,a=u-e,(r=c+e)<50?(r=50,a=u-(e=50-c)):a<50&&(a=50,r=c+(e=u-50)),i.attr("width",r/f*100+"%"),o.attr("width",a/f*100+"%"),n.css("left",l+e)}),t(document).one("mouseup.simditor-resize-table",function(e){return t(document).off(".simditor-resize-table"),r.removeClass("resizing")}),r.addClass("resizing"),!1})},n.prototype._initShortcuts=function(){var t;return this.editor.hotkeys.add("ctrl+alt+up",(t=this,function(e){return t.editMenu.find(".menu-item[data-param=insertRowAbove]").click(),!1})),this.editor.hotkeys.add("ctrl+alt+down",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertRowBelow]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+left",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertColLeft]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+right",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertColRight]").click(),!1}}(this))},n.prototype.decorate=function(e){var n,i,r;return e.parent(".simditor-table").length>0&&this.undecorate(e),e.wrap('<div class="simditor-table"></div>'),e.find("thead").length<1&&(r=t("<thead />"),n=e.find("tr").first(),r.append(n),this._changeCellTag(n,"th"),(i=e.find("tbody")).length>0?i.before(r):e.prepend(r)),this.initResize(e),e.parent()},n.prototype.undecorate=function(t){if(t.parent(".simditor-table").length>0)return t.parent().replaceWith(t)},n.prototype.renderMenu=function(){var e,n;return t('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteRow">\n        <span>'+this._t("deleteRow")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowAbove">\n        <span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + ↑ )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowBelow">\n        <span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + ↓ )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteCol">\n        <span>'+this._t("deleteColumn")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColLeft">\n        <span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + ← )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColRight">\n        <span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + → )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteTable">\n        <span>'+this._t("deleteTable")+"</span>\n      </a>\n    </li>\n  </ul>\n</div>").appendTo(this.menuWrapper),this.createMenu=this.menuWrapper.find(".menu-create-table"),this.editMenu=this.menuWrapper.find(".menu-edit-table"),e=this.createTable(6,6).appendTo(this.createMenu),this.createMenu.on("mouseenter","td, th",(n=this,function(i){var r,a,o,s;return n.createMenu.find("td, th").removeClass("selected"),s=(a=(r=t(i.currentTarget)).parent()).find("td, th").index(r)+1,o=a.prevAll("tr").addBack(),a.parent().is("tbody")&&(o=o.add(e.find("thead tr"))),o.find("td:lt("+s+"), th:lt("+s+")").addClass("selected")})),this.createMenu.on("mouseleave",function(e){return t(e.currentTarget).find("td, th").removeClass("selected")}),this.createMenu.on("mousedown","td, th",function(n){return function(i){var r,a,o,s,l;if(n.wrapper.removeClass("menu-on"),n.editor.inputManager.focused)return s=(o=(a=t(i.currentTarget)).parent()).find("td").index(a)+1,l=o.prevAll("tr").length+1,o.parent().is("tbody")&&(l+=1),e=n.createTable(l,s,!0),r=n.editor.selection.blockNodes().last(),n.editor.util.isEmptyNode(r)?r.replaceWith(e):r.after(e),n.decorate(e),n.editor.selection.setRangeAtStartOf(e.find("th:first")),n.editor.trigger("valuechanged"),!1}}(this))},n.prototype.createTable=function(e,n,i){var r,a,o,s,l,c,u,d,f,p;for(r=t("<table/>"),s=t("<thead/>").appendTo(r),a=t("<tbody/>").appendTo(r),d=c=0,f=e;0<=f?c<f:c>f;d=0<=f?++c:--c)for((l=t("<tr/>")).appendTo(0===d?s:a),u=0,p=n;0<=p?u<p:u>p;0<=p?++u:--u)o=t(0===d?"<th/>":"<td/>").appendTo(l),i&&o.append(this.editor.util.phBr);return r},n.prototype.refreshTableWidth=function(e){var n,i;return i=e.width(),n=e.find("col"),e.find("thead tr th").each(function(e,r){return n.eq(e).attr("width",t(r).outerWidth()/i*100+"%")})},n.prototype.setActive=function(t){return n.__super__.setActive.call(this,t),t?(this.createMenu.hide(),this.editMenu.show()):(this.createMenu.show(),this.editMenu.hide())},n.prototype._changeCellTag=function(e,n){return e.find("td, th").each(function(e,i){var r;return(r=t(i)).replaceWith("<"+n+">"+r.html()+"</"+n+">")})},n.prototype.deleteRow=function(t){var e,n,i;return(n=t.parent("tr")).closest("table").find("tr").length<1?this.deleteTable(t):((e=this._nextRow(n)).length>0||(e=this._prevRow(n)),i=n.find("td, th").index(t),n.parent().is("thead")&&(e.appendTo(n.parent()),this._changeCellTag(e,"th")),n.remove(),this.editor.selection.setRangeAtEndOf(e.find("td, th").eq(i)))},n.prototype.insertRow=function(e,n){var i,r,a,o,s,l,c,u;for(null==n&&(n="after"),r=(a=e.parent("tr")).closest("table"),s=0,r.find("tr").each(function(e,n){return s=Math.max(s,t(n).find("td").length)}),l=a.find("td, th").index(e),i=t("<tr/>"),o="td","after"===n&&a.parent().is("thead")?a.parent().next("tbody").prepend(i):"before"===n&&a.parent().is("thead")?(a.before(i),a.parent().next("tbody").prepend(a),this._changeCellTag(a,"td"),o="th"):a[n](i),c=1,u=s;1<=u?c<=u:c>=u;1<=u?++c:--c)t("<"+o+"/>").append(this.editor.util.phBr).appendTo(i);return this.editor.selection.setRangeAtStartOf(i.find("td, th").eq(l))},n.prototype.deleteCol=function(e){var n,i,r,a,o,s;return s=(r=e.parent("tr")).closest("table").find("tr").length<2,o=e.siblings("td, th").length<1,s&&o?this.deleteTable(e):(a=r.find("td, th").index(e),(n=e.next("td, th")).length>0||(n=r.prev("td, th")),(i=r.closest("table")).find("col").eq(a).remove(),i.find("tr").each(function(e,n){return t(n).find("td, th").eq(a).remove()}),this.refreshTableWidth(i),this.editor.selection.setRangeAtEndOf(n))},n.prototype.insertCol=function(e,n){var i,r,a,o,s,l,c,u,d;return null==n&&(n="after"),s=e.parent("tr"),l=s.find("td, th").index(e),i=(o=e.closest("table")).find("col").eq(l),o.find("tr").each((d=this,function(e,i){var r,a;return a=t(i).parent().is("thead")?"th":"td",r=t("<"+a+"/>").append(d.editor.util.phBr),t(i).find("td, th").eq(l)[n](r)})),r=t("<col/>"),i[n](r),c=o.width(),u=Math.max(parseFloat(i.attr("width"))/2,50/c*100),i.attr("width",u+"%"),r.attr("width",u+"%"),this.refreshTableWidth(o),a="after"===n?e.next("td, th"):e.prev("td, th"),this.editor.selection.setRangeAtStartOf(a)},n.prototype.deleteTable=function(t){var e,n;if(e=(n=t.closest(".simditor-table")).next("p"),n.remove(),e.length>0)return this.editor.selection.setRangeAtStartOf(e)},n.prototype.command=function(t){var e;if((e=this.editor.selection.containerNode().closest("td, th")).length>0){if("deleteRow"===t)this.deleteRow(e);else if("insertRowAbove"===t)this.insertRow(e,"before");else if("insertRowBelow"===t)this.insertRow(e);else if("deleteCol"===t)this.deleteCol(e);else if("insertColLeft"===t)this.insertCol(e,"before");else if("insertColRight"===t)this.insertCol(e);else{if("deleteTable"!==t)return;this.deleteTable(e)}return this.editor.trigger("valuechanged")}},n}(),L.Toolbar.addButton(O),D=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.prototype.name="strikethrough",n.prototype.icon="strikethrough",n.prototype.htmlTag="strike",n.prototype.disableTag="pre",n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("strikethrough"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("strikethrough"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(),L.Toolbar.addButton(D),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,l),e.prototype.name="alignment",e.prototype.icon="align-left",e.prototype.htmlTag="p, h1, h2, h3, h4, td, th",e.prototype._init=function(){return this.menu=[{name:"left",text:this._t("alignLeft"),icon:"align-left",param:"left"},{name:"center",text:this._t("alignCenter"),icon:"align-center",param:"center"},{name:"right",text:this._t("alignRight"),icon:"align-right",param:"right"}],e.__super__._init.call(this)},e.prototype.setActive=function(t,n){return null==n&&(n="left"),"left"!==n&&"center"!==n&&"right"!==n&&(n="left"),"left"===n?e.__super__.setActive.call(this,!1):e.__super__.setActive.call(this,t),this.el.removeClass("align-left align-center align-right"),t&&this.el.addClass("align-"+n),this.setIcon("align-"+n),this.menuEl.find(".menu-item").show().end().find(".menu-item-"+n).hide()},e.prototype._status=function(){return this.nodes=this.editor.selection.nodes().filter(this.htmlTag),this.nodes.length<1?(this.setDisabled(!0),this.setActive(!1)):(this.setDisabled(!1),this.setActive(!0,this.nodes.first().css("text-align")))},e.prototype.command=function(t){if("left"!==t&&"center"!==t&&"right"!==t)throw new Error("simditor alignment button: invalid align "+t);return this.nodes.css({"text-align":"left"===t?"":t}),this.editor.trigger("valuechanged"),this.editor.inputManager.throttledSelectionChanged()},e}(),L.Toolbar.addButton(r);var H=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Dropzone",n.prototype._entered=0,n.prototype._init=function(){if(this.editor=this._module,null==this.editor.uploader)throw new Error("Can't work without 'simple-uploader' module");return t(document.body).on("dragover",function(t){return t.originalEvent.dataTransfer.dropEffect="none",t.preventDefault()}),t(document.body).on("drop",function(t){return t.preventDefault()}),this.imageBtn=this.editor.toolbar.findButton("image"),this.editor.body.on("dragover",function(t){return t.originalEvent.dataTransfer.dropEffect="copy",t.stopPropagation(),t.preventDefault()}).on("dragenter",(e=this,function(t){return 1===(e._entered+=1)&&e.show(),t.preventDefault(),t.stopPropagation()})).on("dragleave",function(t){return function(e){return(t._entered-=1)<=0&&t.hide(),e.preventDefault(),e.stopPropagation()}}(this)).on("drop",function(t){return function(e){var n,i,r,a,o,s,l;for(i=[],r=0,o=(l=e.originalEvent.dataTransfer.files).length;r<o;r++){if(n=l[r],!t.validFile(n))return alert("「"+n.name+"]」文件不是图片。"),t.hide(),!1;i.push(n)}for(a=0,s=i.length;a<s;a++)n=i[a],t.editor.uploader.upload(n,{inline:!0});return t.hide(),e.stopPropagation(),e.preventDefault()}}(this));var e},n.prototype.show=function(){return this.imageBtn.setActive(!0)},n.prototype.hide=function(){return this.imageBtn.setActive(!1),this._entered=0},n.prototype.validFile=function(t){return t.type.indexOf("image/")>-1},n}(e);return L.connect(H),SimditorAutosave=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Autosave",n.prototype.opts={autosave:!0,autosavePath:null},n.prototype._init=function(){var e,n,i,r;if(this.editor=this._module,this.opts.autosave&&(this.name="string"==typeof this.opts.autosave?this.opts.autosave:"simditor",this.opts.autosavePath?this.path=this.opts.autosavePath:(e=t("<a/>",{href:location.href}),n=this.editor.textarea.data("autosave")||this.name,this.path="/"+e[0].pathname.replace(/\/$/g,"").replace(/^\//g,"")+"/autosave/"+n+"/"),this.path&&(this.editor.on("valuechanged",(r=this,function(){return r.storage.set(r.path,r.editor.getValue())})),this.editor.el.closest("form").on("ajax:success.simditor-"+this.editor.id,function(t){return function(e){return t.storage.remove(t.path)}}(this)),(i=this.storage.get(this.path))&&i!==this.editor.textarea.val()&&this.editor.textarea.is("[data-autosave]")))){console.log("sdfsdfsdf");var a=i,o=this.editor;setTimeout(function(){o.trigger("promptdraft",{draft:a})},500)}},n.prototype.storage={supported:function(){try{return localStorage.setItem("_storageSupported","yes"),localStorage.removeItem("_storageSupported"),!0}catch(t){return!1}},set:function(t,e,n){if(null==n&&(n=!1),this.supported())return(n?sessionStorage:localStorage).setItem(t,e)},get:function(t,e){if(null==e&&(e=!1),this.supported())return(e?sessionStorage:localStorage)[t]},remove:function(t,e){if(null==e&&(e=!1),this.supported())return(e?sessionStorage:localStorage).removeItem(t)}},n}(e),L.connect(SimditorAutosave),PictureButton=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,l),n.i18n={"zh-CN":{picture:"从图库插入图片"},"en-US":{picture:"insert image from library"}},n.prototype.name="picture",n.prototype.icon="picture-o",n.prototype._status=function(){},n.prototype.command=function(){t(".image-list-modal").modal({});var e=this,n=this.editor.selection;n.save(),void 0===window.simditor_img_bond&&(t("img[simditor]").click(function(i){n.restore(),t(this).attr("src",t(this).attr("big-url")),n.insertNode(this.outerHTML),console.log("imgpicked"),e.editor.trigger("imgpicked")}),window.simditor_img_bond=1)},n}(),L.Toolbar.addButton(PictureButton),SaveButton=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,l),e.prototype.name="save",e.prototype.icon="icon-iconset0237",e.prototype._status=function(){},e.prototype.needFocus=!1,e.prototype.command=function(){this.editor.trigger("saved")},e}(),L.Toolbar.addButton(SaveButton),PublishButton=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,l),e.prototype.name="publish",e.prototype.icon="icon-icon-feixingmanyou",e.prototype._status=function(){},e.prototype.needFocus=!1,e.prototype.command=function(){this.editor.trigger("published")},e}(),L.Toolbar.addButton(PublishButton),L}(t,e,n,i)}.apply(e,i))||(t.exports=r)},fyBI:function(t,e,n){var i=n("BYiL");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},g1ax:function(t,e,n){"use strict";n.r(e);var i={name:"Requests",created:function(){var t=window.tokenize("/api/categories/new-requested"),e=this;window.axios.get(t).then(function(t){e.categories=t.data})},methods:{clickName:function(t){window.category_name=t}},data:function(){return{categories:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"menu"},[t._v("全部投稿请求")]),t._v(" "),n("ul",{staticClass:"requests-list"},[n("li",[n("router-link",{attrs:{to:"/pending_submissions"}},[n("a",{staticClass:"all-request",attrs:{href:"javascript:;"}},[n("div",{staticClass:"avatar-category"},[n("i",{staticClass:"iconfont icon-tougaoguanli"})]),t._v(" "),n("div",{staticClass:"info"},[t._v("全部未处理请求")])])])],1),t._v(" "),t._l(t.categories,function(e){return n("li",[n("router-link",{attrs:{to:"/submissions/"+e.id},on:{click:function(n){return t.clickName(e.name)}}},[n("div",{staticClass:"single-media"},[n("a",{staticClass:"avatar-category",attrs:{href:"javascript:;"}},[n("img",{attrs:{src:e.logo,alt:""}}),t._v(" "),e.new_requests?n("span",{staticClass:"badge"},[t._v(t._s(e.new_requests))]):t._e()]),t._v(" "),n("div",{staticClass:"info"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t"),n("span",[n("p",[t._v("有新投稿《"+t._s(e.new_request_title)+"》")])])])])])],1)})],2)])},[],!1,null,"19295bd4",null);e.default=a.exports},g5ev:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".img-list[data-v-3e31e01f]{margin:12px 0 8px}",""])},g7D3:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".money-list li .user-info[data-v-af87db54]{margin-bottom:10px;line-height:1.7}.money-list li .user-info .nickname[data-v-af87db54]{font-size:14px;vertical-align:unset}.money-list li .user-info .money[data-v-af87db54]{color:#d96a5f}.money-list li .user-info .info[data-v-af87db54]{padding-left:48px}.money-list li p[data-v-af87db54]{font-size:15px}.money-list li .btn-base[data-v-af87db54]{margin-top:10px}",""])},g7np:function(t,e,n){"use strict";var i=n("2SVd"),r=n("5oMp");t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},"gTJ+":function(t,e,n){"use strict";var i=n("M/qm");n.n(i).a},h4CX:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".thorough-delete .modal-dialog.simple{width:400px}.thorough-delete .modal-dialog.simple .modal-body .notice{text-align:center}.thorough-delete .modal-dialog.simple .modal-body .tip{margin:20px 0;text-align:center}.thorough-delete .modal-dialog.simple .modal-body .tip span{font-size:24px;margin:0 5px}.thorough-delete .modal-dialog.simple .modal-body .verification-wrap{width:100%;position:relative}.thorough-delete .modal-dialog.simple .modal-body .verification-wrap input{padding-left:30px;padding-right:30px;height:44px}.thorough-delete .modal-dialog.simple .modal-body .verification-wrap a.iconfont{position:absolute;left:5px;top:11px;font-size:20px}.thorough-delete .modal-dialog.simple footer .submit{width:100%;font-size:18px;height:45px;line-height:37px}",""])},"hmp+":function(t,e,n){"use strict";n.r(e);var i={name:"SingleList",props:["id","index","type"],mounted:function(){var t=this,e=this.index?this.index:0;this.$http.get("/api/article/"+this.id+"/"+e).then(function(e){t.data=e.data})},computed:{weixin:function(){return 1==this.getParameterByName("weixin")},get_items_col:function(){return this.data.items.length>=4?"col-sm-4 col-md-3":3==this.data.items.length?"col-sm-4":""}},methods:{getUrl:function(t){return"/article/"+t},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},data:function(){return{data:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.weixin?t._e():n("div",[t.data?n("div",{class:t.data.col},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("h3",{staticClass:"panel-title"},[t._v(t._s(t.data.title))])]),t._v(" "),n("div",{staticClass:"panel-body"},t._l(t.data.items,function(e){return n("div",{class:"col-xs-6 "+t.get_items_col},[n("a",{attrs:{href:t.getUrl(e.id)}},[n("img",{staticClass:"img img-responsive",attrs:{src:e.image_url}})]),t._v(" "),n("p",{staticClass:"strip_title"},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")])])}),0)])]):n("div",[t._v("\n\t\tLoading ...\n\t")])])},[],!1,null,"004f8bec",null);e.default=a.exports},i3aO:function(t,e,n){"use strict";var i=n("DXkA");n.n(i).a},iIoO:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".base .avatar[data-v-3c69709e]{width:100px;height:100px}@media screen and (max-width:768px){.base .avatar[data-v-3c69709e]{width:60px;height:60px}}",""])},iPTJ:function(t,e,n){"use strict";n.r(e);var i=n("tbbs"),r={name:"ModalAskQuestion",computed:{token:function(){return window.csrf_token},user:function(){return window.user}},mounted:function(){Object(i.a)($(".img-upload-field")[0],this.dragDropUpload),this.fetchImages()},methods:{refreshBalance:function(){this.counter++,$(this.$refs.fresh).css("transform","rotate(".concat(360*this.counter,"deg)"));var t=this;axios.get(tokenize("/api/user")).then(function(e){t.balance=parseInt(e.data.balance)})},submit:function(){this.$refs.questionForm.submit()},dragDropUpload:function(t,e){this.filesCount>=3||(this._upload(t),this.filesCount++)},upload:function(t){for(var e=0;e<t.target.files.length&&!(this.filesCount>=3);e++){var n=t.target.files[e];this._upload(n),this.filesCount++}},_upload:function(t){var e=window.tokenize("/api/image"),n=this,i=new FormData;i.append("from","question"),i.append("photo",t),window.axios.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){n.imgItems.push({img:t.data,selected:1}),n.top3Imgs=n.selectedImgs()})},tabSwitch:function(t){this.tabActive=t},selectedImgs:function(){return _.filter(this.imgItems,["selected",1])},selectImg:function(t){!t.selected&&this.selectedImgs().length>=3||(t.selected=t.selected?0:1,this.top3Imgs=this.selectedImgs(),t.selected?this.filesCount++:this.filesCount--)},deleteImg:function(t){t.selected=0,this.top3Imgs=this.selectedImgs(),this.filesCount--},searchImages:function(t){var e=this,n=window.tokenize("/api/image?q="+this.query);return window.axios.get(n).then(function(t){var n=t.data.data;for(var i in n){var r=n[i],a=[];a.push({img:r.path,title:r.title,selected:0}),e.imgItems=a.concat(e.imgItems)}}),t.preventDefault(),!1},fetchImages:function(){var t=this,e=window.tokenize("/api/image");window.axios.get(e).then(function(e){var n=e.data.data;for(var i in n){var r=n[i],a=[];a.push({img:r.path,title:r.title,selected:0}),t.imgItems=a.concat(t.imgItems)}})},customMoney:function(){this.money="",this.custom=!0;var t=this;setTimeout(function(){t.$refs.customInput.focus()},100)},selectMoney:function(){this.custom=null}},data:function(){return{counter:1,balance:window.user.balance,query:null,description:"",tabActive:"free",filesCount:0,top3Imgs:[],imgItems:[{img:"/images/article_01.jpg",title:"",selected:0}],whetherPay:!0,expiration_date:"0",money:5,custom:null}}},a=n("KHd+"),o=Object(a.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-ask-question"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",{ref:"questionForm",attrs:{method:"post",action:"/question"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{type:"hidden",name:"_token"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-question"},[n("input-matching",{attrs:{name:"title"}})],1),t._v(" "),n("div",{staticClass:"textarea-box"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{name:"background",placeholder:"添加问题背景描述（选填)",maxlength:"500"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),n("span",{staticClass:"word-count"},[t._v(t._s(t.description.length)+"/500")])]),t._v(" "),n("div",{staticClass:"question-setting"},[n("div",{staticClass:"setting-group"},[t._m(1),t._v(" "),n("div",[t._m(2),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.whetherPay,expression:"whetherPay"}],attrs:{type:"checkbox",name:"is_pay"},domProps:{checked:Array.isArray(t.whetherPay)?t._i(t.whetherPay,null)>-1:t.whetherPay},on:{change:function(e){var n=t.whetherPay,i=e.target,r=!!i.checked;if(Array.isArray(n)){var a=t._i(n,null);i.checked?a<0&&(t.whetherPay=n.concat([null])):a>-1&&(t.whetherPay=n.slice(0,a).concat(n.slice(a+1)))}else t.whetherPay=r}}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.whetherPay,expression:"whetherPay"}],staticClass:"pay-group"},[t._m(3),t._v(" "),n("div",{staticClass:"money-amount"},[n("div",[n("a",{staticClass:"pull-right refresh",on:{click:t.refreshBalance}},[n("i",{ref:"fresh",staticClass:"iconfont icon-shuaxin"}),t._v("刷新余额\n                  ")]),t._v("\n                  付费金额 (当前账户余额：￥"+t._s(t.balance)+")\n                  "),t.money>t.balance?n("a",{attrs:{href:"/wallet"}},[n("span",{staticClass:"text-danger"},[t._v("余额不足，去充值")])]):t._e()]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option1",type:"radio",name:"bonus",value:"5"},domProps:{checked:t._q(t.money,"5")},on:{change:function(e){t.money="5"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option1"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("5")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option2",type:"radio",name:"bonus",value:"10"},domProps:{checked:t._q(t.money,"10")},on:{change:function(e){t.money="10"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option2"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("10")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option3",type:"radio",name:"bonus",value:"50"},domProps:{checked:t._q(t.money,"50")},on:{change:function(e){t.money="50"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option3"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("50")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option4",type:"radio",name:"bonus",value:"100"},domProps:{checked:t._q(t.money,"100")},on:{change:function(e){t.money="100"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option4"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("100")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{ref:"custom",staticClass:"custom-amount",attrs:{id:"custom-option",type:"radio",name:"bonus"},domProps:{checked:t.custom}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"custom-option"},on:{click:t.customMoney}},[n("span",{staticClass:"custom-text"},[t._v("自定义")]),t._v(" "),n("div",{staticClass:"custom-amount-input"},[n("i",{staticClass:"iconfont icon-jinqian1 hidden-xs"}),t._v(" "),t.custom?n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],ref:"customInput",attrs:{type:"number",name:"bonus",oninput:"value = parseInt(Math.min(Math.max(value, 0), 10000), 10)"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}}):t._e(),t._v(" "),n("span",{staticClass:"piece hidden-xs"},[t._v("元")])])])]),t._v(" "),n("div",{staticClass:"expiration-date"},[n("div",[t._v("悬赏日期")]),t._v(" "),n("span",{staticClass:"option"},[t._v("一天")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration_date,expression:"expiration_date"}],attrs:{type:"radio",name:"deadline",value:"1"},domProps:{checked:t._q(t.expiration_date,"1")},on:{change:function(e){t.expiration_date="1"}}}),t._v(" "),n("span",{staticClass:"option"},[t._v("三天")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration_date,expression:"expiration_date"}],attrs:{type:"radio",name:"deadline",value:"3"},domProps:{checked:t._q(t.expiration_date,"3")},on:{change:function(e){t.expiration_date="3"}}}),t._v(" "),n("span",{staticClass:"option"},[t._v("七天")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration_date,expression:"expiration_date"}],attrs:{type:"radio",name:"deadline",value:"7"},domProps:{checked:t._q(t.expiration_date,"7")},on:{change:function(e){t.expiration_date="7"}}}),t._v(" "),n("span",{staticClass:"option"},[t._v("不限制")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration_date,expression:"expiration_date"}],attrs:{type:"radio",name:"deadline",value:"0"},domProps:{checked:t._q(t.expiration_date,"0")},on:{change:function(e){t.expiration_date="0"}}})])])]),t._v(" "),n("input",{attrs:{type:"hidden",name:"user_id"},domProps:{value:t.user.id}}),t._v(" "),t.top3Imgs.length>0?n("input",{attrs:{name:"image1",type:"hidden"},domProps:{value:t.top3Imgs[0].img}}):t._e(),t._v(" "),t.top3Imgs.length>1?n("input",{attrs:{name:"image2",type:"hidden"},domProps:{value:t.top3Imgs[1].img}}):t._e(),t._v(" "),t.top3Imgs.length>2?n("input",{attrs:{name:"image3",type:"hidden"},domProps:{value:t.top3Imgs[2].img}}):t._e()]),t._v(" "),n("div",{staticClass:"img-selector"},[n("div",{class:["ask-img-header",t.top3Imgs.length>0?"bigger":""]},[t._v("\n            添加图片\n            "),n("span",{staticClass:"desc"},[t._v("（最多3张）")])]),t._v(" "),n("div",{staticClass:"img-preview"},t._l(t.top3Imgs,function(e){return n("div",{staticClass:"img-preview-item"},[n("img",{staticClass:"as-height",attrs:{src:e.img,alt:""}}),t._v(" "),n("div",{staticClass:"img-del",on:{click:function(n){return t.deleteImg(e)}}},[n("i",{staticClass:"iconfont icon-cha"})])])}),0),t._v(" "),n("div",{staticClass:"tab-header"},[n("ul",[n("li",{class:"free"==t.tabActive?"tab-header-actived":"",on:{click:function(e){return t.tabSwitch("free")}}},[t._v("免费素材库")]),t._v(" "),n("li",{class:"file"==t.tabActive?"tab-header-actived":"",on:{click:function(e){return t.tabSwitch("file")}}},[t._v("本地上传")])])]),t._v(" "),n("div",{staticClass:"tab-body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"free"==t.tabActive,expression:"tabActive=='free'"}],staticClass:"tab-body-item"},[n("div",{staticClass:"material-search"},[t._m(4),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索免费图片库"},domProps:{value:t.query},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchImages(e)},input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),n("input",{staticClass:"search-submit",attrs:{type:"button",value:"搜索"},on:{click:t.searchImages}})]),t._v(" "),n("div",{staticClass:"img-container"},[n("div",{staticClass:"img-container-outer"},[t._m(5),t._v(" "),n("div",{staticClass:"img-list"},t._l(t.imgItems,function(e){return n("div",{class:["img-item",e.selected?"img-item-check":""],on:{click:function(n){return t.selectImg(e)}}},[n("img",{attrs:{src:e.img,alt:e.title,title:e.title}}),t._v(" "),t._m(6,!0)])}),0)])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"file"==t.tabActive,expression:"tabActive=='file'"}],staticClass:"tab-body-item"},[n("div",{staticClass:"img-upload-field"},[n("div",{staticClass:"img-upload-btn"},[n("i",{staticClass:"iconfont icon-tougaoguanli"}),t._v(" "),n("span",{staticClass:"img-click-here"},[t._v("点击此处上传图片")]),t._v(" "),n("div",{staticClass:"img-file"},[n("input",{attrs:{type:"file",multiple:""},on:{change:t.upload}})])]),t._v(" "),t._m(7)])])])])]),t._v(" "),n("footer",{staticClass:"clearfix"},[t.whetherPay&&t.balance<t.money?n("a",{staticClass:"btn-base btn-theme btn-md pull-right",attrs:{href:"/wallet"}},[t._v("充值")]):n("button",{staticClass:"btn-base btn-handle btn-md pull-right",on:{click:t.submit}},[t._v("提交")])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("提问")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"option",attrs:{for:"is_anonymous"}},[this._v("匿名提问")]),this._v(" "),e("input",{attrs:{type:"checkbox",name:"is_anonymous",value:"1",checked:"checked"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"option hot",attrs:{for:"is_pay"}},[e("i",{staticClass:"iconfont icon-qianbao"}),this._v("付费咨询\n                ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pay-tip"},[e("span",{staticClass:"pay-tip-content"},[this._v("\n                  使用付费咨询视为您已同意\n                  "),e("a",{attrs:{href:"/article/disclaimer"}},[this._v("《问答细则及责任声明》")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-icon"},[e("i",{staticClass:"iconfont icon-sousuo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-tip"},[e("span",{staticClass:"img-tip-content"},[this._v("\n                      使用图库视为您已同意\n                      "),e("a",{attrs:{href:"/article/image-license"}},[this._v("《图片许可使用协议》")]),this._v("，如不同意，请停止使用图库。\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-check"},[e("i",{staticClass:"iconfont icon-weibiaoti12"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-loading",staticStyle:{display:"none"}},[e("div",{staticClass:"img-progress"},[e("span",{staticClass:"img-progress-bar",staticStyle:{width:"100%"}}),this._v(" "),e("span",{staticClass:"img-progress-num"},[this._v("图片上传中...")])]),this._v(" "),e("i",{staticClass:"iconfont icon-ask_close"})])}],!1,null,null,null);e.default=o.exports},icEX:function(t,e,n){"use strict";n.r(e);var i=n("tbbs");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={name:"ModalPost",props:[],computed:{token:function(){return window.csrf_token},user:function(){return window.user},selectedImgs:function(){return _.filter(this.imgItems,["selected",1])}},mounted:function(){Object(i.a)($(".img-upload-field")[0],this.dragDropUpload)},methods:{uploadOnFileSelected:function(t){for(var e=this,n=0;n<t.target.files.length;n++){var i=t.target.files[0];if(-1!=i.type.indexOf("video")){var a,o=function(){var n=e;if(e.fileFormat=".avi,.wmv,.mpeg,.mp4,.mov,.mkv,.flv,.f4v,.m4v,.rmvb,.rm,.3gp,.dat,.ts,.mts,.vob",e.videoObj=i,a=/[！#￥（——）：；“”‘，|《。》？【】[\]]/im,/[`~!@#$%^&*()+<>?:"{},\/;'[\]]/im.test(e.videoObj.name)||a.test(e.videoObj.name))return e.alertInfo=!0,setTimeout(function(){n.alertInfo=!1},3e3),{v:!1};e.allowMore=!1;var r=new FileReader;if(r.readAsDataURL(t.target.files[0]),r.onload=function(t){n.videoPath=t.target.result},e.videoObj&&e.videoObj.length>=1)return"break";e.uploadVideo(e.videoObj)}();if("break"===o)break;if("object"===r(o))return o.v}if(-1!=i.type.indexOf("image")){if(this.fileFormat=".bmp,.jpg,.png,.tiff,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",this.filesCount>=9)break;var s=t.target.files[n];this.uploadImage(s),this.filesCount++}}},submit:function(){this.$refs.postForm.submit()},dragDropUpload:function(t,e){this.filesCount>=9||(this.uploadImage(t),this.filesCount++)},uploadImage:function(t){var e=window.tokenize("/api/image"),n=this,i=new FormData;i.append("from","post"),i.append("photo",t),window.axios.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var e=t.data;n.imgItems.push({url:e.url,id:e.id,selected:1})})},uploadVideo:function(t){var e=window.tokenize("/api/video"),n=this,i=new FormData;i.append("from","post"),i.append("video",t),window.axios.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var e=t.data;n.video_id=e.id})},uploadVideoToVod:function(t){var e=this;e.progress=0,console.log(t),console.log("start upload to qcvod ..."),qcVideo.ugcUploader.start({videoFile:t,getSignature:function(t){$.ajax({url:"/sdk/qcvod.php",type:"GET",success:function(e){t(e)}})},error:function(t){console.log("上传失败的原因："+t.msg)},progress:function(t){var n=parseInt(100*t.curr);e.progress=n},finish:function(t){$(e.$refs.upload).val(""),$(e.$refs.video_ele).css({opacity:"1"}),console.log("上传结果的fileId："+t.fileId),console.log("上传结果的视频名称："+t.videoName),console.log("上传结果的视频地址："+t.videoUrl);var n=e;$.ajax({url:window.tokenize("/api/video?from=qcvod"),type:"POST",data:t,success:function(t){console.log(t),n.video_id=t.id}})}})},deleteImg:function(t){t.selected=0,this.imgItems=this.selectedImgs,this.filesCount--,this.imgItems.length<1&&(this.fileFormat=!0)},deleteVideo:function(){this.videoPath=null,this.qcvod_id=null,this.allowMore=!0,this.videoPath||(this.fileFormat=!0)}},data:function(){return{video_id:null,progress:0,counter:1,balance:window.user.balance,query:null,alertInfo:!1,description:"",filesCount:0,qcvod_id:null,videoPath:null,videoObj:null,allowMore:!0,fileFormat:!0,imgItems:[]}}},o=(n("Ejw7"),n("KHd+")),s=Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-post"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",{ref:"postForm",attrs:{method:"post",action:"/post/new",enctype:"multipart/form-data"}},[n("div",{staticClass:"textarea-box img-upload-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{type:"hidden",name:"_token"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{name:"body",placeholder:"再说点什么...",maxlength:"500"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),n("span",{staticClass:"word-count"},[t._v(t._s(t.description.length)+"/500")]),t._v(" "),t._l(t.selectedImgs,function(e){return n("div",{staticClass:"img-preview-item clearfix"},[n("img",{staticClass:"as-height",attrs:{src:e.url,alt:""}}),t._v(" "),n("div",{staticClass:"img-del",on:{click:function(n){return t.deleteImg(e)}}},[n("i",{staticClass:"iconfont icon-cha"})])])}),t._v(" "),t.videoPath?n("div",{staticClass:"modal-video-box"},[n("div",{staticClass:"video-content"},[n("video",{ref:"video_ele",staticClass:"video",attrs:{src:t.videoPath,controls:""}}),t._v(" "),n("div",{ref:"progress_box",staticClass:"progress_box"},[n("loading",{attrs:{progress:t.progress}})],1)]),t._v(" "),n("div",{staticClass:"video-del",on:{click:t.deleteVideo}},[n("i",{staticClass:"iconfont icon-cha"})])]):t._e(),t._v(" "),n("div",{staticClass:"img-upload-btn"},[n("i",{staticClass:"iconfont icon-icon20"}),t._v(" "),n("div",{staticClass:"img-file"},[n("input",{ref:"upload",attrs:{type:"file",accept:t.fileFormat,multiple:"",name:"video"},on:{change:t.uploadOnFileSelected}})])])],2),t._v(" "),t._m(1),t._v(" "),t.alertInfo?n("div",{staticClass:"alert alert-info alert-dismissible",attrs:{role:"alert"}},[t._v("亲,视频名称不能包含特殊字符哟！")]):t._e(),t._v(" "),n("div",[n("category-select",{attrs:{placeholder:"选择专题"}})],1),t._v(" "),n("div",{staticClass:"img-selector"},[n("div",{class:["ask-img-header",t.selectedImgs.length>0?"bigger":""]},[n("span",{staticClass:"desc"},[t._v("（非必选）")])])]),t._v(" "),n("input",{attrs:{type:"hidden",name:"user_id"},domProps:{value:t.user.id}}),t._v(" "),t._l(t.selectedImgs,function(t){return n("input",{attrs:{name:"image_urls[]",type:"hidden"},domProps:{value:t.url}})}),t._v(" "),t.video_id?n("input",{attrs:{name:"video_id",type:"hidden"},domProps:{value:t.video_id}}):t._e()],2)]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("button",{staticClass:"btn-base btn-handle btn-md pull-right",on:{click:t.submit}},[t._v("提交")])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("发布动态")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip-text"},[e("p",{staticClass:"desc"},[this._v("1、上传视频超过100M的视频请耐心等待哦，若上传失败建议压缩至100M以内")]),this._v(" "),e("p",{staticClass:"desc"},[this._v("2、当前视频上传仅支持MP4格式")])])}],!1,null,null,null);e.default=s.exports},"ioY+":function(t,e,n){var i=n("LLRZ");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},izFn:function(t,e,n){"use strict";var i=n("9lDk");n.n(i).a},jRtu:function(t,e,n){"use strict";n.r(e);var i=(n("/MSi"),n("KHd+")),r=Object(i.a)({name:"Write",data:function(){return{}}},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"write"}},[e("router-view")],1)},[],!1,null,null,null);e.default=r.exports},jYyV:function(t,e,n){var i=n("PLIS");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"jfS+":function(t,e,n){"use strict";var i=n("endd");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},"jl8+":function(t,e,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=60)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(49)("wks"),r=n(30),a=n(0).Symbol,o="function"==typeof a;(t.exports=function(t){return i[t]||(i[t]=o&&a[t]||(o?a:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(5);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(0),r=n(10),a=n(8),o=n(6),s=n(11),l=function(t,e,n){var c,u,d,f,p=t&l.F,h=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,y=h?i:m?i[e]||(i[e]={}):(i[e]||{}).prototype,b=h?r:r[e]||(r[e]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=e),n)d=((u=!p&&y&&void 0!==y[c])?y:n)[c],f=v&&u?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,y&&o(y,c,d,t&l.U),b[c]!=d&&a(b,c,f),g&&_[c]!=d&&(_[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){t.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(0),r=n(8),a=n(12),o=n(30)("src"),s=Function.toString,l=(""+s).split("toString");n(10).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(a(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(a(n,o)||r(n,o,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(13),r=n(25);t.exports=n(4)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(14);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(2),r=n(41),a=n(29),o=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var i=n(7);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var i=n(23),r=n(16);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(53),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(11),r=n(23),a=n(28),o=n(19),s=n(64);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,d=6==t,f=5==t||d,p=e||s;return function(e,s,h){for(var m,g,v=a(e),y=r(v),b=i(s,h,3),_=o(y.length),w=0,x=n?p(e,_):l?p(e,0):void 0;_>w;w++)if((f||w in y)&&(g=b(m=y[w],w,v),t))if(n)x[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(u)return!1;return d?-1:c||u?u:x}}},function(t,e,n){var i=n(5),r=n(0).document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(9);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){t.exports=!1},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(13).f,r=n(12),a=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e,n){var i=n(49)("keys"),r=n(30);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(16);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){"use strict";var i=n(0),r=n(12),a=n(9),o=n(67),s=n(29),l=n(7),c=n(77).f,u=n(45).f,d=n(13).f,f=n(51).trim,p=i.Number,h=p,m=p.prototype,g="Number"==a(n(44)(m)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,a=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if((o=l.charCodeAt(c))<48||o>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?l(function(){m.valueOf.call(n)}):"Number"!=a(n))?o(new h(y(e)),n,p):y(e)};for(var b,_=n(4)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)r(h,b=_[w])&&!r(p,b)&&d(p,b,u(h,b));p.prototype=m,m.constructor=p,n(6)(i,"Number",p)}},function(t,e,n){"use strict";function i(t){return!(0===t||(!Array.isArray(t)||0!==t.length)&&t)}function r(t,e,n,i){return t.filter(function(t){return function(t,e){return void 0===t&&(t="undefined"),null===t&&(t="null"),!1===t&&(t="false"),-1!==t.toString().toLowerCase().indexOf(e.trim())}(i(t,n),e)})}function a(t){return t.filter(function(t){return!t.$isLabel})}function o(t,e){return function(n){return n.reduce(function(n,i){return i[t]&&i[t].length?(n.push({$groupLabel:i[e],$isLabel:!0}),n.concat(i[t])):n},[])}}function s(t,e,i,a,o){return function(s){return s.map(function(s){var l;if(!s[i])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];var c=r(s[i],t,e,o);return c.length?(l={},n.i(f.a)(l,a,s[a]),n.i(f.a)(l,i,c),l):[]})}}var l=n(59),c=n(54),u=(n.n(c),n(95)),d=(n.n(u),n(31)),f=(n.n(d),n(58)),p=n(91),h=(n.n(p),n(98)),m=(n.n(h),n(92)),g=(n.n(m),n(88)),v=(n.n(g),n(97)),y=(n.n(v),n(89)),b=(n.n(y),n(96)),_=(n.n(b),n(93)),w=(n.n(_),n(90)),x=(n.n(w),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}});e.a={data:function(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(t,e){return i(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default:function(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted:function(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue:function(){return this.value||0===this.value?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions:function(){var t=this.search||"",e=t.toLowerCase().trim(),n=this.options.concat();return n=this.internalSearch?this.groupValues?this.filterAndFlat(n,e,this.label):r(n,e,this.label,this.customLabel):this.groupValues?o(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(function(t){return function(){return!t.apply(void 0,arguments)}}(this.isSelected)):n,this.taggable&&e.length&&!this.isExistingOption(e)&&("bottom"===this.tagPosition?n.push({isTag:!0,label:t}):n.unshift({isTag:!0,label:t})),n.slice(0,this.optionsLimit)},valueKeys:function(){var t=this;return this.trackBy?this.internalValue.map(function(e){return e[t.trackBy]}):this.internalValue},optionKeys:function(){var t=this;return(this.groupValues?this.flatAndStrip(this.options):this.options).map(function(e){return t.customLabel(e,t.label).toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search:function(){this.$emit("search-change",this.search,this.id)}},methods:{getValue:function(){return this.multiple?this.internalValue:0===this.internalValue.length?null:this.internalValue[0]},filterAndFlat:function(t,e,n){return x(s(e,n,this.groupValues,this.groupLabel,this.customLabel),o(this.groupValues,this.groupLabel))(t)},flatAndStrip:function(t){return x(o(this.groupValues,this.groupLabel),a)(t)},updateSearch:function(t){this.search=t},isExistingOption:function(t){return!!this.options&&this.optionKeys.indexOf(t)>-1},isSelected:function(t){var e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},isOptionDisabled:function(t){return!!t.$isDisabled},getOptionLabel:function(t){if(i(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;var e=this.customLabel(t,this.label);return i(e)?"":e},select:function(t,e){if(t.$isLabel&&this.groupSelect)this.selectGroup(t);else if(!(-1!==this.blockKeys.indexOf(e)||this.disabled||t.$isDisabled||t.$isLabel)&&(!this.max||!this.multiple||this.internalValue.length!==this.max)&&("Tab"!==e||this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t))return void("Tab"!==e&&this.removeElement(t));this.$emit("select",t,this.id),this.multiple?this.$emit("input",this.internalValue.concat([t]),this.id):this.$emit("input",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup:function(t){var e=this,n=this.options.find(function(n){return n[e.groupLabel]===t.$groupLabel});if(n)if(this.wholeGroupSelected(n)){this.$emit("remove",n[this.groupValues],this.id);var i=this.internalValue.filter(function(t){return-1===n[e.groupValues].indexOf(t)});this.$emit("input",i,this.id)}else{var r=n[this.groupValues].filter(function(t){return!(e.isOptionDisabled(t)||e.isSelected(t))});this.$emit("select",r,this.id),this.$emit("input",this.internalValue.concat(r),this.id)}},wholeGroupSelected:function(t){var e=this;return t[this.groupValues].every(function(t){return e.isSelected(t)||e.isOptionDisabled(t)})},wholeGroupDisabled:function(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.disabled&&!t.$isDisabled){if(!this.allowEmpty&&this.internalValue.length<=1)return void this.deactivate();var i="object"===n.i(l.a)(t)?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.$emit("remove",t,this.id),this.multiple){var r=this.internalValue.slice(0,i).concat(this.internalValue.slice(i+1));this.$emit("input",r,this.id)}else this.$emit("input",null,this.id);this.closeOnSelect&&e&&this.deactivate()}},removeLastElement:function(){-1===this.blockKeys.indexOf("Delete")&&0===this.search.length&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate:function(){var t=this;this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&0===this.pointer&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick(function(){return t.$refs.search.focus()})):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){if("undefined"!=typeof window){var t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||"below"===this.openDirection||"bottom"===this.openDirection?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}}}},function(t,e,n){"use strict";var i=n(54),r=(n.n(i),n(31));n.n(r),e.a={data:function(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight},visibleElements:function(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()},isOpen:function(){this.pointerDirty=!1}},methods:{optionHighlight:function(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight:function(t,e){var n=this;if(!this.groupSelect)return["multiselect__option--group","multiselect__option--disabled"];var i=this.options.find(function(t){return t[n.groupLabel]===e.$groupLabel});return i&&!this.wholeGroupDisabled(i)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(i)}]:"multiselect__option--disabled"},addPointerElement:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Enter").key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet:function(t){this.pointer=t,this.pointerDirty=!0}}}},function(t,e,n){"use strict";var i=n(36),r=n(74),a=n(15),o=n(18);t.exports=n(72)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(31),r=(n.n(i),n(32)),a=n(33);e.a={name:"vue-multiselect",mixins:[r.a,a.a],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(t){return"and ".concat(t," more")}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible:function(){return(this.singleValue||0===this.singleValue)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible:function(){return!(this.internalValue.length||this.searchable&&this.isOpen)},visibleValues:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue:function(){return this.internalValue[0]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText:function(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectGroupLabelText:function(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""},inputStyle:function(){if(this.searchable||this.multiple&&this.value&&this.value.length)return this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}},contentStyle:function(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove:function(){return"above"===this.openDirection||"top"===this.openDirection||"below"!==this.openDirection&&"bottom"!==this.openDirection&&"above"===this.preferredOpenDirection},showSearchInput:function(){return this.searchable&&(!this.hasSingleSelectedSlot||!this.visibleSingleValue&&0!==this.visibleSingleValue||this.isOpen)}}}},function(t,e,n){var i=n(1)("unscopables"),r=Array.prototype;null==r[i]&&n(8)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(18),r=n(19),a=n(85);t.exports=function(t){return function(e,n,o){var s,l=i(e),c=r(l.length),u=a(o,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(9),r=n(1)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:a?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){"use strict";var i=n(2);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(0).document;t.exports=i&&i.documentElement},function(t,e,n){t.exports=!n(4)&&!n(7)(function(){return 7!=Object.defineProperty(n(21)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(9);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=r(e),this.reject=r(n)}var r=n(14);t.exports.f=function(t){return new i(t)}},function(t,e,n){var i=n(2),r=n(76),a=n(22),o=n(27)("IE_PROTO"),s=function(){},l=function(){var t,e=n(21)("iframe"),i=a.length;for(e.style.display="none",n(40).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[a[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[o]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(79),r=n(25),a=n(18),o=n(29),s=n(12),l=n(41),c=Object.getOwnPropertyDescriptor;e.f=n(4)?c:function(t,e){if(t=a(t),e=o(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(12),r=n(18),a=n(37)(!1),o=n(27)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var i=n(46),r=n(22);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(2),r=n(5),a=n(43);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(10),r=n(0),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(24)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(2),r=n(14),a=n(1)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||null==(n=i(o)[a])?e:r(n)}},function(t,e,n){var i=n(3),r=n(16),a=n(7),o=n(84),s="["+o+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,n){var r={},s=a(function(){return!!o[t]()||"​"!="​"[t]()}),l=r[t]=s?e(d):o[t];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e,n){var i,r,a,o=n(11),s=n(68),l=n(40),c=n(21),u=n(0),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete v[t]},"process"==n(9)(d)?i=function(t){d.nextTick(o(y,t,1))}:m&&m.now?i=function(t){m.now(o(y,t,1))}:h?(a=(r=new h).port2,r.port1.onmessage=b,i=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";var i=n(3),r=n(20)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)("find")},function(t,e,n){"use strict";var i,r,a,o,s=n(24),l=n(0),c=n(11),u=n(38),d=n(3),f=n(5),p=n(14),h=n(61),m=n(66),g=n(50),v=n(52).set,y=n(75)(),b=n(43),_=n(80),w=n(86),x=n(48),T=l.TypeError,k=l.process,C=k&&k.versions,E=C&&C.v8||"",S=l.Promise,A="process"==u(k),R=function(){},L=r=b.f,D=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(R,R)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,r=1==t._s,a=0;n.length>a;)!function(e){var n,a,o,s=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(r||(2==t._h&&M(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===e.promise?c(T("Promise-chain cycle")):(a=O(n))?a.call(n,l,c):l(n)):c(i)}catch(t){u&&!o&&u.exit(),c(t)}}(n[a++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){v.call(l,function(){var e,n,i,r=t._v,a=N(t);if(a&&(e=_(function(){A?k.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=A||N(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){v.call(l,function(){var e;A?k.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=O(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,c(j,i,1),c(F,i,1))}catch(t){F.call(i,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};D||(S=function(t){h(this,S,"Promise","_h"),p(t),i.call(this);try{t(c(j,this,1),c(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(81)(S.prototype,{then:function(t,e){var n=L(g(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i;this.promise=t,this.resolve=c(j,t,1),this.reject=c(F,t,1)},b.f=L=function(t){return t===S||t===o?new a(t):r(t)}),d(d.G+d.W+d.F*!D,{Promise:S}),n(26)(S,"Promise"),n(83)("Promise"),o=n(10).Promise,d(d.S+d.F*!D,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!D),"Promise",{resolve:function(t){return x(s&&this===o?S:this,t)}}),d(d.S+d.F*!(D&&n(73)(function(t){S.all(t).catch(R)})),"Promise",{all:function(t){var e=this,n=L(e),i=n.resolve,r=n.reject,a=_(function(){var n=[],a=0,o=1;m(t,!1,function(t){var s=a++,l=!1;n.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--o||i(n))},r)}),--o||i(n)});return a.e&&r(a.v),n.promise},race:function(t){var e=this,n=L(e),i=n.reject,r=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(3),r=n(10),a=n(0),o=n(50),s=n(48);i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,r.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(35),r=n(101),a=n(100)(i.a,r.a,!1,function(t){n(99)},null,null);e.a=a.exports},function(t,e,n){"use strict";e.a=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}e.a=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=(n.n(i),n(55)),a=(n.n(r),n(56)),o=(n.n(a),n(57)),s=n(32),l=n(33);n.d(e,"Multiselect",function(){return o.a}),n.d(e,"multiselectMixin",function(){return s.a}),n.d(e,"pointerMixin",function(){return l.a}),e.default=o.a},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(14),r=n(28),a=n(23),o=n(19);t.exports=function(t,e,n,s,l){i(e);var c=r(t),u=a(c),d=o(c.length),f=l?d-1:0,p=l?-1:1;if(n<2)for(;;){if(f in u){s=u[f],f+=p;break}if(f+=p,l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=p)f in u&&(s=e(s,u[f],f,c));return s}},function(t,e,n){var i=n(5),r=n(42),a=n(1)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var i=n(63);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(8),r=n(6),a=n(7),o=n(16),s=n(1);t.exports=function(t,e,n){var l=s(t),c=n(o,l,""[t]),u=c[0],d=c[1];a(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,u),i(RegExp.prototype,l,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},function(t,e,n){var i=n(11),r=n(70),a=n(69),o=n(2),s=n(19),l=n(87),c={},u={};(e=t.exports=function(t,e,n,d,f){var p,h,m,g,v=f?function(){return t}:l(t),y=i(n,d,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(a(v)){for(p=s(t.length);p>b;b++)if((g=e?y(o(h=t[b])[0],h[1]):y(t[b]))===c||g===u)return g}else for(m=v.call(t);!(h=m.next()).done;)if((g=r(m,y,h.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,n){var i=n(5),r=n(82).set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(15),r=n(1)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},function(t,e,n){var i=n(2);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(t,e,n){"use strict";var i=n(44),r=n(25),a=n(26),o={};n(8)(o,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:r(1,n)}),a(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(24),r=n(3),a=n(6),o=n(8),s=n(15),l=n(71),c=n(26),u=n(78),d=n(1)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,h,m,g,v){l(n,e,h);var y,b,_,w=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",T="values"==m,k=!1,C=t.prototype,E=C[d]||C["@@iterator"]||m&&C[m],S=E||w(m),A=m?T?w("entries"):S:void 0,R="Array"==e&&C.entries||E;if(R&&(_=u(R.call(new t)))!==Object.prototype&&_.next&&(c(_,x,!0),i||"function"==typeof _[d]||o(_,d,p)),T&&E&&"values"!==E.name&&(k=!0,S=function(){return E.call(this)}),i&&!v||!f&&!k&&C[d]||o(C,d,S),s[e]=S,s[x]=p,m)if(y={values:T?S:w("values"),keys:g?S:w("keys"),entries:A},v)for(b in y)b in C||a(C,b,y[b]);else r(r.P+r.F*(f||k),e,y);return y}},function(t,e,n){var i=n(1)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],o=a[i]();o.next=function(){return{done:n=!0}},a[i]=function(){return o},t(a)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(0),r=n(52).set,a=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,l="process"==n(9)(o);t.exports=function(){var t,e,n,c=function(){var i,r;for(l&&(i=o.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){o.nextTick(c)};else if(!a||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,f=document.createTextNode("");new a(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(13),r=n(2),a=n(47);t.exports=n(4)?Object.defineProperties:function(t,e){r(t);for(var n,o=a(e),s=o.length,l=0;s>l;)i.f(t,n=o[l++],e[n]);return t}},function(t,e,n){var i=n(46),r=n(22).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(12),r=n(28),a=n(27)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(6);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(5),r=n(2),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(11)(Function.call,n(45).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){"use strict";var i=n(0),r=n(13),a=n(4),o=n(1)("species");t.exports=function(t){var e=i[t];a&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(53),r=Math.max,a=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):a(t,e)}},function(t,e,n){var i=n(0).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(38),r=n(1)("iterator"),a=n(15);t.exports=n(10).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||a[i(t)]}},function(t,e,n){"use strict";var i=n(3),r=n(20)(2);i(i.P+i.F*!n(17)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(3),r=n(37)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!n(17)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){var i=n(3);i(i.S,"Array",{isArray:n(42)})},function(t,e,n){"use strict";var i=n(3),r=n(20)(1);i(i.P+i.F*!n(17)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(3),r=n(62);i(i.P+i.F*!n(17)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var i=Date.prototype,r=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(6)(i,"toString",function(){var t=a.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){n(4)&&"g"!=/./g.flags&&n(13).f(RegExp.prototype,"flags",{configurable:!0,get:n(39)})},function(t,e,n){n(65)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){"use strict";n(94);var i=n(2),r=n(39),a=n(4),o=/./.toString,s=function(t){n(6)(RegExp.prototype,"toString",t,!0)};n(7)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(t,e,n){"use strict";n(51)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){for(var i=n(34),r=n(47),a=n(6),o=n(0),s=n(8),l=n(15),c=n(1),u=c("iterator"),d=c("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=o[v],_=b&&b.prototype;if(_&&(_[u]||s(_,u,f),_[d]||s(_,d,v),l[v]=f,y))for(g in i)_[g]||a(_,g,i[g],!0)}},function(t,e){},function(t,e){t.exports=function(t,e,n,i,r,a){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var c,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=i),c){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:o,exports:s,options:u}}},function(t,e,n){"use strict";e.a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multiselect",class:{"multiselect--active":t.isOpen,"multiselect--disabled":t.disabled,"multiselect--above":t.isAbove},attrs:{tabindex:t.searchable?-1:t.tabindex},on:{focus:function(e){t.activate()},blur:function(e){!t.searchable&&t.deactivate()},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?e.target!==e.currentTarget?null:(e.preventDefault(),void t.pointerForward()):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?e.target!==e.currentTarget?null:(e.preventDefault(),void t.pointerBackward()):null}],keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")||!t._k(e.keyCode,"tab",9,e.key,"Tab")?(e.stopPropagation(),e.target!==e.currentTarget?null:void t.addPointerElement(e)):null},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.deactivate()}}},[t._t("caret",[n("div",{staticClass:"multiselect__select",on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}}})],{toggle:t.toggle}),t._v(" "),t._t("clear",null,{search:t.search}),t._v(" "),n("div",{ref:"tags",staticClass:"multiselect__tags"},[t._t("selection",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleValues.length>0,expression:"visibleValues.length > 0"}],staticClass:"multiselect__tags-wrap"},[t._l(t.visibleValues,function(e,i){return[t._t("tag",[n("span",{key:i,staticClass:"multiselect__tag"},[n("span",{domProps:{textContent:t._s(t.getOptionLabel(e))}}),t._v(" "),n("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keypress:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.preventDefault(),t.removeElement(e)},mousedown:function(n){n.preventDefault(),t.removeElement(e)}}})])],{option:e,search:t.search,remove:t.removeElement})]})],2),t._v(" "),t.internalValue&&t.internalValue.length>t.limit?[t._t("limit",[n("strong",{staticClass:"multiselect__strong",domProps:{textContent:t._s(t.limitText(t.internalValue.length-t.limit))}})])]:t._e()],{search:t.search,remove:t.removeElement,values:t.visibleValues,isOpen:t.isOpen}),t._v(" "),n("transition",{attrs:{name:"multiselect__loading"}},[t._t("loading",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),t._v(" "),t.searchable?n("input",{ref:"search",staticClass:"multiselect__input",style:t.inputStyle,attrs:{name:t.name,id:t.id,type:"text",autocomplete:"nope",placeholder:t.placeholder,disabled:t.disabled,tabindex:t.tabindex},domProps:{value:t.search},on:{input:function(e){t.updateSearch(e.target.value)},focus:function(e){e.preventDefault(),t.activate()},blur:function(e){e.preventDefault(),t.deactivate()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.deactivate()},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.pointerForward()},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.pointerBackward()},function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"]))return null;e.stopPropagation(),t.removeLastElement()}],keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),e.stopPropagation(),e.target!==e.currentTarget?null:void t.addPointerElement(e)):null}}}):t._e(),t._v(" "),t.isSingleLabelVisible?n("span",{staticClass:"multiselect__single",on:{mousedown:function(e){return e.preventDefault(),t.toggle(e)}}},[t._t("singleLabel",[[t._v(t._s(t.currentOptionLabel))]],{option:t.singleValue})],2):t._e(),t._v(" "),t.isPlaceholderVisible?n("span",{staticClass:"multiselect__placeholder",on:{mousedown:function(e){return e.preventDefault(),t.toggle(e)}}},[t._t("placeholder",[t._v("\n          "+t._s(t.placeholder)+"\n        ")])],2):t._e()],2),t._v(" "),n("transition",{attrs:{name:"multiselect"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content-wrapper",style:{maxHeight:t.optimizedHeight+"px"},attrs:{tabindex:"-1"},on:{focus:t.activate,mousedown:function(t){t.preventDefault()}}},[n("ul",{staticClass:"multiselect__content",style:t.contentStyle},[t._t("beforeList"),t._v(" "),t.multiple&&t.max===t.internalValue.length?n("li",[n("span",{staticClass:"multiselect__option"},[t._t("maxElements",[t._v("Maximum of "+t._s(t.max)+" options selected. First remove a selected option to select another.")])],2)]):t._e(),t._v(" "),!t.max||t.internalValue.length<t.max?t._l(t.filteredOptions,function(e,i){return n("li",{key:i,staticClass:"multiselect__element"},[e&&(e.$isLabel||e.$isDisabled)?t._e():n("span",{staticClass:"multiselect__option",class:t.optionHighlight(i,e),attrs:{"data-select":e&&e.isTag?t.tagPlaceholder:t.selectLabelText,"data-selected":t.selectedLabelText,"data-deselect":t.deselectLabelText},on:{click:function(n){n.stopPropagation(),t.select(e)},mouseenter:function(e){if(e.target!==e.currentTarget)return null;t.pointerSet(i)}}},[t._t("option",[n("span",[t._v(t._s(t.getOptionLabel(e)))])],{option:e,search:t.search})],2),t._v(" "),e&&(e.$isLabel||e.$isDisabled)?n("span",{staticClass:"multiselect__option",class:t.groupHighlight(i,e),attrs:{"data-select":t.groupSelect&&t.selectGroupLabelText,"data-deselect":t.groupSelect&&t.deselectGroupLabelText},on:{mouseenter:function(e){if(e.target!==e.currentTarget)return null;t.groupSelect&&t.pointerSet(i)},mousedown:function(n){n.preventDefault(),t.selectGroup(e)}}},[t._t("option",[n("span",[t._v(t._s(t.getOptionLabel(e)))])],{option:e,search:t.search})],2):t._e()])}):t._e(),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.showNoResults&&0===t.filteredOptions.length&&t.search&&!t.loading,expression:"showNoResults && (filteredOptions.length === 0 && search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[t._t("noResult",[t._v("No elements found. Consider changing the search query.")],{search:t.search})],2)]),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.showNoOptions&&0===t.options.length&&!t.search&&!t.loading,expression:"showNoOptions && (options.length === 0 && !search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[t._t("noOptions",[t._v("List is empty.")])],2)]),t._v(" "),t._t("afterList")],2)])])],2)},staticRenderFns:[]}}])},jxZC:function(t,e,n){"use strict";n.r(e);var i={name:"NewComment",computed:{user:function(){return window.user},isLogin:function(){return void 0!==window.user}},methods:{send:function(){if(!this.newComment)return null;this.newComment=this.newComment.replace(/<span class="atwho-inserted" data-atwho-at-query="@(.*?)" contenteditable="false"><span data-id="(\d+)">@(.*?)<\/span><\/span>/g,'<at href="/user/$2" data-id="$2">@$3</at>'),this.$emit("sendComment",this.newComment),$("#editComment").empty(),this.newComment=null},setComment:function(){this.newComment=$("#editComment").html()},showSend:function(){this.showButton=!0},hideSend:function(){this.showButton=!1}},data:function(){return{newComment:null,showButton:!1}}},r=(n("GurB"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"new-comment"},[n("a",{staticClass:"avatar"},[n("img",{attrs:{src:t.isLogin?t.user.avatar:"/images/user.png"}})]),t._v(" "),t.isLogin?n("div",[n("div",{staticClass:"commenTable",attrs:{placeholder:"写下你的评论...",id:"editComment",contentEditable:"true"},on:{click:t.showSend,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.send(e):null},input:t.setComment}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showButton?n("div",{staticClass:"write-block"},[n("div",{staticClass:"emoji-wrap"},[n("a",{staticClass:"emoji"},[n("i",{staticClass:"iconfont icon-smile"})])]),t._v(" "),n("div",{staticClass:"hint"},[t._v("Ctrl+Enter 发表")]),t._v(" "),n("a",{staticClass:"btn-base btn-handle btn-md",class:{disable:!t.newComment},on:{click:t.send}},[t._v("发送")]),t._v(" "),n("a",{staticClass:"cancel",on:{click:t.hideSend}},[t._v("取消")])]):t._e()])],1):n("div",[t._m(0)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sign-container"},[e("a",{staticClass:"btn-base btn-handle btn-md",attrs:{href:"/login"}},[this._v("登录")]),this._v(" "),e("span",[this._v("后发表评论")])])}],!1,null,"33b5a35b",null);e.default=a.exports},"k/h5":function(t,e,n){"use strict";var i=n("5cY0");n.n(i).a},kLOM:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".delete .text[data-v-70a5a406]{margin-left:5px;font-size:14px}.deleted[data-v-70a5a406]:hover{color:#969696}",""])},kUVx:function(t,e,n){"use strict";n.r(e);var i={name:"ModalContribute",props:["categoryId"],created:function(){var t=this;$bus.$on("showContribute",function(e){t.cateId=e,t.clear(),t.fetchData()})},mounted:function(){this.get_cate_id()&&this.fetchData()},methods:{api:function(){var t="/api/categories/check-category-"+this.get_cate_id();return this.q&&(t=t+"?q="+this.q),window.tokenize(t)},get_cate_id:function(){return this.cateId?this.cateId:this.categoryId},clear:function(){this.articles=[]},loadMore:function(){this.page<this.lastPage&&(this.page++,this.fetchData(this.categoryId))},fetchData:function(){var t=this;window.axios.get(this.api()).then(function(e){t.articles=e.data.data,t.lastPage=e.data.last_page})},submit:function(t){var e=window.tokenize("/api/categories/"+t.id+"/submit-category-"+this.get_cate_id());-1===t.submit_status.indexOf("收录")&&-1===t.submit_status.indexOf("移除")||(e=window.tokenize("/api/categories/"+t.id+"/add-category-"+this.get_cate_id())),window.axios.get(e).then(function(e){t.submit_status=e.data.submit_status,t.submited_status=e.data.submited_status})},getBtnClass:function(t){return-1!==t.submit_status.indexOf("投稿")||-1!==t.submit_status.indexOf("收录")?"btn-base btn-hollow btn-sm":"btn-base btn-gray btn-sm"}},data:function(){return{q:null,cateId:null,lastPage:null,page:1,articles:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-contribute"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[t._v("×")]),t._v(" "),t._m(0),t._v(" "),n("span",{staticClass:"notice"},[t._v("每篇文章有总共有5次投稿机会")]),t._v(" "),n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],attrs:{type:"text",placeholder:"搜索我的文章",id:"search-input"},domProps:{value:t.q},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData(e)},input:function(e){e.target.composing||(t.q=e.target.value)}}}),t._v(" "),n("a",{staticClass:"search-btn iconfont icon-sousuo"})])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("ul",{attrs:{id:"contribute-note-list"}},t._l(t.articles,function(e){return n("li",[n("div",[n("div",{staticClass:"note-name"},[t._v(t._s(e.title))]),t._v(" "),"已收录"!=e.submited_status?n("a",{class:["action-btn",t.getBtnClass(e)],on:{click:function(n){return t.submit(e)}}},[t._v("\n                                \t"+t._s(e.submit_status)+"\n                              \t")]):t._e(),t._v(" "),e.submit_status?n("span",{staticClass:"status"},[t._v("\n                                \t"+t._s(e.submited_status)+"\n                              \t")]):t._e()])])}),0)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"modal-title"},[this._v("\n\t\t\t\t      给该专题投稿\n\t\t\t\t      "),e("a",{staticClass:"new-note-btn",attrs:{href:"/write"}},[this._v("写篇新文章")])])}],!1,null,"434df31e",null);e.default=a.exports},kxaU:function(t,e,n){"use strict";n.r(e);var i={name:"deleteNotebook",props:["count"],computed:{noteName:function(){return this.$store.state.currentCollection.name},message:function(){return this.count>1?"<p>确认删除文集《"+this.noteName+"》，文章将被移动到回收站。</p>":'\n              <i class="iconfont icon-jinggao"></i>\n              <span class="text-center">至少保留1个文集!</span>'}},methods:{submit:function(){$(".delete-notebook").modal("hide"),this.count>1&&this.$store.dispatch("removeCollection",this.$store.state.currentCollection.id)}},data:function(){return{}}},r=(n("uqMP"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade delete-notebook"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),n("footer",{staticClass:"clearfix"},[n("a",{staticClass:"submit btn-base btn-hollow btn-md",on:{click:t.submit}},[t._v("确认")]),t._v(" "),t.count>1?n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("取消")]):t._e()])])])])},[],!1,null,null,null);e.default=a.exports},l3D9:function(t,e,n){"use strict";n.r(e);var i=(n("ti8N"),n("KHd+")),r=Object(i.a)({name:"ModalTips",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade modal-tips"},[e("div",{staticClass:"modal-dialog simple"},[e("div",{staticClass:"modal-content"},[e("h4",[this._v("至少保留一个文集! ")])])])])}],!1,null,"9c7ebac0",null);e.default=r.exports},l8Kw:function(t,e,n){"use strict";n.r(e);var i={name:"ShareModule",props:[],mounted:function(){},methods:{shareModule:function(){$("#pageLayout").css("display","block"),$(".share-module ").animate({bottom:"0px"})}},data:function(){return{}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{on:{click:this.shareModule}},[e("i",{staticClass:"iconfont icon-fenxiang"}),this._v(" "),e("p",[this._v("分享到")])])},[],!1,null,"20a0cf01",null);e.default=a.exports},lTlg:function(t,e,n){"use strict";n.r(e);var i={name:"InputMatching",props:["name","placeholder","hideSuggestion"],methods:{inputQuestion:function(){if(void 0===this.hideSuggestion){this.$nextTick(function(){$(document).click(function(){$(".matched-wrap").hide()})});var t=this;axios.get(tokenize("/api/suggest-question?q="+this.title),this.question).then(function(e){t.matchedData=e.data},function(e){t.matchedData=[]})}},selectQuestion:function(t){this.title=t.title}},data:function(){return{title:"",matchedData:[],simulationData:[{id:1,title:"你要多喝水才行啊"},{id:2,title:"怎么才能让你去多喝水"}]}}},r=(n("Cs11"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"input-matching",staticClass:"input-matching"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],class:["input-style",t.title&&t.matchedData.length?"matching":""],attrs:{name:t.name,type:"text",placeholder:t.placeholder?t.placeholder:"请输入问题（不超过40字）"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value)},t.inputQuestion]}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.title&&t.matchedData.length,expression:"title && matchedData.length"}],staticClass:"matched-wrap"},[n("h5",[t._v("相似问题")]),t._v(" "),n("ul",{staticClass:"matched"},t._l(t.matchedData,function(e){return n("li",{on:{click:function(n){return t.selectQuestion(e)}}},[n("span",{staticClass:"small pull-right"},[t._v("继续提问")]),t._v(" "),n("a",{staticClass:"matchItem",attrs:{href:"/question/"+e.id}},[t._v(t._s(e.title))])])}),0)])])},[],!1,null,"41ce9cac",null);e.default=a.exports},lUek:function(t,e,n){"use strict";n.r(e);var i={name:"Chat",created:function(){this.fetchData()},methods:{showMenu:function(t){t.preventDefault(),$(t.currentTarget).children(".dropdown_menu").toggleClass("show")},fetchData:function(){var t=window.tokenize("/api/notification/chat/"+this.$route.params.id+"?page="+this.page),e=this;window.axios.get(t).then(function(t){e.with_user=t.data.with_user,e.last_page=t.data.messages.last_page;var n=t.data.messages.data;for(var i in n){var r=n[i];e.messages.unshift(r)}})},loadMore:function(){++this.page,this.fetchData()},isSelf:function(t){return window.user.id==t},enterSend:function(t){13==t.keyCode&&(t.shiftKey||this.send())},send:function(t){if(!(this.new_message.message&&this.new_message.message.trim().length<1)){var e=window.tokenize("/api/notification/chat/"+this.$route.params.id+"/send"),n={message:this.new_message.message};this.messages=this.messages.concat(this.new_message);var i=this;window.axios.post(e,n).then(function(t){i.messages.pop(),i.messages=i.messages.concat(t.data),i.new_message.message="",i.scrollToBottom()})}},scrollToBottom:function(){var t=this;this.$nextTick(function(){var e=t.$refs.message_list;window.scrollTo(0,e.scrollHeight)})}},data:function(){return{with_user:null,page:1,last_page:null,messages:[],new_message:{user:window.user,user_id:window.user.id,message:null}}}},r=(n("ocH+"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.with_user?n("div",[n("div",{staticClass:"chat-wrapper"},[n("div",{staticClass:"chat-top"},[n("router-link",{staticClass:"back-list active",attrs:{to:"/chats"}},[n("i",{staticClass:"iconfont icon-zuobian"}),n("span",{staticClass:"hidden-xs"},[t._v("返回消息列表")])]),t._v(" "),n("b",[t._v("与 "),n("a",{staticClass:"single-line ",attrs:{href:"javascript:;"}},[t._v(t._s(t.with_user.name))]),t._v(" 的对话")]),t._v(" "),t._m(0)],1),t._v(" "),n("div",{ref:"message_list",staticClass:"message-show",attrs:{id:"message_list"}},[t.last_page>1&&t.page<t.last_page?n("a",{staticClass:"load-more",on:{click:t.loadMore}},[t._v("加载更多")]):t._e(),t._v(" "),n("ul",{staticClass:"message-list"},t._l(t.messages,function(e){return n("li",{class:"message-"+(t.isSelf(e.user_id)?"r":"l")},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar}})]),t._v(" "),n("div",{staticClass:"content-wrap"},[n("div",{staticClass:"clearfix"},[n("span",{staticClass:"content",domProps:{innerHTML:t._s(e.message)}})]),n("span",{staticClass:"time"},[t._v(t._s(e.time))])])])}),0)]),t._v(" "),n("div",{staticClass:"write-message"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.new_message.message,expression:"new_message.message"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.new_message.message},on:{keyup:t.enterSend,input:function(e){e.target.composing||t.$set(t.new_message,"message",e.target.value)}}}),t._v(" "),n("div",{staticClass:"write-block"},[n("div",{staticClass:"hint"},[t._v("Return 直接发送")]),t._v(" "),n("input",{staticClass:"btn-base btn-handle btn-md",attrs:{type:"submit",value:"发送"},on:{click:t.send}})])])])]):n("div",{staticClass:"loading"},[t._v("\n  正在加载...\n")])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dropdown"},[e("a",{staticClass:"open-dropdown dropdown-toggle",attrs:{href:"javascript:;","data-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"iconfont icon-xia"})]),this._v(" "),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{staticClass:"link",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-heimingdan1"}),e("span",[this._v("加入黑名单")])])]),this._v(" "),e("li",[e("a",{staticClass:"report link",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-iconset03100"}),e("span",[this._v("举报用户")])])])])])}],!1,null,"f6b829f6",null);e.default=a.exports},lmdW:function(t,e,n){var i,r,a;r="undefined"!=typeof window?window:this,a=function(n,r){var a=[],o=n.document,s=a.slice,l=a.concat,c=a.push,u=a.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h={},m=function(t,e){return new m.fn.init(t,e)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([\da-z])/gi,b=function(t,e){return e.toUpperCase()};function _(t){var e=!!t&&"length"in t&&t.length,n=m.type(t);return"function"!==n&&!m.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}m.fn=m.prototype={jquery:"2.2.4",constructor:m,selector:"",length:0,toArray:function(){return s.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:s.call(this)},pushStack:function(t){var e=m.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return m.each(this,t)},map:function(t){return this.pushStack(m.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},m.extend=m.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||m.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],o!==(i=t[e])&&(c&&i&&(m.isPlainObject(i)||(r=m.isArray(i)))?(r?(r=!1,a=n&&m.isArray(n)?n:[]):a=n&&m.isPlainObject(n)?n:{},o[e]=m.extend(c,a,i)):void 0!==i&&(o[e]=i));return o},m.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===m.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!m.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==m.type(t)||t.nodeType||m.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=m.trim(t))&&(1===t.indexOf("use strict")?((e=o.createElement("script")).text=t,o.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(v,"ms-").replace(y,b)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(_(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(_(Object(t))?m.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(_(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return l.apply([],o)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m.isFunction(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||m.guid++,r},now:Date.now,support:h}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=a[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var w=function(t){var e,n,i,r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_="sizzle"+1*new Date,w=t.document,x=0,T=0,k=rt(),C=rt(),E=rt(),S=function(t,e){return t===e&&(d=!0),0},A={}.hasOwnProperty,R=[],L=R.pop,D=R.push,O=R.push,I=R.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+M+"*("+F+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),q=new RegExp("^"+M+"*,"+M+"*"),H=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),G=new RegExp(B),K=new RegExp("^"+F+"$"),V={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),et=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},nt=function(){f()};try{O.apply(R=I.call(w.childNodes),w.childNodes),R[w.childNodes.length].nodeType}catch(t){O={apply:R.length?function(t,e){D.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,i,r){var a,s,c,u,d,h,v,y,x=e&&e.ownerDocument,T=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return i;if(!r&&((e?e.ownerDocument||e:w)!==p&&f(e),e=e||p,m)){if(11!==T&&(h=Q.exec(t)))if(a=h[1]){if(9===T){if(!(c=e.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(x&&(c=x.getElementById(a))&&b(e,c)&&c.id===a)return i.push(c),i}else{if(h[2])return O.apply(i,e.getElementsByTagName(t)),i;if((a=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!E[t+" "]&&(!g||!g.test(t))){if(1!==T)x=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(Z,"\\$&"):e.setAttribute("id",u=_),s=(v=o(t)).length,d=K.test(u)?"#"+u:"[id='"+u+"']";s--;)v[s]=d+" "+ht(v[s]);y=v.join(","),x=J.test(t)&&ft(e.parentNode)||e}if(y)try{return O.apply(i,x.querySelectorAll(y)),i}catch(t){}finally{u===_&&e.removeAttribute("id")}}}return l(t.replace($,"$1"),e,i,r)}function rt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[_]=!0,t}function ot(t){var e=p.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=it.support={},a=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=it.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!==p&&9===o.nodeType&&o.documentElement?(h=(p=o).documentElement,m=!a(p),(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),n.attributes=ot(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ot(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=ot(function(t){return h.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(tt,et);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(tt,et);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=X.test(p.querySelectorAll))&&(ot(function(t){h.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ot(function(t){var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=X.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=X.test(h.compareDocumentPosition),b=e||X.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===w&&b(w,t)?-1:e===p||e.ownerDocument===w&&b(w,e)?1:u?P(u,t)-P(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t===p?-1:e===p?1:r?-1:a?1:u?P(u,t)-P(u,e):0;if(r===a)return lt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?lt(o[i],s[i]):o[i]===w?-1:s[i]===w?1:0},p):p},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(z,"='$1']"),n.matchesSelector&&m&&!E[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return it(e,p,null,[t]).length>0},it.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),b(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],a=r&&A.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==a?a:n.attributes||!m?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,i=[],r=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(S),d){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return u=null,t},r=it.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=it.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,et),t[3]=(t[3]||t[4]||t[5]||"").replace(tt,et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+M+")"+t+"("+M+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=it.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,f,p,h,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===t&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&y){for(b=(p=(c=(u=(d=(f=g)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[x,p,b];break}}else if(y&&(b=p=(c=(u=(d=(f=e)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]=[x,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=P(t,a[o])]=!(n[i]=a[o])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=s(t.replace($,"$1"));return i[_]?at(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return it(t,e).length>0}}),contains:at(function(t){return t=t.replace(tt,et),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return K.test(t||"")||it.error("unsupported lang: "+t),t=t.replace(tt,et).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ut(e);function pt(){}function ht(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,a=T++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,a)}:function(e,n,o){var s,l,c,u=[x,a];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((s=(l=(c=e[_]||(e[_]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&s[0]===x&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,o))return!0}}}function gt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function vt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),c&&e.push(s)));return o}function yt(t,e,n,i,r,a){return i&&!i[_]&&(i=yt(i)),r&&!r[_]&&(r=yt(r,a)),at(function(a,o,s,l){var c,u,d,f=[],p=[],h=o.length,m=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!a&&e?m:vt(m,f,t,s,l),v=n?r||(a?t:h||i)?[]:o:g;if(n&&n(g,v,s,l),i)for(c=vt(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(a){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?P(a,d):f[u])>-1&&(a[c]=!(o[c]=d))}}else v=vt(v===o?v.splice(h,v.length):v),r?r(null,o,v,l):O.apply(o,v)})}function bt(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],l=o?1:0,u=mt(function(t){return t===e},s,!0),d=mt(function(t){return P(e,t)>-1},s,!0),f=[function(t,n,i){var r=!o&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];l<a;l++)if(n=i.relative[t[l].type])f=[mt(gt(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<a&&!i.relative[t[r].type];r++);return yt(l>1&&gt(f),l>1&&ht(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace($,"$1"),n,l<r&&bt(t.slice(l,r)),r<a&&bt(t=t.slice(r)),r<a&&ht(t))}f.push(n)}return gt(f)}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,o=it.tokenize=function(t,e){var n,r,a,o,s,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(o in n&&!(r=q.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=H.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace($," ")}),s=s.slice(n.length)),i.filter)!(r=V[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?it.error(t):C(t,l).slice(0)},s=it.compile=function(t,e){var n,r=[],a=[],s=E[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=bt(e[n]))[_]?r.push(s):a.push(s);(s=E(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,l,u){var d,h,g,v=0,y="0",b=a&&[],_=[],w=c,T=a||r&&i.find.TAG("*",u),k=x+=null==w?1:Math.random()||.1,C=T.length;for(u&&(c=o===p||o||u);y!==C&&null!=(d=T[y]);y++){if(r&&d){for(h=0,o||d.ownerDocument===p||(f(d),s=!m);g=t[h++];)if(g(d,o||p,s)){l.push(d);break}u&&(x=k)}n&&((d=!g&&d)&&v--,a&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=e[h++];)g(b,_,o,s);if(a){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=L.call(l));_=vt(_)}O.apply(l,_),u&&!a&&_.length>0&&v+e.length>1&&it.uniqueSort(l)}return u&&(x=k,c=w),b};return n?at(a):a}(a,r))).selector=t}return s},l=it.select=function(t,e,r,a){var l,c,u,d,f,p="function"==typeof t&&t,h=!a&&o(t=p.selector||t);if(r=r||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===e.nodeType&&m&&i.relative[c[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(tt,et),e)||[])[0]))return r;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=V.needsContext.test(t)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((f=i.find[d])&&(a=f(u.matches[0].replace(tt,et),J.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=a.length&&ht(c)))return O.apply(r,a),r;break}}return(p||s(t,h))(a,e,!m,r,!e||J.test(t)&&ft(e.parentNode)||e),r},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!d,f(),n.sortDetached=ot(function(t){return 1&t.compareDocumentPosition(p.createElement("div"))}),ot(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ot(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ot(function(t){return null==t.getAttribute("disabled")})||st(N,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(n);m.find=w,m.expr=w.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=w.uniqueSort,m.text=w.getText,m.isXMLDoc=w.isXML,m.contains=w.contains;var x=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&m(t).is(n))break;i.push(t)}return i},T=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=m.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function S(t,e,n){if(m.isFunction(e))return m.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return m.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(E.test(e))return m.filter(e,t,n);e=m.filter(e,t)}return m.grep(t,function(t){return u.call(e,t)>-1!==n})}m.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?m.find.matchesSelector(i,t)?[i]:[]:m.find.matches(t,m.grep(e,function(t){return 1===t.nodeType}))},m.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(m(t).filter(function(){for(e=0;e<n;e++)if(m.contains(r[e],this))return!0}));for(e=0;e<n;e++)m.find(t,r[e],i);return(i=this.pushStack(n>1?m.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&k.test(t)?m(t):t||[],!1).length}});var A,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof m?e[0]:e,m.merge(this,m.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:o,!0)),C.test(i[1])&&m.isPlainObject(e))for(i in e)m.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=o.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=o,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):m.isFunction(t)?void 0!==n.ready?n.ready(t):t(m):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),m.makeArray(t,this))}).prototype=m.fn,A=m(o);var L=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}m.fn.extend({has:function(t){var e=m(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(m.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=k.test(t)||"string"!=typeof t?m(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?m.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(m(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),m.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,"parentNode")},parentsUntil:function(t,e,n){return x(t,"parentNode",n)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return x(t,"nextSibling")},prevAll:function(t){return x(t,"previousSibling")},nextUntil:function(t,e,n){return x(t,"nextSibling",n)},prevUntil:function(t,e,n){return x(t,"previousSibling",n)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return t.contentDocument||m.merge([],t.childNodes)}},function(t,e){m.fn[t]=function(n,i){var r=m.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=m.filter(i,r)),this.length>1&&(D[t]||m.uniqueSort(r),L.test(t)&&r.reverse()),this.pushStack(r)}});var I,P=/\S+/g;function N(){o.removeEventListener("DOMContentLoaded",N),n.removeEventListener("load",N),m.ready()}m.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return m.each(t.match(P)||[],function(t,n){e[n]=!0}),e}(t):m.extend({},t);var e,n,i,r,a=[],o=[],s=-1,l=function(){for(r=t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){m.each(n,function(n,i){m.isFunction(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==m.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return m.each(arguments,function(t,e){for(var n;(n=m.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?m.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},m.extend({Deferred:function(t){var e=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return m.Deferred(function(n){m.each(e,function(e,a){var o=m.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&m.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?m.extend(t,i):i}},r={};return i.pipe=i.then,m.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=s.call(arguments),o=a.length,l=1!==o||t&&m.isFunction(t.promise)?o:0,c=1===l?t:m.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?s.call(arguments):r,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);r<o;r++)a[r]&&m.isFunction(a[r].promise)?a[r].promise().progress(u(r,n,e)).done(u(r,i,a)).fail(c.reject):--l;return l||c.resolveWith(i,a),c.promise()}}),m.fn.ready=function(t){return m.ready.promise().done(t),this},m.extend({isReady:!1,readyWait:1,holdReady:function(t){t?m.readyWait++:m.ready(!0)},ready:function(t){(!0===t?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==t&&--m.readyWait>0||(I.resolveWith(o,[m]),m.fn.triggerHandler&&(m(o).triggerHandler("ready"),m(o).off("ready"))))}}),m.ready.promise=function(t){return I||(I=m.Deferred(),"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?n.setTimeout(m.ready):(o.addEventListener("DOMContentLoaded",N),n.addEventListener("load",N))),I.promise(t)},m.ready.promise();var M=function(t,e,n,i,r,a,o){var s=0,l=t.length,c=null==n;if("object"===m.type(n))for(s in r=!0,n)M(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,m.isFunction(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(m(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):a},F=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function j(){this.expando=m.expando+j.uid++}j.uid=1,j.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!F(t))return{};var e=t[this.expando];return e||(e={},F(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,m.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{m.isArray(e)?i=e.concat(e.map(m.camelCase)):(r=m.camelCase(e),i=e in a?[e,r]:(i=r)in a?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete a[i[n]]}(void 0===e||m.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!m.isEmptyObject(e)}};var B=new j,U=new j,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function H(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:$.test(n)?m.parseJSON(n):n)}catch(t){}U.set(t,e,n)}else n=void 0;return n}m.extend({hasData:function(t){return U.hasData(t)||B.hasData(t)},data:function(t,e,n){return U.access(t,e,n)},removeData:function(t,e){U.remove(t,e)},_data:function(t,e,n){return B.access(t,e,n)},_removeData:function(t,e){B.remove(t,e)}}),m.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=U.get(a),1===a.nodeType&&!B.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),H(a,i,r[i]));B.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){U.set(this,t)}):M(this,function(e){var n,i;if(a&&void 0===e)return void 0!==(n=U.get(a,t)||U.get(a,t.replace(q,"-$&").toLowerCase()))?n:(i=m.camelCase(t),void 0!==(n=U.get(a,i))||void 0!==(n=H(a,i,void 0))?n:void 0);i=m.camelCase(t),this.each(function(){var n=U.get(this,i);U.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&U.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){U.remove(this,t)})}}),m.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=B.get(t,e),n&&(!i||m.isArray(n)?i=B.access(t,e,m.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=m.queue(t,e),i=n.length,r=n.shift(),a=m._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){m.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return B.get(t,n)||B.access(t,n,{empty:m.Callbacks("once memory").add(function(){B.remove(t,[e+"queue",n])})})}}),m.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?m.queue(this[0],t):void 0===e?this:this.each(function(){var n=m.queue(this,t,e);m._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&m.dequeue(this,t)})},dequeue:function(t){return this.each(function(){m.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=m.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=B.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],V=function(t,e){return t=e||t,"none"===m.css(t,"display")||!m.contains(t.ownerDocument,t)};function W(t,e,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return m.css(t,e,"")},l=s(),c=n&&n[3]||(m.cssNumber[e]?"":"px"),u=(m.cssNumber[e]||"px"!==c&&+l)&&G.exec(m.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=a=a||".5",m.style(t,e,u+c)}while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,Q=/^$|\/(?:java|ecma)script/i,J={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&m.nodeName(t,e)?m.merge([t],n):n}function tt(t,e){for(var n=0,i=t.length;n<i;n++)B.set(t[n],"globalEval",!e||B.get(e[n],"globalEval"))}J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var et,nt,it=/<|&#?\w+;/;function rt(t,e,n,i,r){for(var a,o,s,l,c,u,d=e.createDocumentFragment(),f=[],p=0,h=t.length;p<h;p++)if((a=t[p])||0===a)if("object"===m.type(a))m.merge(f,a.nodeType?[a]:a);else if(it.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(X.exec(a)||["",""])[1].toLowerCase(),l=J[s]||J._default,o.innerHTML=l[1]+m.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;m.merge(f,o.childNodes),(o=d.firstChild).textContent=""}else f.push(e.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(i&&m.inArray(a,i)>-1)r&&r.push(a);else if(c=m.contains(a.ownerDocument,a),o=Z(d.appendChild(a),"script"),c&&tt(o),n)for(u=0;a=o[u++];)Q.test(a.type||"")&&n.push(a);return d}et=o.createDocumentFragment().appendChild(o.createElement("div")),(nt=o.createElement("input")).setAttribute("type","radio"),nt.setAttribute("checked","checked"),nt.setAttribute("name","t"),et.appendChild(nt),h.checkClone=et.cloneNode(!0).cloneNode(!0).lastChild.checked,et.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!et.cloneNode(!0).lastChild.defaultValue;var at=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;function lt(){return!0}function ct(){return!1}function ut(){try{return o.activeElement}catch(t){}}function dt(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)dt(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ct;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return m().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=m.guid++)),t.each(function(){m.event.add(this,e,r,i,n)})}m.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,g,v=B.get(t);if(v)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=m.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(e){return void 0!==m&&m.event.triggered!==e.type?m.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(P)||[""]).length;c--;)p=g=(s=st.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=m.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=m.event.special[p]||{},u=m.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:h.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),m.event.global[p]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,c,u,d,f,p,h,g,v=B.hasData(t)&&B.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(P)||[""]).length;c--;)if(p=g=(s=st.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=m.event.special[p]||{},f=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(t,u));o&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,h,v.handle)||m.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)m.event.remove(t,p+e[c],n,i,!0);m.isEmptyObject(l)&&B.remove(t,"handle events")}},dispatch:function(t){t=m.event.fix(t);var e,n,i,r,a,o=[],l=s.call(arguments),c=(B.get(this,"events")||{})[t.type]||[],u=m.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=m.event.handlers.call(this,t,c),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((m.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(a=e[n]).selector+" "]&&(i[r]=a.needsContext?m(r,this).index(l)>-1:m.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||o).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[m.expando])return t;var e,n,i,r=t.type,a=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=ot.test(r)?this.mouseHooks:at.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new m.Event(a),e=i.length;e--;)t[n=i[e]]=a[n];return t.target||(t.target=o),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ut()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ut()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(t){return m.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},m.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},m.Event=function(t,e){if(!(this instanceof m.Event))return new m.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?lt:ct):this.type=t,e&&m.extend(this,e),this.timeStamp=t&&t.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:ct,isPropagationStopped:ct,isImmediatePropagationStopped:ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=lt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=lt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=lt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){m.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||m.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),m.fn.extend({on:function(t,e,n,i){return dt(this,t,e,n,i)},one:function(t,e,n,i){return dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,m(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=ct),this.each(function(){m.event.remove(this,t,n,e)})}});var ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,pt=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^true\/(.*)/,gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function vt(t,e){return m.nodeName(t,"table")&&m.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function yt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function bt(t){var e=mt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _t(t,e){var n,i,r,a,o,s,l,c;if(1===e.nodeType){if(B.hasData(t)&&(a=B.access(t),o=B.set(e,a),c=a.events))for(r in delete o.handle,o.events={},c)for(n=0,i=c[r].length;n<i;n++)m.event.add(e,r,c[r][n]);U.hasData(t)&&(s=U.access(t),l=m.extend({},s),U.set(e,l))}}function wt(t,e,n,i){e=l.apply([],e);var r,a,o,s,c,u,d=0,f=t.length,p=f-1,g=e[0],v=m.isFunction(g);if(v||f>1&&"string"==typeof g&&!h.checkClone&&ht.test(g))return t.each(function(r){var a=t.eq(r);v&&(e[0]=g.call(this,r,a.html())),wt(a,e,n,i)});if(f&&(a=(r=rt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=m.map(Z(r,"script"),yt)).length;d<f;d++)c=r,d!==p&&(c=m.clone(c,!0,!0),s&&m.merge(o,Z(c,"script"))),n.call(t[d],c,d);if(s)for(u=o[o.length-1].ownerDocument,m.map(o,bt),d=0;d<s;d++)c=o[d],Q.test(c.type||"")&&!B.access(c,"globalEval")&&m.contains(u,c)&&(c.src?m._evalUrl&&m._evalUrl(c.src):m.globalEval(c.textContent.replace(gt,"")))}return t}function xt(t,e,n){for(var i,r=e?m.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||m.cleanData(Z(i)),i.parentNode&&(n&&m.contains(i.ownerDocument,i)&&tt(Z(i,"script")),i.parentNode.removeChild(i));return t}m.extend({htmlPrefilter:function(t){return t.replace(ft,"<$1></$2>")},clone:function(t,e,n){var i,r,a,o,s,l,c,u=t.cloneNode(!0),d=m.contains(t.ownerDocument,t);if(!(h.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||m.isXMLDoc(t)))for(o=Z(u),i=0,r=(a=Z(t)).length;i<r;i++)s=a[i],void 0,"input"===(c=(l=o[i]).nodeName.toLowerCase())&&Y.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(a=a||Z(t),o=o||Z(u),i=0,r=a.length;i<r;i++)_t(a[i],o[i]);else _t(t,u);return(o=Z(u,"script")).length>0&&tt(o,!d&&Z(t,"script")),u},cleanData:function(t){for(var e,n,i,r=m.event.special,a=0;void 0!==(n=t[a]);a++)if(F(n)){if(e=n[B.expando]){if(e.events)for(i in e.events)r[i]?m.event.remove(n,i):m.removeEvent(n,i,e.handle);n[B.expando]=void 0}n[U.expando]&&(n[U.expando]=void 0)}}}),m.fn.extend({domManip:wt,detach:function(t){return xt(this,t,!0)},remove:function(t){return xt(this,t)},text:function(t){return M(this,function(t){return void 0===t?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return wt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||vt(this,t).appendChild(t)})},prepend:function(){return wt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=vt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(m.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return m.clone(this,t,e)})},html:function(t){return M(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!pt.test(t)&&!J[(X.exec(t)||["",""])[1].toLowerCase()]){t=m.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(m.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return wt(this,arguments,function(e){var n=this.parentNode;m.inArray(this,t)<0&&(m.cleanData(Z(this)),n&&n.replaceChild(e,this))},t)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){m.fn[t]=function(t){for(var n,i=[],r=m(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),m(r[o])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Tt,kt={HTML:"block",BODY:"block"};function Ct(t,e){var n=m(e.createElement(t)).appendTo(e.body),i=m.css(n[0],"display");return n.detach(),i}function Et(t){var e=o,n=kt[t];return n||("none"!==(n=Ct(t,e))&&n||((e=(Tt=(Tt||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Ct(t,e),Tt.detach()),kt[t]=n),n}var St=/^margin/,At=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),Rt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Lt=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in r=n.apply(t,i||[]),e)t.style[a]=o[a];return r},Dt=o.documentElement;function Ot(t,e,n){var i,r,a,o,s=t.style;return""!==(o=(n=n||Rt(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==o||m.contains(t.ownerDocument,t)||(o=m.style(t,e)),n&&!h.pixelMarginRight()&&At.test(o)&&St.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function It(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var t,e,i,r,a=o.createElement("div"),s=o.createElement("div");function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Dt.appendChild(a);var o=n.getComputedStyle(s);t="1%"!==o.top,r="2px"===o.marginLeft,e="4px"===o.width,s.style.marginRight="50%",i="4px"===o.marginRight,Dt.removeChild(a)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),m.extend(h,{pixelPosition:function(){return l(),t},boxSizingReliable:function(){return null==e&&l(),e},pixelMarginRight:function(){return null==e&&l(),i},reliableMarginLeft:function(){return null==e&&l(),r},reliableMarginRight:function(){var t,e=s.appendChild(o.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",Dt.appendChild(a),t=!parseFloat(n.getComputedStyle(e).marginRight),Dt.removeChild(a),s.removeChild(e),t}}))}();var Pt=/^(none|table(?!-c[ea]).+)/,Nt={position:"absolute",visibility:"hidden",display:"block"},Mt={letterSpacing:"0",fontWeight:"400"},Ft=["Webkit","O","Moz","ms"],jt=o.createElement("div").style;function Bt(t){if(t in jt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Ft.length;n--;)if((t=Ft[n]+e)in jt)return t}function Ut(t,e,n){var i=G.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function $t(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=m.css(t,n+K[a],!0,r)),i?("content"===n&&(o-=m.css(t,"padding"+K[a],!0,r)),"margin"!==n&&(o-=m.css(t,"border"+K[a]+"Width",!0,r))):(o+=m.css(t,"padding"+K[a],!0,r),"padding"!==n&&(o+=m.css(t,"border"+K[a]+"Width",!0,r)));return o}function qt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=Rt(t),o="border-box"===m.css(t,"boxSizing",!1,a);if(r<=0||null==r){if(((r=Ot(t,e,a))<0||null==r)&&(r=t.style[e]),At.test(r))return r;i=o&&(h.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+$t(t,e,n||(o?"border":"content"),i,a)+"px"}function Ht(t,e){for(var n,i,r,a=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(a[o]=B.get(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(a[o]=B.access(i,"olddisplay",Et(i.nodeName)))):(r=V(i),"none"===n&&r||B.set(i,"olddisplay",r?n:m.css(i,"display"))));for(o=0;o<s;o++)(i=t[o]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function zt(t,e,n,i,r){return new zt.prototype.init(t,e,n,i,r)}m.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ot(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=m.camelCase(e),l=t.style;if(e=m.cssProps[s]||(m.cssProps[s]=Bt(s)||s),o=m.cssHooks[e]||m.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];"string"==(a=typeof n)&&(r=G.exec(n))&&r[1]&&(n=W(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(m.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var r,a,o,s=m.camelCase(e);return e=m.cssProps[s]||(m.cssProps[s]=Bt(s)||s),(o=m.cssHooks[e]||m.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Ot(t,e,i)),"normal"===r&&e in Mt&&(r=Mt[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),m.each(["height","width"],function(t,e){m.cssHooks[e]={get:function(t,n,i){if(n)return Pt.test(m.css(t,"display"))&&0===t.offsetWidth?Lt(t,Nt,function(){return qt(t,e,i)}):qt(t,e,i)},set:function(t,n,i){var r,a=i&&Rt(t),o=i&&$t(t,e,i,"border-box"===m.css(t,"boxSizing",!1,a),a);return o&&(r=G.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=m.css(t,e)),Ut(0,n,o)}}}),m.cssHooks.marginLeft=It(h.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ot(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),m.cssHooks.marginRight=It(h.reliableMarginRight,function(t,e){if(e)return Lt(t,{display:"inline-block"},Ot,[t,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(t,e){m.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+K[i]+e]=a[i]||a[i-2]||a[0];return r}},St.test(t)||(m.cssHooks[t+e].set=Ut)}),m.fn.extend({css:function(t,e){return M(this,function(t,e,n){var i,r,a={},o=0;if(m.isArray(e)){for(i=Rt(t),r=e.length;o<r;o++)a[e[o]]=m.css(t,e[o],!1,i);return a}return void 0!==n?m.style(t,e,n):m.css(t,e)},t,e,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){V(this)?m(this).show():m(this).hide()})}}),m.Tween=zt,zt.prototype={constructor:zt,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||m.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(m.cssNumber[n]?"":"px")},cur:function(){var t=zt.propHooks[this.prop];return t&&t.get?t.get(this):zt.propHooks._default.get(this)},run:function(t){var e,n=zt.propHooks[this.prop];return this.options.duration?this.pos=e=m.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):zt.propHooks._default.set(this),this}},zt.prototype.init.prototype=zt.prototype,zt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=m.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){m.fx.step[t.prop]?m.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[m.cssProps[t.prop]]&&!m.cssHooks[t.prop]?t.elem[t.prop]=t.now:m.style(t.elem,t.prop,t.now+t.unit)}}},zt.propHooks.scrollTop=zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},m.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},m.fx=zt.prototype.init,m.fx.step={};var Gt,Kt,Vt=/^(?:toggle|show|hide)$/,Wt=/queueHooks$/;function Yt(){return n.setTimeout(function(){Gt=void 0}),Gt=m.now()}function Xt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=K[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Qt(t,e,n){for(var i,r=(Jt.tweeners[e]||[]).concat(Jt.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function Jt(t,e,n){var i,r,a=0,o=Jt.prefilters.length,s=m.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Gt||Yt(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return s.notifyWith(t,[c,i,n]),i<1&&o?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:m.extend({},e),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:e,originalOptions:n,startTime:Gt||Yt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=m.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=m.camelCase(n)],a=t[n],m.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=m.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);a<o;a++)if(i=Jt.prefilters[a].call(c,t,u,c.opts))return m.isFunction(i.stop)&&(m._queueHooks(c.elem,c.opts.queue).stop=m.proxy(i.stop,i)),i;return m.map(u,Qt,c),m.isFunction(c.opts.start)&&c.opts.start.call(t,c),m.fx.timer(m.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}m.Animation=m.extend(Jt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return W(n.elem,t,G.exec(e),n),n}]},tweener:function(t,e){m.isFunction(t)?(e=t,t=["*"]):t=t.match(P);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Jt.tweeners[n]=Jt.tweeners[n]||[],Jt.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,c,u=this,d={},f=t.style,p=t.nodeType&&V(t),h=B.get(t,"fxshow");for(i in n.queue||(null==(s=m._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,m.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=m.css(t,"display"))?B.get(t,"olddisplay")||Et(t.nodeName):c)&&"none"===m.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],Vt.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;p=!0}d[i]=h&&h[i]||m.style(t,i)}else c=void 0;if(m.isEmptyObject(d))"inline"===("none"===c?Et(t.nodeName):c)&&(f.display=c);else for(i in h?"hidden"in h&&(p=h.hidden):h=B.access(t,"fxshow",{}),a&&(h.hidden=!p),p?m(t).show():u.done(function(){m(t).hide()}),u.done(function(){var e;for(e in B.remove(t,"fxshow"),d)m.style(t,e,d[e])}),d)o=Qt(p?h[i]:0,i,u),i in h||(h[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Jt.prefilters.unshift(t):Jt.prefilters.push(t)}}),m.speed=function(t,e,n){var i=t&&"object"==typeof t?m.extend({},t):{complete:n||!n&&e||m.isFunction(t)&&t,duration:t,easing:n&&e||e&&!m.isFunction(e)&&e};return i.duration=m.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in m.fx.speeds?m.fx.speeds[i.duration]:m.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(t,e,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=m.isEmptyObject(t),a=m.speed(e,n,i),o=function(){var e=Jt(this,m.extend({},t),a);(r||B.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=m.timers,o=B.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Wt.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));!e&&n||m.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=B.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=m.timers,o=i?i.length:0;for(n.finish=!0,m.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(t,e){var n=m.fn[e];m.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Xt(e,!0),t,i,r)}}),m.each({slideDown:Xt("show"),slideUp:Xt("hide"),slideToggle:Xt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){m.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),m.timers=[],m.fx.tick=function(){var t,e=0,n=m.timers;for(Gt=m.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||m.fx.stop(),Gt=void 0},m.fx.timer=function(t){m.timers.push(t),t()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Kt||(Kt=n.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){n.clearInterval(Kt),Kt=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(t,e){return t=m.fx&&m.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=o.createElement("input"),e=o.createElement("select"),n=e.appendChild(o.createElement("option"));t.type="checkbox",h.checkOn=""!==t.value,h.optSelected=n.selected,e.disabled=!0,h.optDisabled=!n.disabled,(t=o.createElement("input")).value="t",t.type="radio",h.radioValue="t"===t.value}();var Zt,te=m.expr.attrHandle;m.fn.extend({attr:function(t,e){return M(this,m.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){m.removeAttr(this,t)})}}),m.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?m.prop(t,e,n):(1===a&&m.isXMLDoc(t)||(e=e.toLowerCase(),r=m.attrHooks[e]||(m.expr.match.bool.test(e)?Zt:void 0)),void 0!==n?null===n?void m.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=m.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!h.radioValue&&"radio"===e&&m.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(P);if(a&&1===t.nodeType)for(;n=a[r++];)i=m.propFix[n]||n,m.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Zt={set:function(t,e,n){return!1===e?m.removeAttr(t,n):t.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(t,e){var n=te[e]||m.find.attr;te[e]=function(t,e,i){var r,a;return i||(a=te[e],te[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,te[e]=a),r}});var ee=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;m.fn.extend({prop:function(t,e){return M(this,m.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[m.propFix[t]||t]})}}),m.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&m.isXMLDoc(t)||(e=m.propFix[e]||e,r=m.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=m.find.attr(t,"tabindex");return e?parseInt(e,10):ee.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(m.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;function re(t){return t.getAttribute&&t.getAttribute("class")||""}m.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(m.isFunction(t))return this.each(function(e){m(this).addClass(t.call(this,e,re(this)))});if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(m.isFunction(t))return this.each(function(e){m(this).removeClass(t.call(this,e,re(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=re(n),i=1===n.nodeType&&(" "+r+" ").replace(ie," ")){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):m.isFunction(t)?this.each(function(n){m(this).toggleClass(t.call(this,n,re(this),e),e)}):this.each(function(){var e,i,r,a;if("string"===n)for(i=0,r=m(this),a=t.match(P)||[];e=a[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=re(this))&&B.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":B.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+re(n)+" ").replace(ie," ").indexOf(e)>-1)return!0;return!1}});var ae=/\r/g,oe=/[\x20\t\r\n\f]+/g;m.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,m(this).val()):t)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,function(t){return null==t?"":t+""})),(e=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ae,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(t){var e=m.find.attr(t,"value");return null!=e?e:m.trim(m.text(t)).replace(oe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(e=m(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=m.makeArray(e),o=r.length;o--;)((i=r[o]).selected=m.inArray(m.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(t,e){if(m.isArray(e))return t.checked=m.inArray(m(t).val(),e)>-1}},h.checkOn||(m.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var se=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(t,e,i,r){var a,s,l,c,u,d,f,h=[i||o],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(s=l=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!se.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[m.expando]?t:new m.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:m.makeArray(e,[t]),f=m.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!m.isWindow(i)){for(c=f.delegateType||g,se.test(c+g)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(i.ownerDocument||o)&&h.push(l.defaultView||l.parentWindow||n)}for(a=0;(s=h[a++])&&!t.isPropagationStopped();)t.type=a>1?c:f.bindType||g,(d=(B.get(s,"events")||{})[t.type]&&B.get(s,"handle"))&&d.apply(s,e),(d=u&&s[u])&&d.apply&&F(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),e)||!F(i)||u&&m.isFunction(i[g])&&!m.isWindow(i)&&((l=i[u])&&(i[u]=null),m.event.triggered=g,i[g](),m.event.triggered=void 0,l&&(i[u]=l)),t.result}},simulate:function(t,e,n){var i=m.extend(new m.Event,n,{type:t,isSimulated:!0});m.event.trigger(i,null,e)}}),m.fn.extend({trigger:function(t,e){return this.each(function(){m.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return m.event.trigger(t,e,n,!0)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){m.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),m.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),h.focusin="onfocusin"in n,h.focusin||m.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){m.event.simulate(e,t.target,m.event.fix(t))};m.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=B.access(i,e);r||i.addEventListener(t,n,!0),B.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=B.access(i,e)-1;r?B.access(i,e,r):(i.removeEventListener(t,n,!0),B.remove(i,e))}}});var le=n.location,ce=m.now(),ue=/\?/;m.parseJSON=function(t){return JSON.parse(t+"")},m.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+t),e};var de=/#.*$/,fe=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:GET|HEAD)$/,me=/^\/\//,ge={},ve={},ye="*/".concat("*"),be=o.createElement("a");function _e(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(P)||[];if(m.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function we(t,e,n,i){var r={},a=t===ve;function o(s){var l;return r[s]=!0,m.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function xe(t,e){var n,i,r=m.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&m.extend(!0,t,i),t}be.href=le.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?xe(xe(t,m.ajaxSettings),e):xe(m.ajaxSettings,t)},ajaxPrefilter:_e(ge),ajaxTransport:_e(ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,s,l,c,u,d,f=m.ajaxSetup({},e),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?m(p):m.event,g=m.Deferred(),v=m.Callbacks("once memory"),y=f.statusCode||{},b={},_={},w=0,x="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=pe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=_[n]=_[n]||t,b[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)y[e]=[y[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),k(0,e),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||le.href)+"").replace(de,"").replace(me,le.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=m.trim(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){c=o.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=be.protocol+"//"+be.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=m.param(f.data,f.traditional)),we(ge,f,e,T),2===w)return T;for(d in(u=m.event&&f.global)&&0==m.active++&&m.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!he.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(ue.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=fe.test(r)?r.replace(fe,"$1_="+ce++):r+(ue.test(r)?"&":"?")+"_="+ce++)),f.ifModified&&(m.lastModified[r]&&T.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&T.setRequestHeader("If-None-Match",m.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ye+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,T,f)||2===w))return T.abort();for(d in x="abort",{success:1,error:1,complete:1})T[d](f[d]);if(i=we(ve,f,e,T)){if(T.readyState=1,u&&h.trigger("ajaxSend",[T,f]),2===w)return T;f.async&&f.timeout>0&&(l=n.setTimeout(function(){T.abort("timeout")},f.timeout));try{w=1,i.send(b,k)}catch(t){if(!(w<2))throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,o,s){var c,d,b,_,x,k=e;2!==w&&(w=2,l&&n.clearTimeout(l),i=void 0,a=s||"",T.readyState=t>0?4:0,c=t>=200&&t<300||304===t,o&&(_=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,T,o)),_=function(t,e,n,i){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(f,_,T,c),c?(f.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=x),(x=T.getResponseHeader("etag"))&&(m.etag[r]=x)),204===t||"HEAD"===f.type?k="nocontent":304===t?k="notmodified":(k=_.state,d=_.data,c=!(b=_.error))):(b=k,!t&&k||(k="error",t<0&&(t=0))),T.status=t,T.statusText=(e||k)+"",c?g.resolveWith(p,[d,k,T]):g.rejectWith(p,[T,k,b]),T.statusCode(y),y=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?d:b]),v.fireWith(p,[T,k]),u&&(h.trigger("ajaxComplete",[T,f]),--m.active||m.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,n){return m.get(t,e,n,"json")},getScript:function(t,e){return m.get(t,void 0,e,"script")}}),m.each(["get","post"],function(t,e){m[e]=function(t,n,i,r){return m.isFunction(n)&&(r=r||i,i=n,n=void 0),m.ajax(m.extend({url:t,type:e,dataType:r,data:n,success:i},m.isPlainObject(t)&&t))}}),m._evalUrl=function(t){return m.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(t){var e;return m.isFunction(t)?this.each(function(e){m(this).wrapAll(t.call(this,e))}):(this[0]&&(e=m(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return m.isFunction(t)?this.each(function(e){m(this).wrapInner(t.call(this,e))}):this.each(function(){var e=m(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=m.isFunction(t);return this.each(function(n){m(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(t){return!m.expr.filters.visible(t)},m.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Te=/%20/g,ke=/\[\]$/,Ce=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ae(t,e,n,i){var r;if(m.isArray(e))m.each(e,function(e,r){n||ke.test(t)?i(t,r):Ae(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==m.type(e))i(t,e);else for(r in e)Ae(t+"["+r+"]",e[r],n,i)}m.param=function(t,e){var n,i=[],r=function(t,e){e=m.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(t)||t.jquery&&!m.isPlainObject(t))m.each(t,function(){r(this.name,this.value)});else for(n in t)Ae(n,t[n],e,r);return i.join("&").replace(Te,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=m.prop(this,"elements");return t?m.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!m(this).is(":disabled")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=m(this).val();return null==n?null:m.isArray(n)?m.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),m.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Re={0:200,1223:204},Le=m.ajaxSettings.xhr();h.cors=!!Le&&"withCredentials"in Le,h.ajax=Le=!!Le,m.ajaxTransport(function(t){var e,i;if(h.cors||Le&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Re[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return m.globalEval(t),t}}}),m.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),m.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=m("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),o.head.appendChild(e[0])},abort:function(){n&&n()}}});var De=[],Oe=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||m.expando+"_"+ce++;return this[t]=!0,t}}),m.ajaxPrefilter("json jsonp",function(t,e,i){var r,a,o,s=!1!==t.jsonp&&(Oe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Oe,"$1"+r):!1!==t.jsonp&&(t.url+=(ue.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||m.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=n[r],n[r]=function(){o=arguments},i.always(function(){void 0===a?m(n).removeProp(r):n[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,De.push(r)),o&&m.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),m.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||o;var i=C.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt([t],e,r),r&&r.length&&m(r).remove(),m.merge([],i.childNodes))};var Ie=m.fn.load;function Pe(t){return m.isWindow(t)?t:9===t.nodeType&&t.defaultView}m.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=m.trim(t.slice(s)),t=t.slice(0,s)),m.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&m.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?m("<div>").append(m.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){m.fn[e]=function(t){return this.on(e,t)}}),m.expr.filters.animated=function(t){return m.grep(m.timers,function(e){return t===e.elem}).length},m.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,c=m.css(t,"position"),u=m(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=m.css(t,"top"),l=m.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),m.isFunction(e)&&(e=e.call(t,n,m.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},m.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){m.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(e=a.documentElement,m.contains(e,i)?(r=i.getBoundingClientRect(),n=Pe(a),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===m.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),m.nodeName(t[0],"html")||(i=t.offset()),i.top+=m.css(t[0],"borderTopWidth",!0),i.left+=m.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-m.css(n,"marginTop",!0),left:e.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===m.css(t,"position");)t=t.offsetParent;return t||Dt})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;m.fn[t]=function(i){return M(this,function(t,i,r){var a=Pe(t);if(void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r},t,i,arguments.length)}}),m.each(["top","left"],function(t,e){m.cssHooks[e]=It(h.pixelPosition,function(t,n){if(n)return n=Ot(t,e),At.test(n)?m(t).position()[e]+"px":n})}),m.each({Height:"height",Width:"width"},function(t,e){m.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){m.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===r?"margin":"border");return M(this,function(e,n,i){var r;return m.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?m.css(e,n,o):m.style(e,n,i,o)},e,a?i:void 0,a,null)}})}),m.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,void 0===(i=function(){return m}.apply(e,[]))||(t.exports=i);var Ne=n.jQuery,Me=n.$;return m.noConflict=function(t){return n.$===m&&(n.$=Me),t&&n.jQuery===m&&(n.jQuery=Ne),m},r||(n.jQuery=n.$=m),m},"object"==typeof t.exports?t.exports=r.document?a(r,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return a(t)}:a(r)},mANv:function(t,e,n){var i=n("ydL7");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},mDqb:function(t,e,n){"use strict";n.r(e);var i=(n("k/h5"),n("KHd+")),r=Object(i.a)({name:"ModalBlacklist",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-blacklist"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[t._v("×")]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v("\n                加入黑名单\n                ")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("p",[t._v("确认将该用户加入黑名单吗？在你黑名单中的用户无法在你作品下评论，无法在其它评论中提到你，无法给你发送私信，自动从你的粉丝列表移除且无法再关注你。")])]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("button",{staticClass:"submit btn-base btn-hollow btn-sm"},[t._v("确认")]),t._v(" "),n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("取消")])])])])])}],!1,null,"22c68205",null);e.default=r.exports},n0NO:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"#comments{padding-top:20px}#comments .normal-comment{margin-top:30px}#comments .normal-comment .top{padding-bottom:20px;font-size:17px;font-weight:700;border-bottom:1px solid #f0f0f0}#comments .normal-comment .top .btn-base{margin:-2px 0 0 10px}#comments .normal-comment .top .btn-base.active{background-color:#d96a5f;color:#fff!important;border-color:#d96a5f!important}#comments .normal-comment .top .pull-right a{margin-left:10px;font-size:12px;font-weight:400;color:#969696;display:inline-block;cursor:pointer}#comments .normal-comment .top .pull-right a.active,#comments .normal-comment .top .pull-right a:hover{color:#252525}@media screen and (max-width:600px){#comments .normal-comment .top{font-size:15px}#comments .normal-comment .top .btn-base{padding:3px 5px}#comments .normal-comment .top .pull-right a{margin-left:0}}#comments .normal-comment .comment-item{padding:20px 0 30px;border-bottom:1px solid #f0f0f0}#comments .normal-comment .comment-item .comment-dtl p{font-size:16px;margin:10px 0;word-break:break-all}#comments .normal-comment .comment-item .comment-dtl p a{color:#2b89ca}#comments .normal-comment .sub-comment-list{margin-bottom:0;color:#969696;border-left:2px solid #c4c4c4}#comments .normal-comment .sub-comment-list .sub-comment{margin-bottom:15px;padding-bottom:15px;border-bottom:1px dashed #f0f0f0;color:#252525}#comments .normal-comment .sub-comment-list .sub-comment p{margin:0 0 5px;font-size:14px;line-height:1.5}#comments .normal-comment .sub-comment-list .sub-comment p a{color:#2b89ca}#comments .normal-comment .sub-comment-list .more-comment{margin-bottom:15px;padding-bottom:15px;border-bottom:1px dashed #f0f0f0;font-size:14px;color:#969696}#comments .normal-comment .sub-comment-list .more-comment:last-child{margin:0;padding:0;border:none}#comments .normal-comment .sub-comment-list .more-comment i{margin-right:5px}#comments .normal-comment .sub-comment-list .more-comment .add-comment-btn{cursor:pointer}#comments .normal-comment .sub-comment-list .more-comment .add-comment-btn:hover{color:#252525}#comments .normal-comment .sub-comment-list .more-comment .line-warp{margin-left:10px;padding-left:10px;border-left:1px solid #d9d9d9}#comments .normal-comment .sub-comment-list .more-comment .line-warp a{color:#2b89ca;cursor:pointer}",""])},n2dU:function(t,e,n){"use strict";n.r(e);var i={name:"Profile",created:function(){this.fetchData()},methods:{api:function(){return window.tokenize("/api/user")},fetchData:function(){var t=this;window.axios.get(this.api()).then(function(e){t.user=e.data})},save:function(){var t={gender:this.user.gender,introduction:this.user.introduction,website:this.user.website},e=this;window.axios.post(this.api(),t).then(function(t){e.user=t.data,e.saved=!0})}},data:function(){return{saved:null,user:{}}}},r=(n("8oYy"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"form-menu"},[n("tbody",{staticClass:"information"},[n("tr",[n("td",{staticClass:"top-line setting-title setting-verticle"},[t._v("\n                    性别\n                ")]),t._v(" "),n("td",{staticClass:"top-line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.gender,expression:"user.gender"}],attrs:{type:"radio",value:"男"},domProps:{checked:t._q(t.user.gender,"男")},on:{change:function(e){return t.$set(t.user,"gender","男")}}}),t._v(" "),n("span",[t._v("男")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.gender,expression:"user.gender"}],attrs:{type:"radio",value:"女"},domProps:{checked:t._q(t.user.gender,"女")},on:{change:function(e){return t.$set(t.user,"gender","女")}}}),t._v(" "),n("span",[t._v("女")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.gender,expression:"user.gender"}],attrs:{type:"radio",value:"保密"},domProps:{checked:t._q(t.user.gender,"保密")},on:{change:function(e){return t.$set(t.user,"gender","保密")}}}),t._v(" "),n("span",[t._v("保密")])])]),t._v(" "),n("tr",[n("td",{staticClass:"setting-title pull-left"},[t._v("个人简介")]),t._v(" "),n("td",[n("form",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.introduction,expression:"user.introduction"}],attrs:{placeholder:"填写你的个人简介"},domProps:{value:t.user.introduction},on:{input:function(e){e.target.composing||t.$set(t.user,"introduction",e.target.value)}}})])])]),t._v(" "),n("tr",[n("td",{staticClass:"setting-title pull-left"},[t._v("个人网站")]),t._v(" "),n("td",[n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.website,expression:"user.website"}],staticClass:"input-style",attrs:{type:"text",name:"website",placeholder:"http://你的网址"},domProps:{value:t.user.website},on:{input:function(e){e.target.composing||t.$set(t.user,"website",e.target.value)}}}),t._v(" "),n("p",{staticClass:"pull-right"},[t._v("填写后会在个人主页显示图标")])])])])])]),t._v(" "),n("input",{staticClass:"btn-base btn-handle btn-bold",attrs:{type:"button",value:"保存"},on:{click:t.save}}),t._v(" "),t.saved?n("div",{staticClass:"alert alert-success"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-hidden":"true"}},[t._v("×")]),t._v(" "),n("strong",[t._v("提示！")]),t._v(" 个人资料保存成功...\n    ")]):t._e()])},[],!1,null,"065df87c",null);e.default=a.exports},n7L6:function(t,e,n){"use strict";n.r(e);var i={name:"Notebooks",props:["collectionId"],created:function(){this.getCurrentPathParams(),this.$store.dispatch("getCollections")},computed:{published:function(){return this.$store.state.published},collections:function(){return this.$store.state.collections},dataContent:function(){return'<ul class=\'notebook-setting-menu\'>\n\t              <li class="modification">\n\t              \t<a data-target=".modification-name" data-toggle="modal"><i class=\'iconfont icon-wendangxiugai\'></i>修改文集</a>\n\t              </li>\n\t              <li class="delete">\n\t              \t<a data-target=".delete-notebook" data-toggle="modal"><i class=\'iconfont icon-lajitong\'></i>删除文集</a>\n\t              </li>\n  \t          </ul>'}},watch:{$route:function(t,e){this.getCurrentPathParams(),this.updateCurrentPathInfo(),this.$store.state.published=!1}},methods:{closePublished:function(){this.$store.state.published=!1},getCurrentPathParams:function(){this.$store.state.articleId=parseInt(this.$router.currentRoute.params.articleId),this.$store.state.collectionId=parseInt(this.$router.currentRoute.params.collectionId)},updateCurrentPathInfo:function(){var t=this.$store.state,e=t.articleId,n=t.collectionId;this.$store.dispatch("updateCurrentPathInfo",{collectionId:n,articleId:e}),e||this.$store.dispatch("goCollection",{collectionId:n})},articleAdded:function(t){_.find(this.notebook_list,{id:t.notebookId}).unshift(t.article),this.$router.push("/notebooks/".concat(t.notebookId,"/notes/").concat(t.article.id))},toggleCreator:function(){this.new_notebook=!this.new_notebook},goDefaultBook:function(){var t=this.notebook_list[0].id;this.goNotebook(t)},goNotebook:function(t){this.current_notebook_name=_.find(this.notebook_list,{id:t}).name,this.note_id||(this.note_id=this.getDefaultNoteId(t)),this.note_id?this.$router.push("/notebooks/".concat(t,"/notes/").concat(this.note_id)):this.$router.push("/notebooks/".concat(t))},getDefaultNoteId:function(t){var e=0,n=_.filter(this.notebook_list,["id",t]);return n.length&&(this.notes=n[0].articles,this.notes.length&&(e=this.notes[0].id)),e},creatednotebook:function(){this.$store.dispatch("addCollection",{name:this.new_notebook_name}),this.new_notebook_name=null,this.new_notebook=!this.new_notebook}},data:function(){return{new_notebook:!1,new_notebook_name:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"},on:{key:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closePublished(e)}}},[n("div",{staticClass:"note-books"},[n("div",{staticClass:"books-side col-xs-2"},[t._m(0),t._v(" "),n("div",{staticClass:"create-notebook"},[n("div",{staticClass:"handle",on:{click:t.toggleCreator}},[n("i",{staticClass:"iconfont icon-icon20"}),t._v(" "),n("span",[t._v("新建文集")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.new_notebook,expression:"new_notebook"}],staticClass:"create-notebook-box"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.new_notebook_name,expression:"new_notebook_name"}],staticClass:"input-style",attrs:{type:"text",placeholder:"请输入文集名..."},domProps:{value:t.new_notebook_name},on:{input:function(e){e.target.composing||(t.new_notebook_name=e.target.value)}}}),t._v(" "),n("a",{staticClass:"submit btn-base btn-hollow btn-md",on:{click:t.creatednotebook}},[t._v("提 交")]),t._v(" "),n("a",{staticClass:"cancel",on:{click:t.toggleCreator}},[t._v("取 消")])])])]),t._v(" "),n("ul",{staticClass:"notebook-list"},t._l(t.collections,function(e){return n("router-link",{key:e.id,attrs:{to:"/notebooks/"+e.id,tag:"li","active-class":"active"}},[n("div",{staticClass:"setting pull-right"},[n("i",{staticClass:"iconfont icon-shezhi",attrs:{tabindex:"0",role:"button","data-toggle":"popover","data-trigger":"focus","data-placement":"bottom","data-html":"true","data-content":t.dataContent}})]),t._v(" "),n("span",{staticClass:"single-line"},[t._v(t._s(e.name))])])}),1),t._v(" "),n("div",{staticClass:"side-bottom col-xs-2"},[n("div",{staticClass:"settings pull-left dropdown"},[t._m(1),t._v(" "),n("ul",{staticClass:"dropdown-menu"},[n("li",[n("router-link",{staticClass:"link",attrs:{to:"/recycle"}},[n("i",{staticClass:"iconfont icon-lajitong"}),n("span",[t._v("回收站")])])],1),t._v(" "),t._m(2)])]),t._v(" "),t._m(3)])]),t._v(" "),n("div",{staticClass:"books-main col-xs-10"},[n("notes",{on:{"article-added":t.articleAdded}})],1),t._v(" "),n("modification-name"),t._v(" "),n("delete-notebook",{attrs:{count:this.collections.length}}),t._v(" "),n("frequently-asked-questions")],1),t._v(" "),n("published",{attrs:{show:t.published}}),t._v(" "),n("modal-images")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("a",{attrs:{href:"/"}},[this._v("回首页")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"iconfont icon-fenlei"}),this._v(" "),e("span",[this._v("设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"report link",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-bangzhu"}),e("span",[this._v("帮助与反馈")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"doubt pull-right",attrs:{"data-target":".FAQ","data-toggle":"modal"}},[e("span",[this._v("遇到问题")]),this._v(" "),e("i",{staticClass:"iconfont icon-bangzhu"})])}],!1,null,null,null);e.default=a.exports},naOC:function(t,e,n){"use strict";n.r(e);var i={name:"Others",methods:{iconClass:function(t){return"article_approve"==t.subtype&&t.message.indexOf("已收录")>0?"paihang":"article_approve"==t.subtype&&t.message.indexOf("已拒绝")>0?"ku":"shoucang"}},created:function(){var t=window.tokenize("/api/notifications/other"),e=this;window.axios.get(t).then(function(t){e.notifications=t.data})},data:function(){return{notifications:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"other-message"},[n("div",{staticClass:"menu"},[t._v("其他消息")]),t._v(" "),t.notifications.length?n("div",{staticClass:"hasMessage"},[n("ul",{staticClass:"other-list"},t._l(t.notifications,function(e){return n("li",[n("div",{staticClass:"info"},[n("i",{class:"iconfont icon-"+t.iconClass(e)}),t._v(" "),n("span",{domProps:{innerHTML:t._s(e.message)}})]),t._v(" "),n("div",{staticClass:"time"},[t._v(t._s(e.time))])])}),0)]):n("div",{staticClass:"unMessage"},[n("blank-content")],1)])},[],!1,null,null,null);e.default=a.exports},"oAC+":function(t,e,n){"use strict";n.r(e);var i=(n("VgZs"),n("KHd+")),r=Object(i.a)({name:"BlankContent",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"blank-content"},[e("div",{staticClass:"tip"},[e("p",[this._v("这里还木有内容哦~")]),this._v(" "),e("span",{staticClass:"iconfont icon-meiyouxiaoxi1"})])])}],!1,null,"09b08730",null);e.default=r.exports},oHER:function(t,e,n){"use strict";var i=n("4iX4");n.n(i).a},oKNm:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".categories .top-title{cursor:pointer}.categories .top-title span{font-weight:700}.categories .category-item{display:inline-block;padding:2px 9px;margin:0 10px 10px 0;font-size:14px;color:#d96a5f;border:1px solid #d96a5f;border-radius:4px}.categories .category-item:hover{background-color:rgba(217,106,95,.3)}",""])},"ocH+":function(t,e,n){"use strict";var i=n("q0wP");n.n(i).a},ohap:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".upload-image{display:flex;align-items:center;width:auto!important}.upload-image img{display:block;width:60px;height:60px;margin-left:20px}.upload-image .form-control{width:201px!important}.upload-image .file-select{opacity:0;width:60px;height:60px;position:relative;right:60px}",""])},"ol+4":function(t,e,n){"use strict";n.r(e);var i={name:"ModalCategoryContribute",props:["articleId"],mounted:function(){this.fetchData(),this.listenScrollBottom()},methods:{listenScrollBottom:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page2,this.lastPage>0&&this.page2>this.lastPage||this.fetchData()},apiUrl:function(){var t="/api/categories/admin-check-article-"+this.articleId+"?page="+this.page;return this.q&&(t=t+"&q="+this.q),window.tokenize(t)},apiUrl2:function(){var t="/api/categories/recommend-check-article-"+this.articleId+"?page="+this.page2;return this.q&&(t=t+"&q="+this.q),window.tokenize(t)},getBtnClass:function(t){switch(t){case"收录":return"btn-base btn-hollow btn-sm"}return"btn-base btn-hollow theme-tag btn-sm"},getBtn2Class:function(t){switch(t){case"投稿":case"再次投稿":return"btn-base btn-hollow btn-sm"}return"btn-base btn-hollow theme-tag btn-sm"},search:function(){this.page=1,this.page2=1,this.fetchData()},add:function(t){var e=window.tokenize("/api/categories/"+this.articleId+"/add-category-"+t.id);window.axios.get(e).then(function(e){t.submit_status=e.data.submit_status,t.submited_status=e.data.submited_status})},submit:function(t){var e=window.tokenize("/api/categories/"+this.articleId+"/submit-category-"+t.id);window.axios.get(e).then(function(e){t.submit_status=e.data.submit_status,t.submited_status=e.data.submited_status})},fetchAdminCategories:function(){var t=this;window.axios.get(this.apiUrl()).then(function(e){1==t.page?(t.categoryList=e.data.accurateCategory.data,t.categoryList=t.categoryList.concat(e.data.categories.data)):(t.categoryList=t.categoryList.concat(e.data.data),t.page=e.data.current_page,t.page_total=e.data.last_page)})},fetchData:function(){this.fetchAdminCategories(),this.fetchRecommendCategories()},fetchRecommendCategories:function(){var t=this;window.axios.get(this.apiUrl2()).then(function(e){1==t.page2?(t.recommendCategoryList=e.data.accurateCategory.data,t.recommendCategoryList=t.recommendCategoryList.concat(e.data.categories.data)):(t.recommendCategoryList=t.recommendCategoryList.concat(e.data.data),t.page2=e.data.current_page,t.page2_total=e.data.last_page,t.lastPage=e.data.last_page)})}},data:function(){return{q:null,lastPage:-1,page:1,page_total:1,page2:1,page2_total:1,categoryList:[],recommendCategoryList:[]}}},r=(n("gTJ+"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-category-contribute"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[t._v("×")]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v("\n                  投稿\n                ")]),t._v(" "),n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],attrs:{type:"text",placeholder:"搜索我管理的专题",id:"search-input"},domProps:{value:t.q},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.q=e.target.value)}}}),t._v(" "),n("a",{staticClass:"search-btn iconfont icon-sousuo",on:{click:t.search}})])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("ul",{attrs:{id:"contribute-note-list"}},[t._m(0),t._v(" "),t._l(t.categoryList,function(e){return n("li",[n("a",{staticClass:"avatar-category",attrs:{href:"/"+e.name_en}},[n("img",{attrs:{src:e.logo}})]),t._v(" "),n("div",{staticClass:"collection-info"},[n("a",{staticClass:"collection-name",attrs:{href:"/"+e.name_en}},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"meta"},[t._v(t._s(e.count)+"篇作品·"+t._s(e.follow)+"人关注")]),t._v(" "),n("a",{class:["action-btn",t.getBtnClass(e.submit_status)],on:{click:function(n){return t.add(e)}}},[t._v("\n                          "+t._s(e.submit_status)+"\n                        ")])])])})],2),t._v(" "),n("ul",{attrs:{id:"contribute-note-list"}},[n("div",{staticClass:"title"},[t._v("\n                      推荐专题\n                    ")]),t._v(" "),t._l(t.recommendCategoryList,function(e){return n("li",[n("a",{staticClass:"avatar-category",attrs:{href:"/"+e.name_en}},[n("img",{attrs:{src:e.logo}})]),t._v(" "),n("div",{staticClass:"collection-info"},[n("a",{staticClass:"collection-name",attrs:{href:"/"+e.name_en}},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"meta"},[t._v(t._s(e.count)+"篇作品·"+t._s(e.follow)+"人关注")]),t._v(" "),"已收录"!=e.submited_status?n("a",{class:["action-btn",t.getBtn2Class(e.submit_status)],on:{click:function(n){return t.submit(e)}}},[t._v("\n                          "+t._s(e.submit_status)+"\n                        ")]):n("a",{class:["action-btn",t.getBtn2Class(e.submit_status)]},[t._v(t._s(e.submited_status))])])])}),t._v(" "),n("div",{staticStyle:{width:"200px","text-align":"center",margin:"auto"}},[n("a",{staticClass:"btn-base btn-more",style:t.page2<t.lastPage?"background-color:green":"",attrs:{href:"javascript:;"},on:{click:t.fetchMore}},[t._v(t._s(t.page2>=t.lastPage?"已经到底了":"更多")+"...")])])],2)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[this._v("\n                      我管理的专题\n                      "),e("a",{staticClass:"new-note-btn",attrs:{href:"/category/create"}},[e("span",[this._v("新建专题")])])])}],!1,null,"7b269770",null);e.default=a.exports},ot06:function(t,e,n){var i=n("EK3o");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},pDRh:function(t,e,n){"use strict";n.r(e);var i={name:"PendingSubmissions",created:function(){var t=window.tokenize("/api/categories/pending-articles"),e=this;window.axios.get(t).then(function(t){e.articles=t.data})},methods:{requestApi:function(t,e){window.axios.get(e).then(function(e){t.pivot=e.data.pivot})},approve:function(t){var e=window.tokenize("/api/categories/approve-category-"+t.pivot.category_id+"-"+t.id);this.requestApi(t,e)},deny:function(t){var e=window.tokenize("/api/categories/approve-category-"+t.pivot.category_id+"-"+t.id+"?deny=1");this.requestApi(t,e)},remove:function(t){var e=window.tokenize("/api/categories/approve-category-"+t.pivot.category_id+"-"+t.id+"?remove=1");this.requestApi(t,e)}},data:function(){return{articles:[]}}},r=(n("734u"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pending-submissions"},[n("div",{staticClass:"push-top"},[n("router-link",{staticClass:"back-list active",attrs:{to:"/requests"}},[n("i",{staticClass:"iconfont icon-zuobian"}),t._v(" 返回投稿请求")])],1),t._v(" "),n("ul",{staticClass:"article-list"},t._l(t.articles,function(e){return n("li",{staticClass:"article-item have-img"},[n("a",{staticClass:"wrap-img",attrs:{href:"/article/"+e.id}},[n("img",{attrs:{src:e.cover_path,alt:""}})]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"author"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+e.user.id}},[n("img",{attrs:{src:e.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user.name))]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.created_at))])])]),t._v(" "),n("a",{staticClass:"title",attrs:{href:"/article/"+e.id}},[n("span",[t._v(t._s(e.title))])]),t._v(" "),n("p",{staticClass:"abstract"},[t._v("\n\t\t\t      "+t._s(e.description)+"\n\t\t\t    ")]),t._v(" "),n("div",{staticClass:"meta"},[n("a",{attrs:{href:"/article/"+e.id}},[n("i",{staticClass:"iconfont icon-liulan"}),t._v(" "+t._s(e.hits)+"\n\t\t\t      ")]),t._v(" "),n("a",{attrs:{href:"/article/"+e.id}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(" "+t._s(e.count_replies)+"\n\t\t\t      ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-03xihuan"}),t._v(" "+t._s(e.count_likes))]),t._v(" "),e.count_tips?n("span",[n("i",{staticClass:"iconfont icon-qianqianqian"}),t._v(" "+t._s(e.count_tips))]):t._e()])])])}),0)])},[],!1,null,"14d881ac",null);e.default=a.exports},pDiY:function(t,e,n){"use strict";n.r(e);var i={name:"Aside",created:function(){var t=window.location.hash.replace("#/","");this.route_path=t,""==t&&(this.$router.push({path:"/comments"}),this.route_path="comments"),this.fetchData()},methods:{skip:function(t){$(t.target).parents("li").addClass("active").siblings().removeClass("active")},fetchData:function(){var t=window.tokenize("/api/unreads"),e=this;window.axios.get(t).then(function(t){e.unreads=t.data})}},data:function(){return{route_path:"comments",unreads:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"aside notification-aside"},[n("router-link",{attrs:{to:"/comments",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-xinxi"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("评论")]),t._v(" "),t.unreads.comments?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.comments))]):t._e()])]),t._v(" "),n("router-link",{attrs:{to:"/chats",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-email"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("消息")]),t._v(" "),t.unreads.chats?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.chats))]):t._e()])]),t._v(" "),n("router-link",{attrs:{to:"/requests",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-tougaoguanli"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("投稿请求")]),t._v(" "),t.unreads.requests?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.requests))]):t._e()])]),t._v(" "),n("router-link",{attrs:{to:"/likes",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-xin"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("喜欢和赞")]),t._v(" "),t.unreads.likes?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.likes))]):t._e()])]),t._v(" "),n("router-link",{attrs:{to:"/follows",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-jiaguanzhu"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("关注")]),t._v(" "),t.unreads.follows?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.follows))]):t._e()])]),t._v(" "),n("router-link",{attrs:{to:"/tips",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-zanshangicon"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("赞赏")]),t._v(" "),t.unreads.tips?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.tips))]):t._e()])]),t._v(" "),n("router-link",{attrs:{to:"/others",tag:"li","active-class":"active"}},[n("a",{staticClass:"link",attrs:{href:"javascript:;"}},[n("i",{staticClass:"iconfont icon-gengduo"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("其他消息")]),t._v(" "),t.unreads.others?n("span",{staticClass:"badge"},[t._v(t._s(t.unreads.others))]):t._e()])])],1)},[],!1,null,null,null);e.default=a.exports},pF6W:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".aside-menu li>a .icon-wrp i[data-v-060c3e4d]{font-size:22px}",""])},pVEr:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal-backdrop{position:static!important}@media (max-width:1366px){.modal-post .modal-dialog{top:47%!important}.modal-post .modal-dialog .textarea-box{padding-bottom:30px!important}.modal-post .modal-dialog .ask-img-header{padding-bottom:0!important}}.modal-post .modal-dialog{padding-bottom:20px;max-width:720px!important;top:42%}.modal-post .modal-dialog .modal-content .modal-body{padding:25px 40px 0;max-height:660px;overflow:auto}.modal-post .modal-dialog .modal-content .modal-body .input-question{margin:10px 0}.modal-post .modal-dialog .modal-content .modal-body .textarea-box{position:relative;margin-bottom:20px;border:1px solid #f0f0f0;padding-bottom:50px}.modal-post .modal-dialog .modal-content .modal-body .textarea-box>textarea{height:180px;background-color:#fff;border:none;margin-bottom:15px}.modal-post .modal-dialog .modal-content .modal-body .textarea-box textarea::-webkit-scrollbar{width:4px}.modal-post .modal-dialog .modal-content .modal-body .textarea-box textarea::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);background:rgba(217,106,95,.9)}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-preview-item{border:1px solid #e8e8e8;margin:5px;width:90px;height:90px;display:inline-block;position:relative;overflow:hidden;vertical-align:middle}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-preview-item .as-height{height:100%}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-preview-item .img-del{width:18px;height:18px;position:absolute;z-index:2;top:0;right:0;background-color:rgba(0,0,0,.5);border-radius:0 0 0 4px;padding:1px;cursor:pointer;text-align:center;line-height:18px}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-preview-item .img-del i{font-size:14px;color:#fff}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .modal-video-box{position:relative;width:310px;height:174px;overflow:hidden;display:inline-block;vertical-align:middle;text-align:center;background:#000;margin-left:5px}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .modal-video-box .video-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:inline-block}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .modal-video-box .video{height:300px;opacity:.2}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .modal-video-box .progress_box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .modal-video-box .video-del{width:18px;height:18px;position:absolute;z-index:2;top:0;right:0;background-color:rgba(0,0,0,.5);padding:1px;cursor:pointer;text-align:center;line-height:18px;color:#fff}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn{position:relative;text-align:center;width:90px;height:90px;line-height:80px;border:1px solid #e8e8e8;display:inline-block;vertical-align:middle;margin-left:15px;border-radius:4px}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn i{font-size:56px;color:#d8d8d8}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn .img-click-here,.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn .img-limit{font-size:14px;color:#2b89ca;display:block;margin-top:16px;line-height:1}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn .img-file{position:absolute;overflow:hidden;left:0;top:0;width:100%;height:100%;cursor:pointer}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn .img-file input{width:100%;height:100%;opacity:0;cursor:pointer}.modal-post .modal-dialog .modal-content .modal-body .textarea-box .img-upload-btn .img-limit{color:#969696;margin-top:12px}.modal-post .modal-dialog .modal-content .modal-body .tip-text{padding-bottom:10px}.modal-post .modal-dialog .modal-content .modal-body .tip-text .desc{font-size:12px}.modal-post .multiselect__content-wrapper{z-index:2}",""])},q0wP:function(t,e,n){var i=n("OtCd");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},qHUy:function(t,e,n){"use strict";n.r(e);var i={name:"CategorySearch",props:["api"],computed:{},methods:{searchArticles:function(){window.location.href=this.api+this.inputValue}},data:function(){return{inputValue:""}}},r=(n("ZyDK"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"navbar-form form-box",attrs:{id:"searchForm"}},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"form-control",attrs:{type:"text",id:"search-input",placeholder:"搜索"},domProps:{value:t.inputValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchArticles(e)},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t._v(" "),n("span",{staticClass:"iconfont icon-sousuo search-btn",on:{click:t.searchArticles}})])])])},[],!1,null,null,null);e.default=a.exports},qI1G:function(t,e,n){"use strict";var i=n("sdyf");n.n(i).a},qaKl:function(t,e,n){"use strict";n.r(e);var i=(n("R1Dc"),n("KHd+")),r=Object(i.a)({name:"FAQ",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade FAQ"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[t._v("常见问题")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"solution"},[t._v("\n              \t如果你在使用编辑器的过程中遇到问题，可以尝试以下方案解决：\n              \t"),n("ul",[n("li",[t._v("1. Windows用户尽量将浏览器设置为极速模式，不要使用兼容模式写作")]),t._v(" "),n("li",[t._v("2.推荐使用chrome浏览器，创作体验更加流畅")]),t._v(" "),n("li",[t._v("3.浏览器插件可能与编辑器功能冲突，可以在使用编辑器时禁用插件")])])])]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("我知道了")])])])])])}],!1,null,null,null);e.default=r.exports},qfd9:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".recommends #trigger-menu li[data-v-3c8c99b4]{padding:0!important;border-top:none!important}.recommends .note-wrap .note-list .note-info[data-v-3c8c99b4]{margin:0 0 20px;padding:0 0 20px;border-bottom:1px solid #f0f0f0}.recommends .note-wrap .note-list .note-info p[data-v-3c8c99b4]{margin-bottom:4px}",""])},qyP9:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".simple[data-v-9c7ebac0]{width:300px!important;height:160px!important}.simple .modal-content[data-v-9c7ebac0]{height:100%;display:flex;justify-content:center;align-items:center}",""])},"r+u/":function(t,e,n){"use strict";n.r(e);var i={name:"Share",props:["placement","url","title","author","articleId"],mounted:function(){$('[data-toggle="popover"]').popover()},computed:{iconClass:function(){return"left"==this.placement?"iconfont icon-fenxiang1":"more iconfont icon-fenxiang1"},dataContent:function(){return"<ul class='popover-share-menu'>\n                  <li><a data-action=\"weixin-share\" data-target=\".modal-share-weixin\" data-toggle=\"modal\" class='link'><i class='iconfont icon-weixin1 weixin'></i><span>分享到微信</span></a></li>\n                  <li><a href=\"javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=1881139527',u=z||d.location,p=['&amp;url=',e(u),'&amp;title=',e(t||d.title),'&amp;source=',e(r),'&amp;sourceUrl=',e(l),'&amp;content=',c||'gb2312','&amp;pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','', '推荐 @".concat(this.author," 的文章《").concat(this.title,"》','").concat(this.url,"?source=weibo','页面编码gb2312|utf-8默认gb2312'));\" class='link'><i class='iconfont icon-sina weibo'></i><span>分享到微博</span></a></li>\n                </ul>")}},data:function(){return{}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"share-button",attrs:{tabindex:"0",role:"button","data-toggle":"popover","data-trigger":"focus","data-placement":this.placement,"data-html":"true","data-content":this.dataContent,"data-original-title":"",title:""}},[e("i",{class:this.iconClass}),this._v(" "),this._t("default")],2)},[],!1,null,"89702a88",null);e.default=a.exports},r1kk:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".multiselect__input,.multiselect__single{position:relative;border:none;border-radius:5px;padding:0 0 0 5px;background-color:#fff}.multiselect__tag{margin:0 10px 5px 0!important;background-color:#fff;border:1px solid #42c02e;color:#42c02e}.multiselect__tag .multiselect__tag-icon:hover{background-color:#42c02e}.multiselect__option--highlight,.multiselect__option--highlight:after{background-color:rgba(66,192,46,.5)}.multiselect__option--selected.multiselect__option--highlight,.multiselect__option--selected.multiselect__option--highlight:after{background-color:#f99}.multiselect__option.multiselect__option--highlight,.multiselect__option.multiselect__option--selected{margin:0!important}",""])},rHtn:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".delete-note .modal-dialog .modal-body p{font-size:14px}",""])},rJsq:function(t,e,n){"use strict";n.r(e);var i={name:"RequestCovers",props:["api"],mounted:function(){this.getCovers()},methods:{getCovers:function(){var t=this,e=this,n=0;e.timer=setInterval(function(){e.btnText+=".",n%5==0&&(e.btnText="截图正在处理中"),n>=30&&(window.axios.get(t.api).then(function(t){0!=t.data&&(e.covers=t.data,clearInterval(e.timer))}),n=0),n++},1e3)}},data:function(){return{covers:[],timer:null,btnText:"截图正在处理中"}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0==t.covers?n("button",{staticClass:"btn btn-primary disabled",attrs:{type:"button",autocomplete:"off"},domProps:{textContent:t._s(t.btnText)}}):t._l(t.covers,function(e,i){return n("div",{staticClass:"col-xs-6 col-md-3"},[n("label",{attrs:{for:"cover"+i}},[n("img",{staticClass:"img img-responsive",attrs:{src:e}})]),t._v(" "),n("input",{attrs:{name:"cover",type:"radio",id:"cover"+i},domProps:{value:e}}),t._v(" "),n("label",{attrs:{for:"cover"+i}},[t._v("选取")]),t._v(" "),n("small",{staticClass:"text-danger"})])})],2)},[],!1,null,"11443346",null);e.default=a.exports},rPLH:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.bootstrap-tagsinput{background-color:#fff;border:1px solid #ccc;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);display:inline-block;padding:4px 6px;margin-bottom:10px;color:#555;vertical-align:middle;border-radius:4px;width:100%;line-height:22px;cursor:text}.bootstrap-tagsinput input{outline:none;background-color:transparent;padding:0;margin:0;width:auto!important;max-width:inherit}.bootstrap-tagsinput input,.bootstrap-tagsinput input:focus{border:none;box-shadow:none}.bootstrap-tagsinput .tag{margin-right:2px;color:#fff}.bootstrap-tagsinput .tag [data-role=remove]{margin-left:8px;cursor:pointer}.bootstrap-tagsinput .tag [data-role=remove]:after{content:"x";padding:0 2px}.bootstrap-tagsinput .tag [data-role=remove]:hover{box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05)}.bootstrap-tagsinput .tag [data-role=remove]:hover:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}',""])},riJi:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".input-matching[data-v-41ce9cac]{width:100%;position:relative}.input-matching input[data-v-41ce9cac]{height:35px;font-size:14px}.input-matching input.matching[data-v-41ce9cac]{border:1px solid #c4c4c4;border-bottom:none;border-radius:2px 2px 0 0}.input-matching .matched-wrap[data-v-41ce9cac]{position:absolute;width:100%;border:1px solid #c4c4c4;border-radius:0 0 2px 2px;text-indent:.5em;line-height:30px;background-color:#fff;z-index:3;font-size:14px}.input-matching .matched-wrap .matched li[data-v-41ce9cac]{padding-right:10px;cursor:pointer}.input-matching .matched-wrap .matched li[data-v-41ce9cac]:hover{background-color:#ececec}.input-matching .matched-wrap .matched li .matchItem[data-v-41ce9cac]{color:#717171}",""])},rkcN:function(t,e,n){"use strict";n.r(e);var i={name:"Favorite",props:["id","type"],created:function(){var t=this;window.axios.get(window.tokenize("/api/favorite/"+this.id+"/"+this.type)).then(function(e){t.favorited=e.data})},methods:{toggle:function(){var t=this;window.axios.post(window.tokenize("/api/favorite/"+this.id+"/"+this.type)).then(function(e){t.favorited=e.data})}},data:function(){return{favorited:null}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return this.favorited?e("span",{staticClass:"iconfont icon-03xihuan",staticStyle:{"font-size":"1.5em"},on:{click:this.toggle}}):e("span",{staticClass:"iconfont icon-xin",staticStyle:{"font-size":"1.5em"},on:{click:this.toggle}})},[],!1,null,"ab696f50",null);e.default=a.exports},rlpb:function(t,e,n){"use strict";var i=n("+okJ");n.n(i).a},"s+SA":function(t,e){},sDf8:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".clear[data-v-e509933c]{clear:both}",""])},sdyf:function(t,e,n){var i=n("E5uR");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},skpj:function(t,e,n){var i=n("H76i");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},snx7:function(t,e,n){"use strict";n.r(e);var i={name:"ModalAddCategory",props:["articleId"],mounted:function(){this.fetchData()},methods:{apiUrl:function(){var t="/api/categories/admin-check-article-"+this.articleId;return this.q&&(t=t+"?q="+this.q),window.tokenize(t)},getBtnClass:function(t){switch(t){case"收录":return"btn-base btn-hollow btn-sm"}return"btn-base btn-hollow theme-tag btn-sm"},search:function(){this.page=1,this.fetchData()},add:function(t){var e=window.tokenize("/api/categories/"+this.articleId+"/add-category-"+t.id);window.axios.get(e).then(function(e){t.submit_status=e.data.submit_status,t.submited_status=e.data.submited_status})},fetchData:function(){var t=this;window.axios.get(this.apiUrl()).then(function(e){1==t.page?t.categoryList=e.data.categories.data:t.categoryList=t.categoryList.concat(e.data.categories.data)})}},data:function(){return{q:null,page:1,categoryList:[]}}},r=(n("GlJ5"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-add-category"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[t._v("×")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],attrs:{type:"text",placeholder:"搜索我管理的专题",id:"search-input"},domProps:{value:t.q},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.q=e.target.value)}}}),t._v(" "),n("a",{staticClass:"search-btn iconfont icon-sousuo",on:{click:t.search}})])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("ul",{attrs:{id:"contribute-note-list"}},t._l(t.categoryList,function(e){return n("li",[n("a",{staticClass:"avatar-category",attrs:{href:"/"+e.name_en}},[n("img",{attrs:{src:e.logo}})]),t._v(" "),n("div",{staticClass:"collection-info"},[n("a",{staticClass:"collection-name",attrs:{href:"/"+e.name_en}},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"meta"},[t._v(t._s(e.user.name)+" 編")]),t._v(" "),e.status?n("span",{staticClass:"status has-add"},[t._v("\n                            "+t._s(e.submited_status)+"\n                        ")]):t._e(),t._v(" "),n("a",{class:["action-btn",t.getBtnClass(e.submit_status)],on:{click:function(n){return t.add(e)}}},[t._v("\n                          "+t._s(e.submit_status)+"\n                        ")])])])}),0)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"modal-title"},[this._v("\n                  收入到我管理的专题\n                  "),e("a",{staticClass:"new-note-btn",attrs:{href:"/category/create"}},[this._v("新建专题")])])}],!1,null,"f6922c18",null);e.default=a.exports},t2K2:function(t,e,n){"use strict";n.r(e);var i={name:"ModalShareWX",props:["url","aid"],mounted:function(){this.getQcode()},methods:{getQcode:function(){var t=this,e=(new Date,"/share/qrcode?url="+t.url);window.axios.get(e).then(function(e){t.svg=e.data})}},data:function(){return{svg:null}}},r=(n("cffh"),n("KHd+")),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade modal-share-weixin"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[this._m(0),this._v(" "),e("div",{staticClass:"modal-body"},[e("h5",[this._v("打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮")]),this._v(" "),e("div",{staticClass:"scan-code",domProps:{innerHTML:this._s(this.svg)}})])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[this._v("×")])])}],!1,null,null,null);e.default=a.exports},tGH2:function(t,e,n){"use strict";n.r(e);var i=(n("ZS9G"),n("KHd+")),r=Object(i.a)({name:"SocialLogin",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"social-login"},[e("li",[e("a",{staticClass:"weibo-bg",attrs:{href:""}},[e("i",{staticClass:"iconfont icon-sina"})])]),this._v(" "),e("li",[e("a",{staticClass:"weixin-bg",attrs:{href:""}},[e("i",{staticClass:"iconfont icon-weixin1"})])]),this._v(" "),e("li",[e("a",{staticClass:"qq-bg",attrs:{href:""}},[e("i",{staticClass:"iconfont icon-qq2"})])]),this._v(" "),e("li",{staticClass:"more-method"},[e("a",{staticClass:"other-bg",attrs:{href:"javascript:void(0);"}},[e("i",{staticClass:"iconfont icon-gengduo"})])]),this._v(" "),e("li",{staticClass:"hide-method hide"},[e("a",{staticClass:"git",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont icon-Git"})])])])}],!1,null,"1543be89",null);e.default=r.exports},tLTf:function(t,e,n){var i=n("91XQ");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},tOFS:function(t,e,n){"use strict";n.r(e);var i={name:"Hot",mounted:function(){this.fetchData()},methods:{change:function(){this.page++,this.fetchData()},fetchData:function(){this.lastPage&&this.lastPage<this.page&&(this.page=1),$(this.$refs.fresh).css("transform","rotate(".concat(360*this.page,"deg)"));var t="/api/search/hot-queries?page="+this.page,e=this;window.axios.get(t).then(function(t){e.queries=t.data.data,e.lastPage=t.data.last_page})}},data:function(){return{page:1,lastPage:null,queries:[]}}},r=(n("01qL"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"hot-search"},[n("div",{staticClass:"plate-title"},[t._v("\n\t\t  热门搜索\n\t\t  "),n("a",{staticClass:"right",attrs:{href:"javascript:;"},on:{click:t.change}},[n("i",{ref:"fresh",staticClass:"iconfont icon-shuaxin"}),t._v("换一批")])]),t._v(" "),n("ul",t._l(t.queries,function(e){return n("li",[n("a",{attrs:{href:"/search?q="+e.query,title:e.query}},[t._v(t._s(e.q))])])}),0)])])},[],!1,null,null,null);e.default=a.exports},tQ2B:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("Rn+g"),a=n("MLWZ"),o=n("g7np"),s=n("w0Vi"),l=n("OTTw"),c=n("LYNF");t.exports=function(t){return new Promise(function(e,u){var d=t.data,f=t.headers;i.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var g=o(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};r(e,u,i),p=null}},p.onabort=function(){p&&(u(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=n("eqyj"),y=(t.withCredentials||l(g))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(f,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),i.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),u(t),p=null)}),void 0===d&&(d=null),p.send(d)})}},tbbs:function(t,e,n){"use strict";e.a=function(t,e){return $(document.body).on("dragover",function(t){return t.originalEvent.dataTransfer.dropEffect="none",t.preventDefault()}),$(document.body).on("drop",function(t){return t.preventDefault()}),$(t).on("dragover",function(t){return t.originalEvent.dataTransfer.dropEffect="copy",t.stopPropagation(),t.preventDefault()}).on("dragenter",function(t){return t.preventDefault(),t.stopPropagation()}).on("dragleave",function(t){return t.preventDefault(),t.stopPropagation()}).on("drop",function(t){var n,i,r,a,o,s,l;for(i=[],r=0,o=(l=t.originalEvent.dataTransfer.files).length;r<o;r++){if(!((n=l[r]).type.indexOf("image/")>-1))return alert("「"+n.name+"]」文件不是图片。"),!1;i.push(n)}for(a=0,s=i.length;a<s;a++)n=i[a],e(n,{inline:!0});return t.stopPropagation(),t.preventDefault()})}},ti8N:function(t,e,n){"use strict";var i=n("dLnp");n.n(i).a},tpIM:function(t,e,n){"use strict";var i=n("EC+5");n.n(i).a},"u+Ef":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal.modal-add-category .modal-dialog[data-v-f6922c18]{width:580px}@media screen and (max-width:768px){.modal.modal-add-category .modal-dialog[data-v-f6922c18]{width:90%;max-width:500;min-width:320px}}",""])},u64i:function(t,e,n){var i=n("Bt3u");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},ucJP:function(t,e,n){"use strict";n.r(e);var i={name:"UploadImge",props:["textValue","imageValue","textName","dataImage"],mounted:function(){},methods:{loadImg:function(t){var e=t.target,n=this;if(e.files&&e.files[0]){var i=e.files[0];console.log("参数",i);var r=new FileReader;r.onload=function(t){$("#"+n.imageValue).attr("src",t.target.result)},r.readAsDataURL(i),this._upload(i)}},_upload:function(t){var e=window.tokenize("/api/image"),n=this,i=new FormData;i.append("from","post"),i.append("photo",t),window.axios.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var e=t.data;n.image_url=e.url,console.log("inmag",e.url)})}},data:function(){return{image_url:this.dataImage}}},r=(n("vJes"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-image"},[n("input",{staticClass:"form-control",attrs:{type:"text",id:t.textValue,name:t.textName},domProps:{value:t.image_url}}),t._v(" "),n("img",{attrs:{src:t.dataImage,id:t.imageValue,alt:t.textName}}),t._v(" "),n("input",{staticClass:"file-select",attrs:{type:"file"},on:{change:t.loadImg}})])},[],!1,null,null,null);e.default=a.exports},ulZh:function(t,e,n){var i;"undefined"!=typeof window&&(i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function a(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||t,a),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new a:delete t._events[e]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,i,a,o){var s=r?r+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,a),!0;case 6:return u.fn.call(u.context,e,n,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,c=[],u=o.length;s<u;s++)(o[s].fn!==e||i&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&l(this,e)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,n){var i,r,a,o,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,r=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):e;var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=r.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(d)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},"./node_modules/webworkify-webpack/index.js":function(t,e,n){function i(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var i=n(n.s=ENTRY_MODULE);return i.default||i}function r(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(t,e,i){var a={};a[i]=[];var o=e.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,c=s[1],u=new RegExp("(\\\\n|\\W)"+r(c)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=u.exec(o);)"dll-reference"!==l[3]&&a[i].push(l[3]);for(u=new RegExp("\\("+r(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=u.exec(o);)t[l[2]]||(a[i].push(l[1]),t[l[2]]=n(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,f=Object.keys(a),p=0;p<f.length;p++)for(var h=0;h<a[f[p]].length;h++)d=a[f[p]][h],isNaN(1*d)||(a[f[p]][h]=1*a[f[p]][h]);return a}function o(t){return Object.keys(t).reduce(function(e,n){return e||t[n].length>0},!1)}t.exports=function(t,e){e=e||{};var r={main:n.m},s=e.all?{main:Object.keys(r.main)}:function(t,e){for(var n={main:[e]},i={main:[]},r={main:{}};o(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var c=s[l],u=n[c].pop();if(r[c]=r[c]||{},!r[c][u]&&t[c][u]){r[c][u]=!0,i[c]=i[c]||[],i[c].push(u);for(var d=a(t,t[c][u],c),f=Object.keys(d),p=0;p<f.length;p++)n[f[p]]=n[f[p]]||[],n[f[p]]=n[f[p]].concat(d[f[p]])}}return i}(r,t),l="";Object.keys(s).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;s[t][e];)e++;s[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map(function(e){return JSON.stringify(e)+": "+r[t][e].toString()}).join(",")+"});\n"}),l=l+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map(function(t){return JSON.stringify(t)+": "+r.main[t].toString()}).join(",")+"}))(self);";var c=new window.Blob([l],{type:"text/javascript"});if(e.bare)return c;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),d=new window.Worker(u);return d.objectURL=u,d}},"./src/crypt/decrypter.js":function(t,e,n){"use strict";n.r(e);var i=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),r=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),a=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},e.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],f=new Uint32Array(256),p=0,h=0,m=0;for(m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=h^h<<1^h<<2^h<<3^h<<4;g=g>>>8^255&g^99,t[p]=g,e[g]=p;var v=f[p],y=f[v],b=f[y],_=257*f[g]^16843008*g;i[p]=_<<24|_>>>8,r[p]=_<<16|_>>>16,a[p]=_<<8|_>>>24,o[p]=_,_=16843009*b^65537*y^257*v^16843008*p,l[g]=_<<24|_>>>8,c[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,d[g]=_,p?(p=v^f[f[f[b^v]]],h^=f[f[h]]):p=h=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a,o,s,l,c=this.ksRows=4*(r+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),f=this.sBox,p=this.rcon,h=this.invSubMix,m=h[0],g=h[1],v=h[2],y=h[3];for(a=0;a<c;a++)a<r?s=u[a]=e[a]:(l=s,a%r==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=p[a/r|0]<<24):r>6&&a%r==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),u[a]=s=(u[a-r]^l)>>>0);for(o=0;o<c;o++)a=c-o,l=3&o?u[a]:u[a-4],d[o]=o<4||a<=4?l:m[f[l>>>24]]^g[f[l>>>16&255]]^v[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,n,i){for(var r,a,o,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w=this.keySize+6,x=this.invKeySchedule,T=this.invSBox,k=this.invSubMix,C=k[0],E=k[1],S=k[2],A=k[3],R=this.uint8ArrayToUint32Array_(n),L=R[0],D=R[1],O=R[2],I=R[3],P=new Int32Array(t),N=new Int32Array(P.length),M=this.networkToHostOrderSwap;e<P.length;){for(f=M(P[e]),p=M(P[e+1]),h=M(P[e+2]),m=M(P[e+3]),l=f^x[0],c=m^x[1],u=h^x[2],d=p^x[3],g=4,v=1;v<w;v++)r=C[l>>>24]^E[c>>16&255]^S[u>>8&255]^A[255&d]^x[g],a=C[c>>>24]^E[u>>16&255]^S[d>>8&255]^A[255&l]^x[g+1],o=C[u>>>24]^E[d>>16&255]^S[l>>8&255]^A[255&c]^x[g+2],s=C[d>>>24]^E[l>>16&255]^S[c>>8&255]^A[255&u]^x[g+3],l=r,c=a,u=o,d=s,g+=4;r=T[l>>>24]<<24^T[c>>16&255]<<16^T[u>>8&255]<<8^T[255&d]^x[g],a=T[c>>>24]<<24^T[u>>16&255]<<16^T[d>>8&255]<<8^T[255&l]^x[g+1],o=T[u>>>24]<<24^T[d>>16&255]<<16^T[l>>8&255]<<8^T[255&c]^x[g+2],s=T[d>>>24]<<24^T[l>>16&255]<<16^T[c>>8&255]<<8^T[255&u]^x[g+3],g+=3,N[e]=M(r^L),N[e+1]=M(s^D),N[e+2]=M(o^O),N[e+3]=M(a^I),L=f,D=p,O=h,I=m,e+=4}return i?(_=(b=(y=N.buffer).byteLength)&&new DataView(y).getUint8(b-1))?y.slice(0,b-_):y:N.buffer},e.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),o=n("./src/errors.ts"),s=n("./src/utils/logger.js"),l=n("./src/events.js"),c=n("./src/utils/get-self-scope.js"),u=Object(c.getSelfScope)(),d=function(){function t(t,e,n){var i=(void 0===n?{}:n).removePKCS7Padding,r=void 0===i||i;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=r,r)try{var a=u.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}var e=t.prototype;return e.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.decrypt=function(t,e,n,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var c=this.decryptor;c||(this.decryptor=c=new a),c.expandKey(e),o(c.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new r(u,e)),this.fastAesKey.expandKey().then(function(r){new i(u,n).decrypt(t,r).catch(function(i){l.onWebCryptoError(i,t,e,n,o)}).then(function(t){o(t)})}).catch(function(i){l.onWebCryptoError(i,t,e,n,o)})}},e.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},e.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.default=d},"./src/demux/demuxer-inline.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/events.js"),r=n("./src/errors.ts"),a=n("./src/crypt/decrypter.js"),o=n("./src/polyfills/number.js"),s=n("./src/utils/logger.js"),l=n("./src/utils/get-self-scope.js");function c(t,e){return 255===t[e]&&240==(246&t[e+1])}function u(t,e){return 1&t[e+1]?7:9}function d(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function f(t,e){return!!(e+1<t.length&&c(t,e))}function p(t,e){if(f(t,e)){var n=u(t,e);if(e+n>=t.length)return!1;var i=d(t,e);if(i<=n)return!1;var r=e+i;if(r===t.length||r+1<t.length&&c(t,r))return!0}return!1}function h(t,e,n,a,o){if(!t.samplerate){var l=function(t,e,n,a){var o,l,c,u,d,f=navigator.userAgent.toLowerCase(),p=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&e[n+2])>>>6),!((l=(60&e[n+2])>>>2)>h.length-1))return u=(1&e[n+2])<<2,u|=(192&e[n+3])>>>6,s.logger.log("manifest codec:"+a+",ADTS data:type:"+o+",sampleingIndex:"+l+"["+h[l]+"Hz],channelConfig:"+u),/firefox/i.test(f)?l>=6?(o=5,d=new Array(4),c=l-3):(o=2,d=new Array(2),c=l):-1!==f.indexOf("android")?(o=2,d=new Array(2),c=l):(o=5,d=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?c=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===u||/vivaldi/i.test(f))||!a&&1===u)&&(o=2,d=new Array(2)),c=l)),d[0]=o<<3,d[0]|=(14&l)>>1,d[1]|=(1&l)<<7,d[1]|=u<<3,5===o&&(d[1]|=(14&c)>>1,d[2]=(1&c)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:h[l],channelCount:u,codec:"mp4a.40."+o,manifestCodec:p};t.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}(e,n,a,o);t.config=l.config,t.samplerate=l.samplerate,t.channelCount=l.channelCount,t.codec=l.codec,t.manifestCodec=l.manifestCodec,s.logger.log("parsed codec:"+t.codec+",rate:"+l.samplerate+",nb channel:"+l.channelCount)}}function m(t){return 9216e4/t}function g(t,e,n,i,r){var a=function(t,e,n,i,r){var a,o,s=t.length;if(a=u(t,e),o=d(t,e),(o-=a)>0&&e+a+o<=s)return{headerLength:a,frameLength:o,stamp:n+i*r}}(e,n,i,r,m(t.samplerate));if(a){var o=a.stamp,s=a.headerLength,l=a.frameLength,c={unit:e.subarray(n+s,n+s+l),pts:o,dts:o};return t.samples.push(c),{sample:c,length:l+s}}}var v=n("./src/demux/id3.js"),y=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(v.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(p(t,e))return s.logger.log("ADTS sync word found !"),!0;return!1},e.append=function(t,e,n,i){for(var r=this._audioTrack,a=v.default.getID3Data(t,0)||[],l=v.default.getTimeStamp(a),c=Object(o.isFiniteNumber)(l)?90*l:9e4*e,u=0,d=c,p=t.length,m=a.length,y=[{pts:d,dts:d,data:a}];m<p-1;)if(f(t,m)&&m+5<p){h(r,this.observer,t,m,r.manifestCodec);var b=g(r,t,m,c,u);if(!b){s.logger.log("Unable to parse AAC frame");break}m+=b.length,d=b.sample.pts,u++}else v.default.isHeader(t,m)?(a=v.default.getID3Data(t,m),y.push({pts:d,dts:d,data:a}),m+=a.length):m++;this.remuxer.remux(r,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),b=n("./src/demux/mp4demuxer.js"),_={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var a=this.parseHeader(e,n);if(a&&n+a.frameLength<=e.length){var o=i+r*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:e.subarray(n,n+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(s),{sample:s,length:a.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==n&&0!==r&&15!==r&&3!==a){var s=3===n?3-i:3===i?3:4,l=1e3*_.BitratesMap[14*s+r-1],c=3===n?0:2===n?1:2,u=_.SamplingRateMap[3*c+a],d=t[e+3]>>6==3?1:2,f=_.SamplesCoefficients[n][i],p=_.BytesInSlot[i],h=8*f*p;return{sampleRate:u,channelCount:d,frameLength:parseInt(f*l/u+o,10)*p,samplesPerFrame:h}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4;n&&n.frameLength&&(i=n.frameLength);var r=e+i;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},w=_,x=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&s.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){var e,n=8,i=8;for(e=0;e<t;e++)0!==i&&(i=(n+this.readEG()+256)%256),n=0===i?n:i},e.readSPS=function(){var t,e,n,i,r,a,o,s=0,l=0,c=0,u=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),f(5),m(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=p();if(3===b&&m(1),v(),v(),m(1),h())for(a=3!==b?8:12,o=0;o<a;o++)h()&&y(o<6?16:64)}v();var _=p();if(0===_)p();else if(1===_)for(m(1),g(),g(),e=p(),o=0;o<e;o++)g();v(),m(1),n=p(),i=p(),0===(r=f(1))&&m(1),m(1),h()&&(s=p(),l=p(),c=p(),u=p());var w=[1,1];if(h()&&h())switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-r)*(i+1)*16-(r?2:4)*(c+u),pixelRatio:w}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),T=function(){function t(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new a.default(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},e.decryptAacSample=function(t,e,n,i){var r=t[e].unit,a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),r.set(a,16),i||s.decryptAacSamples(t,e+1,n)})},e.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},e.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},e.decryptAvcSample=function(t,e,n,i,r,a){var o=this.discardEPB(r.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(t,e,n+1,i)})},e.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;!(n>=r.length);n++){var a=r[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,a,o),!o)return}}}},t}(),k={video:1,audio:2,id3:3,text:4},C=function(){function t(t,e,n,i){this.observer=t,this.config=n,this.typeSupported=i,this.remuxer=e,this.sampleAes=null,this.pmtUnknownTypes={}}var e=t.prototype;return e.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new T(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0||(n&&s.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:k[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},e.resetInitSegment=function(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},e.resetTimeStamp=function(){},e.append=function(e,n,a,o){var l,c,u,d,f,p=e.length,h=!1;this.pmtUnknownTypes={},this.contiguous=a;var m=this.pmtParsed,g=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=g.pid,_=v.pid,w=y.pid,x=this._pmtId,T=g.pesData,k=v.pesData,C=y.pesData,E=this._parsePAT,S=this._parsePMT.bind(this),A=this._parsePES,R=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),O=this._parseID3PES.bind(this),I=t._syncOffset(e);for(p-=(p+I)%188,l=I;l<p;l+=188)if(71===e[l]){if(c=!!(64&e[l+1]),u=((31&e[l+1])<<8)+e[l+2],(48&e[l+3])>>4>1){if((d=l+5+e[l+4])===l+188)continue}else d=l+4;switch(u){case b:c&&(T&&(f=A(T))&&R(f,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(d,l+188)),T.size+=l+188-d);break;case _:c&&(k&&(f=A(k))&&(v.isAAC?L(f):D(f)),k={data:[],size:0}),k&&(k.data.push(e.subarray(d,l+188)),k.size+=l+188-d);break;case w:c&&(C&&(f=A(C))&&O(f),C={data:[],size:0}),C&&(C.data.push(e.subarray(d,l+188)),C.size+=l+188-d);break;case 0:c&&(d+=e[d]+1),x=this._pmtId=E(e,d);break;case x:c&&(d+=e[d]+1);var P=S(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=P.avc)>0&&(g.pid=b),(_=P.audio)>0&&(v.pid=_,v.isAAC=P.isAAC),(w=P.id3)>0&&(y.pid=w),h&&!m&&(s.logger.log("reparse from beginning"),h=!1,l=I-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(f=A(T))?(R(f,!0),g.pesData=null):g.pesData=T,k&&(f=A(k))?(v.isAAC?L(f):D(f),v.pesData=null):(k&&k.size&&s.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=k),C&&(f=A(C))?(O(f),y.pesData=null):y.pesData=C,null==this.sampleAes?this.remuxer.remux(v,g,y,this._txtTrack,n,a,o):this.decryptAndRemux(v,g,y,this._txtTrack,n,a,o)},e.decryptAndRemux=function(t,e,n,i,r,a,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,n,i,r,a,o)})}else this.decryptAndRemuxAvc(t,e,n,i,r,a,o)},e.decryptAndRemuxAvc=function(t,e,n,i,r,a,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,n,i,r,a,o)})}else this.remuxer.remux(t,e,n,i,r,a,o)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},e._trackUnknownPmt=function(t,e,n){var i=this.pmtUnknownTypes[t]||0;return 0===i&&(this.pmtUnknownTypes[t]=0,e.call(s.logger,n)),this.pmtUnknownTypes[t]++,i},e._parsePMT=function(t,e,n,i){var r,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(a=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){this._trackUnknownPmt(t[e],s.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!i){this._trackUnknownPmt(t[e],s.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:n?-1===o.audio&&(o.audio=a,o.isAAC=!1):this._trackUnknownPmt(t[e],s.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(t[e],s.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(t[e],s.logger.log,"Unknown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o},e._parsePES=function(t){var e,n,i,r,a,o,l,c,u=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((e=d[0])[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;if(192&(n=e[7])&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&n?o-(l=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(s.logger.warn(Math.round((o-l)/9e4)+"s delta between PTS and DTS, align them"),o=l):l=o),c=(r=e[8])+9,t.size<=c)return null;t.size-=c,a=new Uint8Array(t.size);for(var p=0,h=d.length;p<h;p++){var m=(e=d[p]).byteLength;if(c){if(c>m){c-=m;continue}e=e.subarray(c),m-=c,c=0}a.set(e,u),u+=m}return i&&(i-=r+3),{data:a,pts:o,dts:l,len:i}}return null},e.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;if(isNaN(t.pts)){if(!i)return void e.dropped++;var r=n[i-1];t.pts=r.pts,t.dts=r.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&s.logger.log(t.pts+"/"+t.dts+":"+t.debug)},e._parseAVCPES=function(t,e){var n,i,r,a=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,u=this.pushAccesUnit.bind(this),d=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,l&&s.length&&!o.audFound&&(u(l,o),l=this.avcSample=d(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:i=!0,l||(l=a.avcSample=d(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(c&&s.length>4){var f=new x(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:i=!0,l||(l=a.avcSample=d(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,(n=new x(a.discardEPB(e.data))).readUByte();for(var p=0,h=0,m=!1,g=0;!m&&n.bytesAvailable>1;){p=0;do{p+=g=n.readUByte()}while(255===g);h=0;do{h+=g=n.readUByte()}while(255===g);if(4===p&&0!==n.bytesAvailable){if(m=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var y=n.readUByte(),b=31&y,_=[y,n.readUByte()];for(r=0;r<b;r++)_.push(n.readUByte()),_.push(n.readUByte()),_.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:t.pts,bytes:_})}}else if(5===p&&0!==n.bytesAvailable){if(m=!0,h>16){var w=[];for(r=0;r<16;r++)w.push(n.readUByte().toString(16)),3!==r&&5!==r&&7!==r&&9!==r||w.push("-");var T=h-16,k=new Uint8Array(T);for(r=0;r<T;r++)k[r]=n.readUByte();a._insertSampleInOrder(a._txtTrack.samples,{pts:t.pts,payloadType:p,uuid:w.join(""),userDataBytes:k,userData:Object(v.utf8ArrayToStr)(k.buffer)})}}else if(h<n.bytesAvailable)for(r=0;r<h;r++)n.readUByte()}break;case 7:if(i=!0,c=!0,!o.sps){var C=(n=new x(e.data)).readSPS();o.width=C.width,o.height=C.height,o.pixelRatio=C.pixelRatio,o.sps=[e.data],o.duration=a._duration;var E=e.data.subarray(1,4),S="avc1.";for(r=0;r<3;r++){var A=E[r].toString(16);A.length<2&&(A="0"+A),S+=A}o.codec=S}break;case 8:i=!0,o.pps||(o.pps=[e.data]);break;case 9:i=!1,o.audFound=!0,l&&u(l,o),l=a.avcSample=d(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&i&&l.units.push(e)}),e&&l&&(u(l,o),this.avcSample=null)},e._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},e._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var i=e.units;t=i[i.length-1]}return t},e._parseAVCNALu=function(t){var e,n,i,r,a=0,o=t.byteLength,s=this._avcTrack,l=s.naluState||0,c=l,u=[],d=-1;for(-1===l&&(d=0,r=31&t[0],l=0,a=1);a<o;)if(e=t[a++],l)if(1!==l)if(e)if(1===e){if(d>=0)i={data:t.subarray(d,a-l-1),type:r},u.push(i);else{var f=this._getLastNalUnit();if(f&&(c&&a<=4-c&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-c)),(n=a-l-1)>0)){var p=new Uint8Array(f.data.byteLength+n);p.set(f.data,0),p.set(t.subarray(0,n),f.data.byteLength),f.data=p}}a<o?(d=a,r=31&t[a],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;if(d>=0&&l>=0&&(i={data:t.subarray(d,o),type:r,state:l},u.push(i)),0===u.length){var h=this._getLastNalUnit();if(h){var m=new Uint8Array(h.data.byteLength+t.byteLength);m.set(h.data,0),m.set(t,h.data.byteLength),h.data=m}}return s.naluState=l,u},e.discardEPB=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},e._parseAACPES=function(t){var e,n,a,o,l,c,u,d=this._audioTrack,p=t.data,v=t.pts,y=this.aacOverFlow,b=this.aacLastPTS;if(y){var _=new Uint8Array(y.byteLength+p.byteLength);_.set(y,0),_.set(p,y.byteLength),p=_}for(a=0,l=p.length;a<l-1&&!f(p,a);a++);if(!a||(a<l-1?(c="AAC PES did not start with ADTS header,offset:"+a,u=!1):(c="no ADTS header found in AAC PES",u=!0),s.logger.warn("parsing error:"+c),this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:u,reason:c}),!u)){if(h(d,this.observer,p,a,this.audioCodec),n=0,e=m(d.samplerate),y&&b){var w=b+e;Math.abs(w-v)>1&&(s.logger.log("AAC: align PTS for overlapping frames by "+Math.round((w-v)/90)),v=w)}for(;a<l;){if(f(p,a)){if(a+5<l){var x=g(d,p,a,v,n);if(x){a+=x.length,o=x.sample.pts,n++;continue}}break}a++}y=a<l?p.subarray(a,l):null,this.aacOverFlow=y,this.aacLastPTS=o}},e._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,r=0,a=t.pts;r<n;)if(w.isHeader(e,r)){var o=w.appendFrame(this._audioTrack,e,r,a,i);if(!o)break;r+=o.length,i++}else r++},e._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),E=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=v.default.getID3Data(t,0);if(i&&void 0!==v.default.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(w.probe(t,e))return s.logger.log("MPEG Audio sync word found !"),!0;return!1},e.append=function(t,e,n,i){for(var r=v.default.getID3Data(t,0)||[],a=v.default.getTimeStamp(r),o=void 0!==a?90*a:9e4*e,s=r.length,l=t.length,c=0,u=0,d=this._audioTrack,f=[{pts:o,dts:o,data:r}];s<l;)if(w.isHeader(t,s)){var p=w.appendFrame(d,t,s,o,c);if(!p)break;s+=p.length,u=p.sample.pts,c++}else v.default.isHeader(t,s)?(r=v.default.getID3Data(t,s),f.push({pts:u,dts:u,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:f,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),S=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),A=Math.pow(2,32)-1,R=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,a=r;r--;)i+=n[r].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),r=0,i=8;r<a;r++)e.set(n[r],i),i+=n[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(A+1)),r=Math.floor(n%(A+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(A+1)),r=Math.floor(n%(A+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,r,a=[],o=[];for(n=0;n<e.sps.length;n++)r=(i=e.sps[n]).byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)r=(i=e.pps[n]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(o))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,r=e.width,a=e.height,o=Math.floor(i/(A+1)),s=Math.floor(i%(A+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),r=e.id,a=Math.floor(n/(A+1)),o=Math.floor(n%(A+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,r,a,o,s,l,c=e.samples||[],u=c.length,d=12+16*u,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<u;i++)a=(r=c[i]).duration,o=r.size,s=r.flags,l=r.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,f)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}();function L(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=!1);var r=t*e*n;return i?Math.round(r):r}function D(t,e){return void 0===e&&(e=!1),L(t,1e3,1/9e4,e)}function O(t,e){return void 0===e&&(e=1),L(t,9e4,1/e)}var I=O(10),P=O(.2),N=null;function M(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}var F,j=function(){function t(t,e,n,i){if(this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===N){var r=navigator.userAgent.match(/Chrome\/(\d+)/i);N=r?parseInt(r[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},e.resetInitSegment=function(){this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,n=t.reduce(function(t,n){var i=n.pts-t;return i<-4294967296?(e=!0,M(t,n.pts)):i>0?t:n.pts},t[0].pts);return e&&s.logger.debug("PTS rollover detected"),n},e.remux=function(t,e,n,r,a,o,l){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var c=t.samples.length,u=e.samples.length,d=a,f=a;if(c&&u){var p=this.getVideoStartPts(e.samples),h=(M(t.samples[0].pts,p)-p)/e.inputTimeScale;d+=Math.max(0,h),f+=Math.max(0,-h)}if(c){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var m,g=this.remuxAudio(t,d,o,l);u&&(g&&(m=g.endPTS-g.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,f,o,m))}else if(u){var v=this.remuxVideo(e,f,o,0,l);v&&t.codec&&this.remuxEmptyAudio(t,d,o,v)}}n.samples.length&&this.remuxID3(n,a),r.samples.length&&this.remuxText(r,a),this.observer.trigger(i.default.FRAG_PARSED)},e.generateIS=function(t,e,n){var a,o,l=this.observer,c=t.samples,u=e.samples,d=this.typeSupported,f="audio/mp4",p={},h={tracks:p},m=void 0===this._initPTS;if(m&&(a=o=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(d.mpeg?(f="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")),p.audio={container:f,codec:t.codec,initSegment:!t.isAAC&&d.mpeg?new Uint8Array:R.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(a=o=c[0].pts-Math.round(t.inputTimeScale*n))),e.sps&&e.pps&&u.length){var g=e.inputTimeScale;if(e.timescale=g,p.video={container:"video/mp4",codec:e.codec,initSegment:R.initSegment([e]),metadata:{width:e.width,height:e.height}},m){var v=this.getVideoStartPts(u),y=Math.round(g*n);o=Math.min(o,M(u[0].dts,v)-y),a=Math.min(a,v-y),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:a})}}else m&&p.audio&&this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:a});Object.keys(p).length?(l.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,m&&(this._initPTS=a,this._initDTS=o)):l.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.remuxVideo=function(t,e,n,a){var o,l,c,u,d,f=t.timescale,p=t.samples,h=[],m=p.length,g=this._initPTS,v=8,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,_=0,w=!1,x=this.nextAvcDts;if(0!==m){n||(x=e*f-(p[0].pts-M(p[0].dts,p[0].pts)));for(var T=0;T<m;T++){var k=p[T];k.pts=M(k.pts-g,x),k.dts=M(k.dts-g,x),k.dts>k.pts&&(_=Math.max(Math.min(_,k.pts-k.dts),-1*P)),k.dts<p[T>0?T-1:T].dts&&(w=!0)}w&&p.sort(function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||i||t.id-e.id}),u=p[0].dts,d=p[m-1].dts;var C=Math.round((d-u)/(m-1));if(_<0){if(_<-2*C){s.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+D(-C,!0)+" ms");for(var E=_,S=0;S<m;S++)p[S].dts=E=Math.max(E,p[S].pts-C),p[S].pts=Math.max(E,p[S].pts)}else{s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+D(_,!0)+" ms to overcome this issue");for(var A=0;A<m;A++)p[A].dts=p[A].dts+_}u=p[0].dts,d=p[m-1].dts}if(n){var L=u-x,O=L>C;if(O||L<-1){O?s.logger.warn("AVC: "+D(L,!0)+" ms ("+L+"dts) hole between fragments detected, filling it"):s.logger.warn("AVC: "+D(-L,!0)+" ms ("+L+"dts) overlapping between fragments detected"),u=x;var I=p[0].pts-L;p[0].dts=u,p[0].pts=I,s.logger.log("Video: First PTS/DTS adjusted: "+D(I,!0)+"/"+D(u,!0)+", delta: "+D(L,!0)+" ms")}}N&&N<75&&(u=Math.max(0,u));for(var F=0,j=0,B=0;B<m;B++){for(var U=p[B],$=U.units,q=$.length,H=0,z=0;z<q;z++)H+=$[z].data.length;j+=H,F+=q,U.length=H,U.dts=Math.max(U.dts,u),U.pts=Math.max(U.pts,U.dts,0),y=Math.min(U.pts,y),b=Math.max(U.pts,b)}d=p[m-1].dts;var G=j+4*F+8;try{l=new Uint8Array(G)}catch(t){return void this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating video mdat "+G})}var K=new DataView(l.buffer);K.setUint32(0,G),l.set(R.types.mdat,4);for(var V=0;V<m;V++){for(var W,Y=p[V],X=Y.units,Q=0,J=0,Z=X.length;J<Z;J++){var tt=X[J],et=tt.data,nt=tt.data.byteLength;K.setUint32(v,nt),v+=4,l.set(et,v),v+=nt,Q+=4+nt}if(V<m-1)o=p[V+1].dts-Y.dts;else{var it=this.config,rt=Y.dts-p[V>0?V-1:V].dts;if(it.stretchShortVideoTrack){var at=it.maxBufferHole,ot=Math.floor(at*f),st=(a?y+a*f:this.nextAudioPts)-Y.pts;st>ot?((o=st-rt)<0&&(o=rt),s.logger.log("It is approximately "+D(st,!1)+" ms to the next segment; using duration "+D(o,!1)+" ms for the last video frame.")):o=rt}else o=rt}W=Math.round(Y.pts-Y.dts),h.push({size:Q,duration:o,cts:W,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:Y.key?2:1,isNonSync:Y.key?0:1}})}this.nextAvcDts=d+o;var lt=t.dropped;if(t.nbNalu=0,t.dropped=0,h.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ct=h[0].flags;ct.dependsOn=2,ct.isNonSync=0}t.samples=h,c=R.moof(t.sequenceNumber++,u,t),t.samples=[];var ut={data1:c,data2:l,startPTS:y/f,endPTS:(b+o)/f,startDTS:u/f,endDTS:this.nextAvcDts/f,type:"video",hasAudio:!1,hasVideo:!0,nb:h.length,dropped:lt};return this.observer.trigger(i.default.FRAG_PARSING_DATA,ut),ut}},e.remuxAudio=function(t,e,n,a){var o,l,c,u,d,f,p=t.inputTimeScale,h=t.timescale,m=p/h,g=(t.isAAC?1024:1152)*m,v=this._initPTS,y=!t.isAAC&&this.typeSupported.mpeg,b=y?0:8,_=t.samples,w=[],x=this.nextAudioPts;if(n|=_.length&&x&&(a&&Math.abs(e-x/p)<.1||Math.abs(_[0].pts-x-v)<20*g),_.forEach(function(t){t.pts=t.dts=M(t.pts-v,e*p)}),0!==(_=_.filter(function(t){return t.pts>=0})).length){if(n||(x=a?Math.max(0,e*p):_[0].pts),t.isAAC)for(var T=this.config.maxAudioFramesDrift,k=0,C=x;k<_.length;){var E=_[k],A=E.pts,L=A-C;if(L<=-T*g)n||k>0?(s.logger.warn("Dropping 1 audio frame @ "+D(C,!0)/1e3+"s due to "+D(L,!0)+" ms overlap."),_.splice(k,1)):(s.logger.warn("Audio frame @ "+D(A,!0)/1e3+"s overlaps nextAudioPts by "+D(L,!0)+" ms."),C=A+g,k++);else if(L>=T*g&&L<I&&C){var O=Math.round(L/g);s.logger.warn("Injecting "+O+" audio frames @ "+D(C,!0)/1e3+"s due to "+D(L,!0)+" ms gap.");for(var P=0;P<O;P++){var N=Math.max(C,0);(l=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),l=E.unit.subarray()),_.splice(k,0,{unit:l,pts:N,dts:N}),C+=g,k++}E.pts=E.dts=C,C+=g,k++}else Math.abs(L),E.pts=E.dts=C,C+=g,k++}for(var F=_.length,j=0;F--;)j+=_[F].unit.byteLength;for(var B=0,U=_.length;B<U;B++){var $=_[B],q=$.unit,H=$.pts;if(void 0!==f&&o)o.duration=Math.round((H-f)/m);else{var z=H-x,G=0;if(n&&t.isAAC&&z){if(z>0&&z<I)G=Math.round((H-x)/g),s.logger.log(D(z,!0)+" ms hole between AAC samples detected,filling it"),G>0&&((l=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(l=q.subarray()),j+=G*l.length);else if(z<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+D(x,!0)+" ms / "+D(H,!0)+" ms / "+D(-z,!0)+" ms"),j-=q.byteLength;continue}H=x}if(d=H,!(j>0))return;j+=b;try{c=new Uint8Array(j)}catch(t){return void this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}y||(new DataView(c.buffer).setUint32(0,j),c.set(R.types.mdat,4));for(var K=0;K<G;K++)(l=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),l=q.subarray()),c.set(l,b),b+=l.byteLength,o={size:l.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(o)}c.set(q,b);var V=q.byteLength;b+=V,o={size:V,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(o),f=H}var W=0;if((F=w.length)>=2&&(W=w[F-2].duration,o.duration=W),F){this.nextAudioPts=x=f+m*W,t.samples=w,u=y?new Uint8Array:R.moof(t.sequenceNumber++,d/m,t),t.samples=[];var Y=d/p,X=x/p,Q={data1:u,data2:c,startPTS:Y,endPTS:X,startDTS:Y,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:F};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Q),Q}return null}},e.remuxEmptyAudio=function(t,e,n,i){var r=t.inputTimeScale,a=r/(t.samplerate?t.samplerate:r),o=this.nextAudioPts,l=(void 0!==o?o:i.startDTS*r)+this._initDTS,c=i.endDTS*r+this._initDTS,u=1024*a,d=Math.ceil((c-l)/u),f=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),f){for(var p=[],h=0;h<d;h++){var m=l+h*u;p.push({unit:f,pts:m,dts:m})}t.samples=p,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.remuxID3=function(t,e){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,a=this._initPTS,o=this._initDTS,s=0;s<n;s++){var l=t.samples[s];l.pts=M(l.pts-a,e*r)/r,l.dts=M(l.dts-o,e*r)/r}this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:t.samples}),t.samples=[]}},e.remuxText=function(t,e){var n=t.samples.length,r=t.inputTimeScale,a=this._initPTS;if(n){for(var o=0;o<n;o++){var s=t.samples[o];s.pts=M(s.pts-a,e*r)/r}t.samples.sort(function(t,e){return t.pts-e.pts}),this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t}(),B=function(){function t(t){this.observer=t}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.remux=function(t,e,n,r,a,o,s,l){var c=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),c.trigger(i.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:u,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),c.trigger(i.default.FRAG_PARSED)},t}(),U=Object(l.getSelfScope)();try{F=U.performance.now.bind(U.performance)}catch(t){s.logger.debug("Unable to use Performance API on this environment"),F=U.Date.now}var $=function(){function t(t,e,n,i){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=i}var e=t.prototype;return e.destroy=function(){var t=this.demuxer;t&&t.destroy()},e.push=function(t,e,n,r,o,s,l,c,u,d,f,p){var h=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a.default(this.observer,this.config));var g=F();m.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var a=F();h.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:a}}),h.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,o,s,l,c,u,d,f,p)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,o,s,l,c,u,d,f,p)},e.pushDecrypted=function(t,e,n,a,o,s,l,c,u,d,f,p){var h=this.demuxer,m=this.remuxer;if(!h||l||c){for(var g,v=this.observer,_=this.typeSupported,w=this.config,x=[{demux:C,remux:j},{demux:b.default,remux:B},{demux:y,remux:j},{demux:E,remux:j}],T=0,k=x.length;T<k&&!(g=x[T]).demux.probe(t);T++);if(!g)return void v.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});m&&m instanceof g.remux||(m=new g.remux(v,w,_,this.vendor)),h&&h instanceof g.demux||(h=new g.demux(v,m,w,_),this.probe=g.demux.probe),this.demuxer=h,this.remuxer=m}(l||c)&&(h.resetInitSegment(n,a,o,d),m.resetInitSegment()),l&&(h.resetTimeStamp(p),m.resetTimeStamp(p)),"function"==typeof h.setDecryptData&&h.setDecryptData(e),h.append(t,s,u,f)},t}();e.default=$},"./src/demux/demuxer-worker.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/demux/demuxer-inline.js"),r=n("./src/events.js"),a=n("./src/utils/logger.js"),o=n("./node_modules/eventemitter3/index.js");e.default=function(t){var e=new o.EventEmitter;e.trigger=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i.default(e,o.typeSupported,s,o.vendor),Object(a.enableLogs)(s.debug),n("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(r.default.FRAG_DECRYPTED,n),e.on(r.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(r.default.FRAG_PARSED,n),e.on(r.default.ERROR,n),e.on(r.default.FRAG_PARSING_METADATA,n),e.on(r.default.FRAG_PARSING_USERDATA,n),e.on(r.default.INIT_PTS_FOUND,n),e.on(r.default.FRAG_PARSING_DATA,function(e,n){var i=[],r={event:e,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(r,i)})}},"./src/demux/id3.js":function(t,e,n){"use strict";n.r(e),n.d(e,"utf8ArrayToStr",function(){return s});var i,r=n("./src/utils/get-self-scope.js"),a=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,r=0;t.isHeader(e,n);)r+=10,r+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(r+=10),n+=r;if(r>0)return e.subarray(i,i+r)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var r=n[i];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:n,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var r=t._readSize(e,n+6),a=(n+=10)+r;n+8<a;){var o=t._getFrameData(e.subarray(n)),s=t._decodeFrame(o);s&&i.push(s),n+=o.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0);n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var a=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:a}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0);n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var a=t._utf8ArrayToStr(e.data);return{key:e.type,data:a}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var n=o();if(n){var i=n.decode(t);if(e){var r=i.indexOf("\0");return-1!==r?i.substring(0,r):i}return i.replace(/\0/g,"")}for(var a,s,l,c=t.length,u="",d=0;d<c;){if(0===(a=t[d++])&&e)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=t[d++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=t[d++],l=t[d++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&l)<<0)}}return u},t}();function o(){var t=Object(r.getSelfScope)();return i||void 0===t.TextDecoder||(i=new t.TextDecoder("utf-8")),i}var s=a._utf8ArrayToStr;e.default=a},"./src/demux/mp4demuxer.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/utils/logger.js"),r=n("./src/events.js"),a=Math.pow(2,32)-1,o=function(){function t(t,e){this.observer=t,this.remuxer=e}var e=t.prototype;return e.resetTimeStamp=function(t){this.initPTS=t},e.resetInitSegment=function(e,n,i,a){if(e&&e.byteLength){var o=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:a?e:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:a?e:null}),o.video&&(s.video={container:"video/mp4",codec:i,initSegment:a?e:null})),this.observer.trigger(r.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,r,a,o,s,l,c=[];if(e.data?(s=e.start,a=e.end,e=e.data):(s=0,a=e.byteLength),!n.length)return null;for(i=s;i<a;)l=(r=t.readUint32(e,i))>1?i+r:a,t.bin2str(e.subarray(i+4,i+8))===n[0]&&(1===n.length?c.push({data:e,start:i+8,end:l}):(o=t.findBox({data:e,start:i+8,end:l},n.slice(1))).length&&(c=c.concat(o))),i=l;return c},t.parseSegmentIndex=function(e){var n,i=t.findBox(e,["moov"])[0],r=i?i.end:null,a=0,o=t.findBox(e,["sidx"]);if(!o||!o[0])return null;n=[];var s=(o=o[0]).data[0];a=0===s?8:16;var l=t.readUint32(o,a);a+=4,a+=0===s?8:16,a+=2;var c=o.end+0,u=t.readUint16(o,a);a+=2;for(var d=0;d<u;d++){var f=a,p=t.readUint32(o,f);f+=4;var h=2147483647&p;if(1==(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var m=t.readUint32(o,f);f+=4,n.push({referenceSize:h,subsegmentDuration:m,info:{duration:m/l,start:c,end:c+h-1}}),c+=h,a=f+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:u,references:n,moovEndOffset:r}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var a=r.data[r.start],o=0===a?12:20,s=t.readUint32(r,o),l=t.findBox(e,["mdia","mdhd"])[0];if(l){o=0===(a=l.data[l.start])?12:20;var c=t.readUint32(l,o),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var d={soun:"audio",vide:"video"}[t.bin2str(u.data.subarray(u.start+8,u.start+12))];if(d){var f=t.findBox(e,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var p=t.bin2str(f.data.subarray(f.start+12,f.start+16));i.logger.log("MP4Demuxer:"+d+":"+p+" found")}n[s]={timescale:c,type:d},n[d]={timescale:c,id:s}}}}}}),n},t.getStartDTS=function(e,n){var i,r,a;return i=t.findBox(n,["moof","traf"]),r=[].concat.apply([],i.map(function(n){return t.findBox(n,["tfhd"]).map(function(i){var r,a;return r=t.readUint32(i,4),a=e[r].timescale||9e4,t.findBox(n,["tfdt"]).map(function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map(function(n){return t.findBox(n,["tfhd"]).map(function(r){var o=t.readUint32(r,4),s=e[o].timescale||9e4;t.findBox(n,["tfdt"]).map(function(e){var n=e.data[e.start],r=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,r-i*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=i*s,r=Math.max(r,0);var o=Math.floor(r/(a+1)),l=Math.floor(r%(a+1));t.writeUint32(e,4,o),t.writeUint32(e,8,l)}})})})},e.append=function(e,n,i,a){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var c=t.getStartDTS(o,e);this.initPTS=l=c-n,this.observer.trigger(r.default.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(o,e,l),s=t.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,s,i,a,e)},e.destroy=function(){},t}();e.default=o},"./src/errors.ts":function(t,e,n){"use strict";var i,r;n.r(e),n.d(e,"ErrorTypes",function(){return i}),n.d(e,"ErrorDetails",function(){return r}),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(i||(i={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException"}(r||(r={}))},"./src/events.js":function(t,e,n){"use strict";n.r(e),e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return rn});var i={};n.r(i),n.d(i,"newCue",function(){return de});var r,a,o=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/errors.ts"),l=n("./src/polyfills/number.js"),c=n("./src/events.js"),u=n("./src/utils/logger.js"),d={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},f=function(){function t(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){},e.onHandlerDestroyed=function(){},e.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(d[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},e.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},e.onEvent=function(t,e){this.onEventGeneric(t,e)},e.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){u.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();!function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(a||(a={}));var p=n("./src/demux/mp4demuxer.js");function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m,g=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}var e,n;return e=t,(n=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(o.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&h(e.prototype,n),t}();function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}!function(t){t.AUDIO="audio",t.VIDEO="video"}(m||(m={}));var y=function(){function t(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((t={})[m.AUDIO]=!1,t[m.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var e,n,i=t.prototype;return i.setByteRange=function(t,e){var n=t.split("@",2),i=[];1===n.length?i[0]=e?e.byteRangeEndOffset:0:i[0]=parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i},i.addElementaryStream=function(t){this._elementaryStreams[t]=!0},i.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},i.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},i.setDecryptDataFromLevelKey=function(t,e){var n=t;return(null==t?void 0:t.method)&&t.uri&&!t.iv&&((n=new g(t.baseuri,t.reluri)).method=t.method,n.iv=this.createInitializationVector(e)),n},e=t,(n=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&u.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(l.isFiniteNumber)(this.programDateTime))return null;var t=Object(l.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&v(e.prototype,n),t}();function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _=function(){function t(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}var e,n;return e=t,(n=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(l.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&b(e.prototype,n),t}(),w=/^(\d+)x(\d+)$/,x=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,T=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.enumeratedString=function(t){return this[t]},e.decimalResolution=function(t){var e=w.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(x.lastIndex=0;null!==(e=x.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}(),k={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function C(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var E=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,S=/#EXT-X-MEDIA:(.*)/g,A=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),R=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,L=/\.(mp4|m4s|m4v|m4a)$/i,D=function(){function t(){}return t.findGroup=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}},t.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return o.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var i,r=[],a={},o=!1;function s(t,e){["video","audio"].forEach(function(n){var i=t.filter(function(t){return function(t,e){var n=k[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)});if(i.length){var r=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[n+"Codec"]=r.length>0?r[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}for(E.lastIndex=0;null!=(i=E.exec(e));)if(i[1]){var l={},c=l.attrs=new T(i[1]);l.url=t.resolve(i[2],n);var u=c.decimalResolution("RESOLUTION");u&&(l.width=u.width,l.height=u.height),l.bitrate=c.decimalInteger("AVERAGE-BANDWIDTH")||c.decimalInteger("BANDWIDTH"),l.name=c.NAME,s([].concat((c.CODECS||"").split(/[ ,]+/)),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=t.convertAVC1ToAVCOTI(l.videoCodec)),r.push(l)}else if(i[3]){var d=new T(i[3]);d["DATA-ID"]&&(o=!0,a[d["DATA-ID"]]=d)}return{levels:r,sessionData:o?a:null}},t.parseMasterPlaylistMedia=function(e,n,i,r){var a;void 0===r&&(r=[]);var o=[],s=0;for(S.lastIndex=0;null!==(a=S.exec(e));){var l=new T(a[1]);if(l.TYPE===i){var c={attrs:l,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE,type:i,default:"YES"===l.DEFAULT,autoselect:"YES"===l.AUTOSELECT,forced:"YES"===l.FORCED,lang:l.LANGUAGE};if(l.URI&&(c.url=t.resolve(l.URI,n)),r.length){var u=t.findGroup(r,c.groupId);c.audioCodec=u?u.codec:r[0].codec}o.push(c)}}return o},t.parseLevelPlaylist=function(t,e,n,i,r){var a,o,s,c=0,d=0,f=new _(e),p=0,h=null,m=new y,v=null;for(A.lastIndex=0;null!==(a=A.exec(t));){var b=a[1];if(b){m.duration=parseFloat(b);var w=(" "+a[2]).slice(1);m.title=w||null,m.tagList.push(w?["INF",b,w]:["INF",b])}else if(a[3]){if(Object(l.isFiniteNumber)(m.duration)){var x=c++;m.type=i,m.start=d,s&&(m.levelkey=s),m.sn=x,m.level=n,m.cc=p,m.urlId=r,m.baseurl=e,m.relurl=(" "+a[3]).slice(1),O(m,h),f.fragments.push(m),h=m,d+=m.duration,m=new y}}else if(a[4]){var k=(" "+a[4]).slice(1);h?m.setByteRange(k,h):m.setByteRange(k)}else if(a[5])m.rawProgramDateTime=(" "+a[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),null===v&&(v=f.fragments.length);else{if(!(a=a[0].match(R))){u.logger.warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<a.length&&void 0===a[o];o++);var C=(" "+a[o+1]).slice(1),E=(" "+a[o+2]).slice(1);switch(a[o]){case"#":m.tagList.push(E?[C,E]:[C]);break;case"PLAYLIST-TYPE":f.type=C.toUpperCase();break;case"MEDIA-SEQUENCE":c=f.startSN=parseInt(C);break;case"TARGETDURATION":f.targetduration=parseFloat(C);break;case"VERSION":f.version=parseInt(C);break;case"EXTM3U":break;case"ENDLIST":f.live=!1;break;case"DIS":p++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":p=parseInt(C);break;case"KEY":var S=new T(C),D=S.enumeratedString("METHOD"),I=S.URI,P=S.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(S.KEYFORMAT||"identity")){u.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}D&&(s=new g(e,I),I&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(s.method=D,s.key=null,s.iv=P));break;case"START":var N=new T(C).decimalFloatingPoint("TIME-OFFSET");Object(l.isFiniteNumber)(N)&&(f.startTimeOffset=N);break;case"MAP":var M=new T(C);m.relurl=M.URI,M.BYTERANGE&&m.setByteRange(M.BYTERANGE),m.baseurl=e,m.level=n,m.type=i,m.sn="initSegment",f.initSegment=m,(m=new y).rawProgramDateTime=f.initSegment.rawProgramDateTime;break;default:u.logger.warn("line parsed but not handled: "+a)}}}return(m=h)&&!m.relurl&&(f.fragments.pop(),d-=m.duration),f.totalduration=d,f.averagetargetduration=d/f.fragments.length,f.endSN=c-1,f.startCC=f.fragments[0]?f.fragments[0].cc:0,f.endCC=p,!f.initSegment&&f.fragments.length&&f.fragments.every(function(t){return L.test(t.relurl)})&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(m=new y).relurl=f.fragments[0].relurl,m.baseurl=e,m.level=n,m.type=i,m.sn="initSegment",f.initSegment=m,f.needSidxRanges=!0),v&&function(t,e){for(var n=t[e],i=e-1;i>=0;i--){var r=t[i];r.programDateTime=n.programDateTime-1e3*r.duration,n=r}}(f.fragments,v),f},t}();function O(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):(null==e?void 0:e.programDateTime)&&(t.programDateTime=e.endProgramDateTime),Object(l.isFiniteNumber)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}var I=window.performance,P=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MANIFEST_LOADING,c.default.LEVEL_LOADING,c.default.AUDIO_TRACK_LOADING,c.default.SUBTITLE_TRACK_LOADING)||this).loaders={},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.canHaveQualityLevels=function(t){return t!==r.AUDIO_TRACK&&t!==r.SUBTITLE_TRACK},i.mapContextToLevelType=function(t){switch(t.type){case r.AUDIO_TRACK:return a.AUDIO;case r.SUBTITLE_TRACK:return a.SUBTITLE;default:return a.MAIN}},i.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n};var o=i.prototype;return o.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,i=e.loader,r=new(n||i)(e);return t.loader=r,this.loaders[t.type]=r,r},o.getInternalLoader=function(t){return this.loaders[t.type]},o.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},o.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},o.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},o.onManifestLoading=function(t){this.load({url:t.url,type:r.MANIFEST,level:0,id:null,responseType:"text"})},o.onLevelLoading=function(t){this.load({url:t.url,type:r.LEVEL,level:t.level,id:t.id,responseType:"text"})},o.onAudioTrackLoading=function(t){this.load({url:t.url,type:r.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},o.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:r.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},o.load=function(t){var e=this.hls.config;u.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,i,a,o,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===t.url)return u.logger.trace("playlist request ongoing"),!1;u.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case r.MANIFEST:n=e.manifestLoadingMaxRetry,i=e.manifestLoadingTimeOut,a=e.manifestLoadingRetryDelay,o=e.manifestLoadingMaxRetryTimeout;break;case r.LEVEL:n=0,o=0,a=0,i=e.levelLoadingTimeOut;break;default:n=e.levelLoadingMaxRetry,i=e.levelLoadingTimeOut,a=e.levelLoadingRetryDelay,o=e.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t);var c={timeout:i,maxRetry:n,retryDelay:a,maxRetryDelay:o},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u.logger.debug("Calling internal loader delegate for URL: "+t.url),s.load(t,c,d),!0},o.loadsuccess=function(t,e,n,i){if(void 0===i&&(i=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,i);if(this.resetInternalLoader(n.type),"string"!=typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var r=t.data;e.tload=I.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,i):this._handleMasterPlaylist(t,e,n,i):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",i)},o.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},o.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},o._handleMasterPlaylist=function(t,e,n,r){var a=this.hls,o=t.data,s=i.getResponseUrl(t,n),l=D.parseMasterPlaylist(o,s),d=l.levels,f=l.sessionData;if(d.length){var p=d.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),h=D.parseMasterPlaylistMedia(o,s,"AUDIO",p),m=D.parseMasterPlaylistMedia(o,s,"SUBTITLES"),g=D.parseMasterPlaylistMedia(o,s,"CLOSED-CAPTIONS");if(h.length){var v=!1;h.forEach(function(t){t.url||(v=!0)}),!1===v&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(u.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}a.trigger(c.default.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:m,captions:g,url:s,stats:e,networkDetails:r,sessionData:f})}else this._handleManifestParsingError(t,n,"no level found in manifest",r)},o._handleTrackOrLevelPlaylist=function(t,e,n,a){var o=this.hls,u=n.id,d=n.level,f=n.type,p=i.getResponseUrl(t,n),h=Object(l.isFiniteNumber)(u)?u:0,m=Object(l.isFiniteNumber)(d)?d:h,g=i.mapContextToLevelType(n),v=D.parseLevelPlaylist(t.data,p,m,g,h);if(v.tload=e.tload,v.fragments.length){if(f===r.MANIFEST){var y={url:p,details:v};o.trigger(c.default.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:p,stats:e,networkDetails:a,sessionData:null})}if(e.tparsed=I.now(),v.needSidxRanges){var b=v.initSegment.url;this.load({url:b,isSidxRequest:!0,type:f,level:d,levelDetails:v,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=v,this._handlePlaylistLoaded(t,e,n,a)}else o.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:p,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},o._handleSidxRequest=function(t,e){if("string"==typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var n=p.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var i=n.references,r=e.levelDetails;i.forEach(function(t,e){var n=t.info;if(r){var i=r.fragments[e];0===i.byteRange.length&&i.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}}),r&&r.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},o._handleManifestParsingError=function(t,e,n,i){this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:i})},o._handleNetworkError=function(t,e,n,i){var a,o;void 0===n&&(n=!1),void 0===i&&(i=null),u.logger.info("A network error occured while loading a "+t.type+"-type playlist");var l=this.getInternalLoader(t);switch(t.type){case r.MANIFEST:a=n?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case r.LEVEL:a=n?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case r.AUDIO_TRACK:a=n?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var d={type:s.ErrorTypes.NETWORK_ERROR,details:a,fatal:o,url:t.url,loader:l,context:t,networkDetails:e};i&&(d.response=i),this.hls.trigger(c.default.ERROR,d)},o._handlePlaylistLoaded=function(t,e,n,a){var o=n.type,s=n.level,l=n.id,u=n.levelDetails;if(u&&u.targetduration)if(i.canHaveQualityLevels(n.type))this.hls.trigger(c.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:e,networkDetails:a});else switch(o){case r.AUDIO_TRACK:this.hls.trigger(c.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:e,networkDetails:a});break;case r.SUBTITLE_TRACK:this.hls.trigger(c.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:e,networkDetails:a})}else this._handleManifestParsingError(t,n,"invalid target duration",a)},i}(f),N=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.FRAG_LOADING)||this).loaders={},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){var e=this.loaders;for(var n in e){var i=e[n];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders,r=this.hls.config,a=r.fLoader,o=r.loader;e.loaded=0;var s,c,d,f=i[n];f&&(u.logger.warn("abort previous fragment loader for type: "+n),f.abort()),f=i[n]=e.loader=r.fLoader?new a(r):new o(r),s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var p=e.byteRangeStartOffset,h=e.byteRangeEndOffset;Object(l.isFiniteNumber)(p)&&Object(l.isFiniteNumber)(h)&&(s.rangeStart=p,s.rangeEnd=h),c={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(s,c,d)},r.loadsuccess=function(t,e,n,i){void 0===i&&(i=null);var r=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(c.default.FRAG_LOADED,{payload:r,frag:a,stats:e,networkDetails:i})},r.loaderror=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},r.loadtimeout=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},r.loadprogress=function(t,e,n,i){void 0===i&&(i=null);var r=e.frag;r.loaded=t.loaded,this.hls.trigger(c.default.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:i})},i}(f),M=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.KEY_LOADING)||this).loaders={},n.decryptkey=null,n.decrypturl=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){for(var e in this.loaders){var n=this.loaders[e];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n];if(e.decryptdata){var r=e.decryptdata.uri;if(r!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;if(i&&(u.logger.warn("abort previous key loader for type:"+n),i.abort()),!r)return void u.logger.warn("key uri is falsy");e.loader=this.loaders[n]=new a.loader(a),this.decrypturl=r,this.decryptkey=null;var o={url:r,frag:e,responseType:"arraybuffer"},s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(o,s,l)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(c.default.KEY_LOADED,{frag:e}))}else u.logger.warn("Missing decryption data on fragment in onKeyLoading")},r.loadsuccess=function(t,e,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,delete this.loaders[i.type],this.hls.trigger(c.default.KEY_LOADED,{frag:i})):u.logger.error("after key load, decryptdata unset")},r.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},r.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},i}(f),F="NOT_LOADED",j="APPENDING",B="PARTIAL",U="OK",$=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.BUFFER_APPENDED,c.default.FRAG_BUFFERED,c.default.FRAG_LOADED)||this).bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=e.config,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,f.prototype.destroy.call(this),t.prototype.destroy.call(this)},r.getBufferedFrag=function(t,e){var n=this.fragments,i=Object.keys(n).filter(function(i){var r=n[i];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var a=r.body;return a.startPTS<=t&&t<=a.endPTS});if(0===i.length)return null;var r=i.pop();return n[r].body},r.detectEvictedFragments=function(t,e){var n=this;Object.keys(this.fragments).forEach(function(i){var r=n.fragments[i];if(r&&r.buffered){var a=r.range[t];if(a)for(var o=a.time,s=0;s<o.length;s++){var l=o[s];if(!n.isTimeBuffered(l.startPTS,l.endPTS,e)){n.removeFragment(r.body);break}}}})},r.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(n){if(t.hasElementaryStream(n)){var r=e.timeRanges[n];i.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}}))},r.getBufferedTimes=function(t,e,n){for(var i,r,a=[],o=!1,s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,r=n.end(s)+this.bufferPadding,t>=i&&e<=r){a.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<r&&e>i)a.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),o=!0;else if(e<=i)break}return{time:a,partial:o}},r.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},r.getPartialFragment=function(t){var e,n,i,r=this,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=r.fragments[s];r.isPartial(l)&&(n=l.body.startPTS-r.bufferPadding,i=l.body.endPTS+r.bufferPadding,t>=n&&t<=i&&(e=Math.min(t-n,i-t),o<=e&&(a=l.body,o=e)))}),a},r.getState=function(t){var e=this.getFragmentKey(t),n=this.fragments[e],i=F;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?B:U:j),i},r.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},r.isTimeBuffered=function(t,e,n){for(var i,r,a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,r=n.end(a)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1},r.onFragLoaded=function(t){var e=t.frag;Object(l.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},r.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)})},r.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},r.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},r.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},r.removeAllFragments=function(){this.fragments=Object.create(null)},i}(f),q={search:function(t,e){for(var n=0,i=t.length-1,r=null,a=null;n<=i;){var o=e(a=t[r=(n+i)/2|0]);if(o>0)n=r+1;else{if(!(o<0))return a;i=r-1}}return null}},H=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var i,r=t.buffered,a=[];for(i=0;i<r.length;i++)a.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(a,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){t.sort(function(t,e){return t.start-e.start||e.end-t.end});var i=[];if(n)for(var r=0;r<t.length;r++){var a=i.length;if(a){var o=i[a-1].end;t[r].start-o<n?t[r].end>o&&(i[a-1].end=t[r].end):i.push(t[r])}else i.push(t[r])}else i=t;for(var s,l=0,c=e,u=e,d=0;d<i.length;d++){var f=i[d].start,p=i[d].end;if(e+n>=f&&e<p)c=f,l=(u=p)-e;else if(e+n<f){s=f;break}}return{len:l,start:c,end:u,nextStart:s}},t}(),z=n("./node_modules/eventemitter3/index.js"),G=n("./node_modules/webworkify-webpack/index.js"),K=n("./src/demux/demuxer-inline.js");function V(){return window.MediaSource||window.WebKitMediaSource}var W=n("./src/utils/get-self-scope.js"),Y=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.trigger=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,[t,t].concat(n))},i}(z.EventEmitter),X=Object(W.getSelfScope)(),Q=V()||{isTypeSupported:function(){return!1}},J=function(){function t(t,e){var n=this;this.hls=t,this.id=e;var i=this.observer=new Y,r=t.config,a=function(e,i){(i=i||{}).frag=n.frag,i.id=n.id,t.trigger(e,i)};i.on(c.default.FRAG_DECRYPTED,a),i.on(c.default.FRAG_PARSING_INIT_SEGMENT,a),i.on(c.default.FRAG_PARSING_DATA,a),i.on(c.default.FRAG_PARSED,a),i.on(c.default.ERROR,a),i.on(c.default.FRAG_PARSING_METADATA,a),i.on(c.default.FRAG_PARSING_USERDATA,a),i.on(c.default.INIT_PTS_FOUND,a);var o={mp4:Q.isTypeSupported("video/mp4"),mpeg:Q.isTypeSupported("audio/mpeg"),mp3:Q.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){var d;u.logger.log("demuxing in webworker");try{d=this.w=G("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(e){t.trigger(c.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:o,vendor:l,id:e,config:JSON.stringify(r)})}catch(t){u.logger.warn("Error in worker:",t),u.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&X.URL.revokeObjectURL(d.objectURL),this.demuxer=new K.default(i,o,r,l),this.w=void 0}}else this.demuxer=new K.default(i,o,r,l)}var e=t.prototype;return e.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.push=function(t,e,n,i,r,a,o,s){var c=this.w,d=Object(l.isFiniteNumber)(r.startPTS)?r.startPTS:r.start,f=r.decryptdata,p=this.frag,h=!(p&&r.cc===p.cc),m=!(p&&r.level===p.level),g=p&&r.sn===p.sn+1,v=!m&&g;if(h&&u.logger.log(this.id+":discontinuity detected"),m&&u.logger.log(this.id+":switch detected"),this.frag=r,c)c.postMessage({cmd:"demux",data:t,decryptdata:f,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:d,discontinuity:h,trackSwitch:m,contiguous:v,duration:a,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,f,e,n,i,d,h,m,v,a,o,s)}},e.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":X.URL.revokeObjectURL(this.w.objectURL);break;case c.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},t}();function Z(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}}function tt(t,e,n){var i=t[e],r=t[n],a=r.startPTS;if(Object(l.isFiniteNumber)(a))n>e?(i.duration=a-i.start,i.duration<0&&u.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-a,r.duration<0&&u.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"));else if(n>e){var o=i.cc===r.cc;r.start=i.start+(o&&i.minEndPTS?i.minEndPTS-i.start:i.duration)}else r.start=Math.max(i.start-r.duration,0)}function et(t,e,n,i,r,a){var o=n,s=i;if(Object(l.isFiniteNumber)(e.startPTS)){var c=Math.abs(e.startPTS-n);Object(l.isFiniteNumber)(e.deltaPTS)?e.deltaPTS=Math.max(c,e.deltaPTS):e.deltaPTS=c,o=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),s=Math.min(i,e.endPTS),i=Math.max(i,e.endPTS),r=Math.min(r,e.startDTS),a=Math.max(a,e.endDTS)}var u=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=o,e.endPTS=i,e.minEndPTS=s,e.startDTS=r,e.endDTS=a,e.duration=i-n;var d,f,p,h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;for(d=h-t.startSN,(f=t.fragments)[d]=e,p=d;p>0;p--)tt(f,p,p-1);for(p=d;p<f.length-1;p++)tt(f,p,p+1);return t.PTSKnown=!0,u}function nt(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var n,i=0;if(it(t,e,function(t,r){i=t.cc-r.cc,Object(l.isFiniteNumber)(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,n=r),e.PTSKnown=!0}),e.PTSKnown){if(i){u.logger.log("discontinuity sliding from playlist, take drift into account");for(var r=e.fragments,a=0;a<r.length;a++)r[a].cc+=i}n?et(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):function(t,e){var n=e.startSN-t.startSN,i=t.fragments,r=e.fragments;if(!(n<0||n>i.length))for(var a=0;a<r.length;a++)r[a].start+=i[n].start}(t,e),e.PTSKnown=t.PTSKnown}}function it(t,e,n){if(t&&e)for(var i=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,o=i;o<=r;o++){var s=t.fragments[a+o],l=e.fragments[o];if(!s||!l)break;n(s,l,o)}}function rt(t,e,n){var i=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),r=i/2;return t&&e.endSN===t.endSN&&(i=r),n&&(i=Math.max(r,i-(window.performance.now()-n))),Math.round(i)}var at=function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e};function ot(t,e){e.fragments.forEach(function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}),e.PTSKnown=!0}function st(t,e,n){!function(t,e,n){if(function(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}(t,n,e)){var i=function(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var r=function(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}(n,i[0].cc);if(r&&(!r||r.startPTS))return r;u.logger.log("No frag in previous level to align on")}else u.logger.log("No fragments to align")}(n.details,e);i&&(u.logger.log("Adjusting PTS using last level due to CC increase within current level"),ot(i.start,e))}}(t,n,e),!n.PTSKnown&&e&&function(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var n=e.fragments[0].programDateTime,i=(t.fragments[0].programDateTime-n)/1e3+e.fragments[0].start;Object(l.isFiniteNumber)(i)&&(u.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),ot(i,t))}}(n,e.details)}function lt(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(l.isFiniteNumber)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<t.length;++i){var r=t[i];if(dt(e,n,r))return r}return null}function ct(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=null;return t?r=e[t.sn-e[0].sn+1]:0===n&&0===e[0].start&&(r=e[0]),r&&0===ut(n,i,r)?r:q.search(e,ut.bind(null,n,i))||r}function ut(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function dt(t,e,n){var i=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-i>t}var ft=function(){function t(t,e,n,i){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=i,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var e=t.prototype;return e.poll=function(t){var e=this.config,n=this.media,i=this.stalled,r=n.currentTime,a=n.seeking,o=this.seeking&&!a,s=!this.seeking&&a;if(this.seeking=a,r===t){if((s||o)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var l=H.bufferInfo(n,r,0),c=l.len>0,d=l.nextStart||0;if(c||d){if(a){var f=l.len>2,p=!d||d-r>2&&!this.fragmentTracker.getPartialFragment(r);if(f||p)return;this.moved=!1}if(!this.moved&&this.stalled){var h=Math.max(d,l.start||0)-r;if(h>0&&h<=2)return void this._trySkipBufferHole(null)}var m=self.performance.now();if(null!==i){var g=m-i;!a&&g>=250&&this._reportStall(l.len);var v=H.bufferInfo(n,r,e.maxBufferHole);this._tryFixBufferStall(v,g)}else this.stalled=m}}}else if(this.moved=!0,null!==i){if(this.stallReported){var y=self.performance.now()-i;u.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(y)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var n=this.config,i=this.fragmentTracker,r=this.media.currentTime,a=i.getPartialFragment(r);a&&this._trySkipBufferHole(a)||t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(u.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,u.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,n=this.hls,i=this.media,r=i.currentTime,a=0,o=0;o<i.buffered.length;o++){var l=i.buffered.start(o);if(r+e.maxBufferHole>=a&&r<l){var d=Math.max(l+.05,i.currentTime+.1);return u.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+d),this.moved=!0,this.stalled=null,i.currentTime=d,t&&n.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+d,frag:t}),d}a=i.buffered.end(o)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,i=n.currentTime,r=(this.nudgeRetry||0)+1;if(this.nudgeRetry=r,r<t.nudgeMaxRetry){var a=i+r*t.nudgeOffset;u.logger.warn("Nudging 'currentTime' from "+i+" to "+a),n.currentTime=a,e.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else u.logger.error("Playhead still not moving while enough data buffered @"+i+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();var pt=function(t){var e,n;function i(e){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return(n=t.call.apply(t,[this,e].concat(r))||this)._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},r.hasInterval=function(){return!!this._tickInterval},r.hasNextTick=function(){return!!this._tickTimer},r.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},r.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},r.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},r.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},r.doTick=function(){},i}(f),ht="STOPPED",mt="STARTING",gt="IDLE",vt="KEY_LOADING",yt="FRAG_LOADING",bt="FRAG_LOADING_WAITING_RETRY",_t="WAITING_TRACK",wt="PARSING",xt="PARSED",Tt="BUFFER_FLUSHING",kt="ENDED",Ct="ERROR",Et="WAITING_INIT_PTS",St="WAITING_LEVEL",At=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.doTick=function(){},r.startLoad=function(){},r.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ht},r._streamEnded=function(t,e){var n=this.fragCurrent,i=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var r=i.getState(n);return r===B||r===U}return!1},r.onMediaSeeking=function(){var t=this.config,e=this.media,n=this.mediaBuffer,i=this.state,r=e?e.currentTime:null,a=H.bufferInfo(n||e,r,this.config.maxBufferHole);if(u.logger.log("media seeking to "+(Object(l.isFiniteNumber)(r)?r.toFixed(3):r)),i===yt){var o=this.fragCurrent;if(0===a.len&&o){var s=t.maxFragLookUpTolerance,c=o.start-s,d=o.start+o.duration+s;r<c||r>d?(o.loader&&(u.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=gt):u.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===kt&&(0===a.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=gt);e&&(this.lastCurrentTime=r),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=r),this.tick()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=ht,this.fragmentTracker=null},r.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},i}(pt);function Rt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Lt,Dt=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.LEVEL_LOADED,c.default.LEVELS_UPDATED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_LOAD_EMERGENCY_ABORTED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.AUDIO_TRACK_SWITCHING,c.default.AUDIO_TRACK_SWITCHED,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED)||this).fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state=ht,i.stallReported=!1,i.gapController=null,i.altAudio=!1,i.audioOnly=!1,i.bitrateTest=!1,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o,d=i.prototype;return d.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(n.config.testBandwidth?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(u.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=gt,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=ht},d.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},d.doTick=function(){switch(this.state){case Tt:this.fragLoadError=0;break;case gt:this._doTickIdle();break;case St:var t=this.levels[this.level];t&&t.details&&(this.state=gt);break;case bt:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(u.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=gt)}this._checkBuffer(),this._checkFragmentChanged()},d._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,a=this.levels[r];if(a){var o,s=a.bitrate;o=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,o=Math.min(o,e.maxMaxBufferLength);var l=i<e.maxBufferHole?Math.max(2,e.maxBufferHole):e.maxBufferHole,d=H.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,l),f=d.len;if(!(f>=o)){u.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var p=a.details;if(!p||p.live&&this.levelLastLoaded!==r)this.state=St;else{if(this._streamEnded(d,p)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(c.default.BUFFER_EOS,h),void(this.state=kt)}this._fetchPayloadOrEos(i,d,p)}}}}},d._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=(this.level,n.fragments),a=r.length;if(0!==a){var o,s=r[0].start,l=r[a-1].start+r[a-1].duration,c=e.end;if(n.initSegment&&!n.initSegment.data)o=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void u.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(o=this._ensureFragmentAtLivePoint(n,c,s,l,i,r)))return}else c<s&&(o=r[0]);o||(o=this._findFragment(s,i,a,r,c,l,n)),o&&(o.encrypted?this._loadKey(o,n):this._loadFragment(o,n,t,c))}},d._ensureFragmentAtLivePoint=function(t,e,n,i,r,a){var o,s=this.hls.config,c=this.media,d=1/0;if(void 0!==s.liveMaxLatencyDuration?d=s.liveMaxLatencyDuration:Object(l.isFiniteNumber)(s.liveMaxLatencyDurationCount)&&(d=s.liveMaxLatencyDurationCount*t.targetduration),e<Math.max(n-s.maxFragLookUpTolerance,i-d)){var f=this.liveSyncPosition=this.computeLivePosition(n,t);e=f,c&&!c.paused&&c.readyState&&c.duration>f&&f>c.currentTime&&(u.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),c.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&e>i&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown&&r)if(t.hasProgramDateTime)u.logger.log("live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),o=lt(a,r.endProgramDateTime,s.maxFragLookUpTolerance);else{var p=r.sn+1;if(p>=t.startSN&&p<=t.endSN){var h=a[p-t.startSN];r.cc===h.cc&&(o=h,u.logger.log("live playlist, switching playlist, load frag with next SN: "+o.sn))}o||(o=q.search(a,function(t){return r.cc-t.cc}))&&u.logger.log("live playlist, switching playlist, load frag with same CC: "+o.sn)}return o},d._findFragment=function(t,e,n,i,r,a,o){var s,l=this.hls.config;if(s=r<a?ct(e,i,r,r>a-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance):i[n-1]){var c=s.sn-o.startSN,d=e&&s.level===e.level,f=i[c-1],p=i[c+1];if(e&&s.sn===e.sn)if(d&&!s.backtracked)if(s.sn<o.endSN){var h=e.deltaPTS;h&&h>l.maxBufferHole&&e.dropped&&c?(s=f,u.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=p,this.fragmentTracker.getState(s)!==U&&u.logger.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(p&&p.backtracked?(u.logger.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(u.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,f?(s=f).backtracked=!0:c&&(s=null)))}return s},d._loadKey=function(t,e){u.logger.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level),this.state=vt,this.hls.trigger(c.default.KEY_LOADING,{frag:t})},d._loadFragment=function(t,e,n,i){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,"initSegment"!==t.sn&&(this.startFragRequested=!0),Object(l.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===F||r===B?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,u.logger.log("Loading "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(n.toFixed(3))+", bufferEnd: "+parseFloat(i.toFixed(3))),this.hls.trigger(c.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new J(this.hls,"main")),this.state=yt):r===j&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},d.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,a.MAIN)},d.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},d._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),H.isBuffered(n,e)?t=this.getBufferedFrag(e):H.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(c.default.FRAG_CHANGED,{frag:i});var r=i.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(c.default.LEVEL_SWITCHED,{level:r}),this.fragPlaying=i}}},d.immediateLevelSwitch=function(){if(u.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused)||e.pause():t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},d.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,t.currentTime>0&&H.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},d.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=this.getBufferedFrag(t.currentTime);if(n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)e=0;else{var i=this.hls.nextLoadLevel,r=this.levels[i],a=this.fragLastKbps;e=a&&this.fragCurrent?this.fragCurrent.duration*r.bitrate/(1e3*a)+1:0}var o=this.getBufferedFrag(t.currentTime+e);if(o){var s=this.followingBufferedFrag(o);if(s){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null;var c=Math.max(o.endPTS,s.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,s.duration));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},d.flushMainBuffer=function(t,e){this.state=Tt;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(c.default.BUFFER_FLUSHING,n)},d.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new ft(n,e,this.fragmentTracker,this.hls)},d.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},d.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(l.isFiniteNumber)(e)&&u.logger.log("media seeked to "+e.toFixed(3)),this.tick()},d.onManifestLoading=function(){u.logger.log("trigger BUFFER_RESET"),this.hls.trigger(c.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},d.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&u.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},d.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],a=e.totalduration,o=0;if(u.logger.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live||r.details&&r.details.live){var s=r.details;s&&e.fragments.length>0?(nt(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&Object(l.isFiniteNumber)(o)?u.logger.log("live playlist sliding:"+o.toFixed(3)):(u.logger.log("live playlist - outdated PTS, unknown sliding"),st(this.fragPrevious,i,e))):(u.logger.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,st(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=n,this.hls.trigger(c.default.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=e.startTimeOffset;Object(l.isFiniteNumber)(d)?(d<0&&(u.logger.log("negative start time offset "+d+", count from end of last fragment"),d=o+a+d),u.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):e.live?(this.startPosition=this.computeLivePosition(o,e),u.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===St&&(this.state=gt),this.tick()},d.onKeyLoaded=function(){this.state===vt&&(this.state=gt,this.tick())},d.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,i=this.levels,r=this.media,a=t.frag;if(this.state===yt&&e&&"main"===a.type&&a.level===e.level&&a.sn===e.sn){var o=t.stats,s=i[e.level],l=s.details;if(this.bitrateTest=!1,this.stats=o,u.logger.log("Loaded "+e.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+e.level),a.bitrateTest&&n.nextLoadLevel)this.state=gt,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),n.trigger(c.default.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=gt,o.tparsed=o.tbuffered=window.performance.now(),l.initSegment.data=t.payload,n.trigger(c.default.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else{u.logger.log("Parsing "+e.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+e.level+", cc "+e.cc),this.state=wt,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var d=!(r&&r.seeking)&&(l.PTSKnown||!l.live),f=l.initSegment?l.initSegment.data:[],p=this._getAudioCodec(s);(this.demuxer=this.demuxer||new J(this.hls,"main")).push(t.payload,f,p,s.videoCodec,e,l.totalduration,d)}}this.fragLoadError=0},d.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===wt){var i,r,a=t.tracks;if(this.audioOnly=a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio,r=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(u.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",u.logger.log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=t.id}for(i in(r=a.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(c.default.BUFFER_CODECS,a),a){r=a[i],u.logger.log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},d.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===wt){var r=this.levels[this.level],a=n;if(Object(l.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&a.addElementaryStream(m.AUDIO),!0===t.hasVideo&&a.addElementaryStream(m.VIDEO),u.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)u.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=r.details;if(!o||a.sn!==o.startSN)return u.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=gt,this.fragPrevious=a,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();u.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var s=et(r.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(c.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(n){n&&n.length&&e.state===wt&&(e.appended=!0,e.pendingBuffering=!0,d.trigger(c.default.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))}),this.tick()}},d.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===wt&&(this.stats.tparsed=window.performance.now(),this.state=xt,this._checkAppendedParsed())},d.onAudioTrackSwitching=function(t){var e=this.altAudio,n=!!t.url,i=t.id;if(!n){if(this.mediaBuffer!==this.media){u.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(u.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=gt}var a=this.hls;e&&a.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:i})}},d.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(u.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},d.onBufferCreated=function(t){var e,n,i=t.tracks,r=!1;for(var a in i){var o=i[a];"main"===o.id?(n=a,e=o,"video"===a&&(this.videoBuffer=i[a].buffer)):r=!0}r&&e?(u.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},d.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==wt&&e!==xt||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(!(this.state!==xt||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;u.logger.log("main buffered : "+at(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(c.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=gt}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},d.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&H.isBuffered(this.media,this.media.currentTime)&&H.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);u.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=bt}else u.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ct;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Ct&&(t.fatal?(this.state=Ct,u.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==St||(this.state=gt));break;case s.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==wt&&this.state!==xt||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=gt):(u.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},d._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,u.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},d._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},d.onFragLoadEmergencyAborted=function(){this.state=gt,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},d.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;if(t){var e=this.audioOnly?m.AUDIO:m.VIDEO;this.fragmentTracker.detectEvictedFragments(e,t.buffered)}this.state=gt,this.fragPrevious=null},d.onLevelsUpdated=function(t){this.levels=t.levels},d.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},d._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=this.startPosition;if(e!==n&&n>=0){if(t.seeking)return void u.logger.log("could not seek to "+n+", already seeking at "+e);var i=(t.buffered.length?t.buffered.start(0):0)-n;i>0&&i<this.config.maxBufferHole&&(u.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),u.logger.log("seek to target start position "+n+" from current time "+e+". ready state "+t.readyState),t.currentTime=n}},d._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(u.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},r=i,(o=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u.logger.log("main stream-controller: "+e+"->"+t),this.hls.trigger(c.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}])&&Rt(r.prototype,o),i}(At);function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var It=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MANIFEST_LOADED,c.default.LEVEL_LOADED,c.default.AUDIO_TRACK_SWITCHED,c.default.FRAG_LOADED,c.default.ERROR)||this).canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,Lt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o=i.prototype;return o.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},o.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},o.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},o.stopLoad=function(){this.canload=!1},o.onManifestLoaded=function(t){var e,n=[],i=[],r={},a=null,o=!1,l=!1;if(t.levels.forEach(function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,l=l||!!t.audioCodec,Lt&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(a=r[t.bitrate])?a.url.push(t.url):(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&Z(a||t,"audio",e.AUDIO),e.SUBTITLES&&Z(a||t,"text",e.SUBTITLES))}),o&&l&&(n=n.filter(function(t){return!!t.videoCodec})),n=n.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||C(e,"audio"))&&(!n||C(n,"video"))}),t.audioTracks&&(i=t.audioTracks.filter(function(t){return!t.audioCodec||C(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),n.length>0){e=n[0].bitrate,n.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=n;for(var d=0;d<n.length;d++)if(n[d].bitrate===e){this._firstLevel=d,u.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}var f=l&&!o;this.hls.trigger(c.default.MANIFEST_PARSED,{levels:n,audioTracks:i,firstLevel:this._firstLevel,stats:t.stats,audio:l,video:o,altAudio:!f&&i.some(function(t){return!!t.url})})}else this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},o.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){u.logger.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,n.trigger(c.default.LEVEL_SWITCHING,i)}var r=e[t],a=r.details;if(!a||a.live){var o=r.urlId;n.trigger(c.default.LEVEL_LOADING,{url:r.url[o],level:t,id:o})}}else n.trigger(c.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},o.onError=function(t){if(t.fatal)t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,i=!1;switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,i=!0;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case s.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,i)}},o.recoverLevel=function(t,e,n,i){var r,a,o,s=this,l=this.hls.config,c=t.details,d=this._levels[e];if(d.loadError++,d.fragmentError=i,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return u.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},a),t.levelRetry=!0,this.levelRetryCount++,u.logger.warn("level controller, "+c+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(n||i)&&((r=d.url.length)>1&&d.loadError<r?(d.urlId=(d.urlId+1)%r,d.details=void 0,u.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(o=0===e?this._levels.length-1:e-1,u.logger.warn("level controller, "+c+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):i&&(u.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},o.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},o.onLevelLoaded=function(t){var e=this,n=t.level,i=t.details;if(n===this.currentLevelIndex){var r=this._levels[n];if(r.fragmentError||(r.loadError=0,this.levelRetryCount=0),i.live){var a=rt(r.details,i,t.stats.trequest);u.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},a)}else this.clearTimer()}},o.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var i=-1,r=0;r<n.audioGroupIds.length;r++)if(n.audioGroupIds[r]===e){i=r;break}i!==n.urlId&&(n.urlId=i,this.startLoad())}},o.loadLevel=function(){if(u.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,i=t.url[n];u.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(c.default.LEVEL_LOADING,{url:i,level:e,id:n})}}},o.removeLevel=function(t,e){var n=this.levels.filter(function(n,i){return i!==t||n.url.length>1&&void 0!==e&&(n.url=n.url.filter(function(t,n){return n!==e}),n.urlId=0,!0)}).map(function(t,e){var n=t.details;return n&&n.fragments&&n.fragments.forEach(function(t){t.level=e}),t});this._levels=n,this.hls.trigger(c.default.LEVELS_UPDATED,{levels:n})},r=i,(a=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&Ot(r.prototype,a),i}(f),Pt=n("./src/demux/id3.js");function Nt(t,e){var n;try{n=new Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function Mt(t){if(null==t?void 0:t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}var Ft=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.FRAG_PARSING_METADATA,c.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,n.media=void 0,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){f.prototype.destroy.call(this)},r.onMediaAttached=function(t){this.media=t.media,this.media},r.onMediaDetaching=function(){Mt(this.id3Track),this.id3Track=void 0,this.media=void 0},r.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return Nt(n,this.media),n}return this.media.addTextTrack("metadata","id3")},r.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=Pt.default.getID3Frames(n[r].data);if(a){var o=Math.max(n[r].pts,0),s=r<n.length-1?n[r+1].pts:e.endPTS;s||(s=e.start+e.duration),s-o<=0&&(s=o+.25);for(var l=0;l<a.length;l++){var c=a[l];if(!Pt.default.isTimeStampFrame(c)){var u=new i(o,s,"");u.value=c,this.id3Track.addCue(u)}}}}},r.onLiveBackBufferReached=function(t){var e=t.bufferEnd,n=this.id3Track;if(n&&n.cues&&n.cues.length){var i=function(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];for(var n=0,i=t.length-1;n<=i;){var r=Math.floor((i+n)/2);if(e<t[r].endTime)i=r-1;else{if(!(e>t[r].endTime))return t[r];n=r+1}}return t[n].endTime-e<e-t[i].endTime?t[n]:t[i]}(n.cues,e);if(i)for(;n.cues[0]!==i;)n.removeCue(n.cues[0])}},i}(f),jt=function(){function t(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var e=t.prototype;return e.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),Bt=function(){function t(t,e,n,i){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new jt(e),this.fast_=new jt(n)}var e=t.prototype;return e.sample=function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/n;this.fast_.sample(n,i),this.slow_.sample(n,i)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}();function Ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $t=window.performance,qt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.FRAG_LOADING,c.default.FRAG_LOADED,c.default.FRAG_BUFFERED,c.default.ERROR)||this).lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o=i.prototype;return o.destroy=function(){this.clearTimer(),f.prototype.destroy.call(this)},o.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,i,r=this.hls,a=r.config,o=e.level;r.levels[o].details.live?(n=a.abrEwmaFastLive,i=a.abrEwmaSlowLive):(n=a.abrEwmaFastVoD,i=a.abrEwmaSlowVoD),this._bwEstimator=new Bt(r,i,n,a.abrEwmaDefaultEstimate)}},o._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var i=n.loader;if(!i||i.stats&&i.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var r=i.stats;if(e&&r&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var a=$t.now()-r.trequest,o=Math.abs(e.playbackRate);if(a>500*n.duration/o){var s=t.levels,l=Math.max(1,r.bw?r.bw/8:1e3*r.loaded/a),d=s[n.level];if(!d)return;var f=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,p=r.total?r.total:Math.max(r.loaded,Math.round(n.duration*f/8)),h=e.currentTime,m=(p-r.loaded)/l,g=(H.bufferInfo(e,h,t.config.maxBufferHole).end-h)/o;if(g<2*n.duration/o&&m>g){var v,y=t.minAutoLevel;for(v=n.level-1;v>y;v--){var b=s[v].realBitrate?Math.max(s[v].realBitrate,s[v].bitrate):s[v].bitrate;if(n.duration*b/(6.4*l)<g)break}void 0<m&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+m.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=v,this._bwEstimator.sample(a,r.loaded),i.abort(),this.clearTimer(),t.trigger(c.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:r}))}}}}},o.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(l.isFiniteNumber)(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,r=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},o.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!0!==e.aborted&&"main"===n.type&&Object(l.isFiniteNumber)(n.sn)&&(!n.bitrateTest||e.tload===e.tbuffered)){var i=e.tparsed-e.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},o.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},o.clearTimer=function(){clearInterval(this.timer),this.timer=null},o._findBestLevel=function(t,e,n,i,r,a,o,s,l){for(var c=r;c>=i;c--){var d=l[c];if(d){var f,p=d.details,h=p?p.totalduration/p.fragments.length:e,m=!!p&&p.live;f=c<=t?o*n:s*n;var g=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,v=g*h/f;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(f)+"/"+g+"/"+h+"/"+a+"/"+v),f>g&&(!v||m&&!this.bitrateTestDelay||v<a))return c}}return-1},r=i,(a=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,a=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,c=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,f=(H.bufferInfo(a,l,i.maxBufferHole).end-l)/c,p=this._findBestLevel(o,s,d,r,e,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(0===f){var v=this.bitrateTestDelay;v&&(h=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-v,u.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),m=g=1)}return p=this._findBestLevel(o,s,d,r,e,f+h,m,g,n),Math.max(p,0)}}])&&Ut(r.prototype,a),i}(f),Ht=V(),zt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHING,c.default.MEDIA_DETACHING,c.default.MANIFEST_PARSED,c.default.BUFFER_RESET,c.default.BUFFER_APPENDING,c.default.BUFFER_CODECS,c.default.BUFFER_EOS,c.default.BUFFER_FLUSHING,c.default.LEVEL_PTS_UPDATED,c.default.LEVEL_UPDATED)||this)._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){u.logger.log("media source opened"),n.hls.trigger(c.default.MEDIA_ATTACHED,{media:n.media});var t=n.mediaSource;t&&t.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){u.logger.log("media source closed")},n._onMediaSourceEnded=function(){u.logger.log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var t=n.sourceBuffer.audio;u.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+n.audioTimestampOffset),t.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var e=n.parent,i=n.segments.reduce(function(t,n){return n.parent===e?t+1:t},0),r={},a=n.sourceBuffer;for(var o in a){var s=a[o];if(!s)throw Error("handling source buffer update end error: source buffer for "+o+" uninitilized and unable to update buffered TimeRanges.");r[o]=s.buffered}n.hls.trigger(c.default.BUFFER_APPENDED,{parent:e,pending:i,timeRanges:r}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),0===i&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(t){u.logger.error("sourceBuffer error:",t),n.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.config=e.config,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){f.prototype.destroy.call(this)},r.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(!i)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(i.timestampOffset-t.start)>.1){var r=i.updating;try{i.abort()}catch(t){u.logger.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(u.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},r.onManifestParsed=function(t){var e=2;(t.audio&&!t.video||!t.altAudio)&&(e=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e,u.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&Ht){var n=this.mediaSource=new Ht;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},r.onMediaDetaching=function(){u.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){u.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):u.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(c.default.MEDIA_DETACHED)},r.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},r.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.onBufferCodecs=function(t){var e=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach(function(n){e.pendingTracks[n]=t[n]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},r.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var i in t)if(!e[i]){var r=t[i];if(!r)throw Error("source buffer exists for track "+i+", however track does not");var a=r.levelCodec||r.codec,o=r.container+";codecs="+a;u.logger.log("creating sourceBuffer("+o+")");try{var l=e[i]=n.addSourceBuffer(o);l.addEventListener("updateend",this._onSBUpdateEnd),l.addEventListener("error",this._onSBUpdateError),this.tracks[i]={buffer:l,codec:a,id:r.id,container:r.container,levelCodec:r.levelCodec}}catch(t){u.logger.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(c.default.BUFFER_CREATED,{tracks:this.tracks})},r.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},r.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var n=this.sourceBuffer[e];n&&!n.ended&&(n.ended=!0,u.logger.log(e+" sourceBuffer now EOS"))}this.checkEos()},r.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(i){if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}}u.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){u.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},r.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,n=this.sourceBuffer,i=Object.keys(n),r=e-Math.max(t,this._levelTargetDuration),a=i.length-1;a>=0;a--){var o=i[a],s=n[o];if(s){var l=s.buffered;l.length>0&&r>l.start(0)&&this.removeBufferRange(o,s,0,r)&&this.hls.trigger(c.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r})}}else u.logger.error("flushLiveBackBuffer called without attaching media")}},r.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},r.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var i=this.sourceBuffer[n];if(i&&!0===i.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(u.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(l.isFiniteNumber)(t))&&(u.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n){var r=n[i];r&&(e+=r.buffered.length)}}catch(t){u.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(c.default.BUFFER_FLUSHED)}},r.doAppending=function(){var t=this.config,e=this.hls,n=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(!this.media||this.media.error)return this.segments=[],void u.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var r=n.shift();if(r)try{var a=i[r.type];if(!a)return void this._onSBUpdateEnd();if(a.updating)return void n.unshift(r);a.ended=!1,this.parent=r.parent,a.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0}catch(i){u.logger.error("error while trying to append buffer:"+i.message),n.unshift(r);var o={type:s.ErrorTypes.MEDIA_ERROR,parent:r.parent,details:"",fatal:!1};22===i.code?(this.segments=[],o.details=s.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,o.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(u.logger.log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0)),e.trigger(c.default.ERROR,o)}}}},r.flushBuffer=function(t,e,n){var i=this.sourceBuffer;if(!Object.keys(i).length)return!0;var r="null";if(this.media&&(r=this.media.currentTime.toFixed(3)),u.logger.log("flushBuffer,pos/start/end: "+r+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return u.logger.warn("abort flushing too many retries"),!0;var a=i[n];if(a){if(a.ended=!1,a.updating)return u.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,a,t,e))return this.flushBufferCounter++,!1}return u.logger.log("buffer flushed"),!0},r.removeBufferRange=function(t,e,n,i){try{for(var r=0;r<e.buffered.length;r++){var a=e.buffered.start(r),o=e.buffered.end(r),s=Math.max(a,n),l=Math.min(o,i);if(Math.min(l,o)-s>.5){var c="null";return this.media&&(c=this.media.currentTime.toString()),u.logger.log("sb remove "+t+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+c),e.remove(s,l),!0}}}catch(t){u.logger.warn("removeBufferRange failed",t)}return!1},i}(f);function Gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Kt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.FPS_DROP_LEVEL_CAPPING,c.default.MEDIA_ATTACHING,c.default.MANIFEST_PARSED,c.default.LEVELS_UPDATED,c.default.BUFFER_CODECS,c.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n.clientRect=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o,s=i.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(t){i.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},s.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},s.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onLevelsUpdated=function(t){this.levels=t.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},s.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return i.isLevelAllowed(r,e.restrictedLevels)&&r<=t});return this.clientRect=null,i.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e},i.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},i.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i,r,a=t.length-1,o=0;o<t.length;o+=1){var s=t[o];if((s.width>=e||s.height>=n)&&(i=s,!(r=t[o+1])||i.width!==r.width||i.height!==r.height)){a=o;break}}return a},r=i,o=[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}],(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*i.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*i.contentScaleFactor}}])&&Gt(r.prototype,a),o&&Gt(r,o),i}(f),Vt=window.performance,Wt=function(t){var e,n;function i(e){return t.call(this,e,c.default.MEDIA_ATTACHING)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},r.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},r.checkFPS=function(t,e,n){var i=Vt.now();if(e){if(this.lastTime){var r=i-this.lastTime,a=n-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/r,l=this.hls;if(l.trigger(c.default.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var d=l.currentLevel;u.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=d)&&(d-=1,l.trigger(c.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},r.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},i}(f),Yt=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var e=t.prototype;return e.destroy=function(){this.abort(),this.loader=null},e.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t,e=this.context;t=this.loader=new window.XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},e.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,i=this.stats,r=this.context,a=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(window.performance.now(),i.trequest)),4===n){var o=e.status;if(o>=200&&o<300){var s,l;i.tload=Math.max(i.tfirst,window.performance.now()),l="arraybuffer"===r.responseType?(s=e.response).byteLength:(s=e.responseText).length,i.loaded=i.total=l;var c={url:e.responseURL,data:s};this.callbacks.onSuccess(c,i,r,e)}else i.retry>=a.maxRetry||o>=400&&o<499?(u.logger.error(o+" while loading "+r.url),this.callbacks.onError({code:o,text:e.statusText},r,e)):(u.logger.warn(o+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.loadtimeout=function(){u.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}();function Xt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Qt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.AUDIO_TRACK_LOADED,c.default.AUDIO_TRACK_SWITCHED,c.default.LEVEL_LOADED,c.default.ERROR)||this)._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o=i.prototype;return o.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},o.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(c.default.AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},o.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)u.logger.warn("Invalid audio track id:",t.id);else{if(u.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},o.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},o.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},o.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(u.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},o._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)u.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)u.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];u.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,i=e.type,r=e.id;this.hls.trigger(c.default.AUDIO_TRACK_SWITCHING,{id:r,type:i,url:n}),this._loadTrackDetailsIfNeeded(e)}},o.doTick=function(){this._updateTrack(this._trackId)},o._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},o._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],i=null;if(n&&(i=n.name),this._selectDefaultTrack){var r=e.filter(function(t){return t.default});r.length?e=r:u.logger.warn("No default audio tracks defined")}var a=!1,o=function(){e.forEach(function(e){a||t.audioGroupId&&e.groupId!==t.audioGroupId||i&&i!==e.name||(t._setAudioTrack(e.id),a=!0)})};o(),a||(i=null,o()),a||(u.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},o._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live||!n)},o._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;u.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(c.default.AUDIO_TRACK_LOADING,{url:e,id:n})}},o._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,u.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},o._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,i=e.language,r=e.groupId;u.logger.warn("Loading failed on audio track id: "+t+", group-id: "+r+', name/language: "'+n+'" / "'+i+'"');for(var a=t,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]&&this.tracks[o].name===n){a=o;break}a!==t?(u.logger.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):u.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+i+'"')},r=i,(a=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}])&&Xt(r.prototype,a),i}(pt);function Jt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Zt=window.performance,te=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.AUDIO_TRACKS_UPDATED,c.default.AUDIO_TRACK_SWITCHING,c.default.AUDIO_TRACK_LOADED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.BUFFER_RESET,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED,c.default.INIT_PTS_FOUND)||this).fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state=ht,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i.waitingVideoCC=null,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o=i.prototype;return o.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[n]=i,this.videoTrackCC=n,u.logger.log("InitPTS for cc: "+n+" found from main: "+i),this.state===Et&&this.tick())},o.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(u.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=gt):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=mt),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=ht},o.doTick=function(){var t,e,n,i=this.hls,r=i.config;switch(this.state){case Ct:case"PAUSED":case Tt:break;case mt:this.state=_t,this.loadedmetadata=!1;break;case gt:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,d=t<r.maxBufferHole?Math.max(2,r.maxBufferHole):r.maxBufferHole,f=H.bufferInfo(o,t,d),p=H.bufferInfo(s,t,d),h=f.len,m=f.end,g=this.fragPrevious,v=Math.min(r.maxBufferLength,r.maxMaxBufferLength),y=Math.max(v,p.len),b=this.audioSwitch,_=this.trackId;if((h<y||b)&&_<a.length){if(void 0===(n=a[_].details)){this.state=_t;break}if(!b&&this._streamEnded(f,n))return this.hls.trigger(c.default.BUFFER_EOS,{type:"audio"}),void(this.state=kt);var w,x=n.fragments,T=x.length,k=x[0].start,C=x[T-1].start+x[T-1].duration;if(b)if(n.live&&!n.PTSKnown)u.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),m=0;else if(m=t,n.PTSKnown&&t<k){if(!(f.end>k||f.nextStart))return;u.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=k+.05}if(n.initSegment&&!n.initSegment.data)w=n.initSegment;else if(m<=k){if(w=x[0],null!==this.videoTrackCC&&w.cc!==this.videoTrackCC&&(w=function(t,e){return q.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(x,this.videoTrackCC)),n.live&&w.loadIdx&&w.loadIdx===this.fragLoadIdx){var E=f.nextStart?f.nextStart:k;return u.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var S,A=r.maxFragLookUpTolerance,R=g?x[g.sn-x[0].sn+1]:void 0;m<C?(m>C-A&&(A=0),S=R&&!ut(m,A,R)?R:q.search(x,function(t){return ut(m,A,t)})):S=x[T-1],S&&(w=S,k=S.start,g&&w.level===g.level&&w.sn===g.sn&&(w.sn<n.endSN?(w=x[w.sn+1-n.startSN],this.fragmentTracker.getState(w)!==U&&u.logger.log("SN just loaded, load next one: "+w.sn)):w=null))}w&&(w.encrypted?(u.logger.log("Loading key for "+w.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+_),this.state=vt,i.trigger(c.default.KEY_LOADING,{frag:w})):(this.fragCurrent=w,(b||this.fragmentTracker.getState(w)===F)&&(u.logger.log("Loading "+w.sn+", cc: "+w.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+_+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+t+", bufferEnd: "+m.toFixed(3)),"initSegment"!==w.sn&&(this.startFragRequested=!0),Object(l.isFiniteNumber)(w.sn)&&(this.nextLoadPosition=w.start+w.duration),i.trigger(c.default.FRAG_LOADING,{frag:w}),this.state=yt)))}break;case _t:(e=this.tracks[this.trackId])&&e.details&&(this.state=gt);break;case bt:var L=Zt.now(),D=this.retryDate,O=(o=this.media)&&o.seeking;(!D||L>=D||O)&&(u.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=gt);break;case Et:var I=this.waitingFragment;if(I){var P=I.frag.cc;if(void 0!==this.initPTS[P])this.waitingFragment=null,this.state=yt,this.onFragLoaded(I);else if(this.videoTrackCC!==this.waitingVideoCC)u.logger.log("Waiting fragment cc ("+P+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var N=H.bufferInfo(this.mediaBuffer,this.media.currentTime,r.maxBufferHole);ut(N.end,r.maxFragLookUpTolerance,I.frag)<0&&(u.logger.log("Waiting fragment cc ("+P+") @ "+I.frag.start+" cancelled because another fragment at "+N.end+" is needed"),this.clearWaitingFragment())}}else this.state=gt}},o.clearWaitingFragment=function(){var t=this.waitingFragment;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=gt)},o.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},o.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},o.onAudioTracksUpdated=function(t){u.logger.log("audio tracks updated"),this.tracks=t.audioTracks},o.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state="PAUSED",e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=gt),this.tick()},o.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],r=i.details,a=e.totalduration,o=0;if(u.logger.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live||r&&r.live?r&&e.fragments.length>0?(nt(r,e),o=e.fragments[0].start,e.PTSKnown?u.logger.log("live audio playlist sliding:"+o.toFixed(3)):u.logger.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,u.logger.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,i.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;Object(l.isFiniteNumber)(s)?(u.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):e.live?(this.startPosition=this.computeLivePosition(o,e),u.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===_t&&(this.state=gt),this.tick()},o.onKeyLoaded=function(){this.state===vt&&(this.state=gt,this.tick())},o.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===yt&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],r=i.details,a=r.totalduration,o=e.level,s=e.sn,l=e.cc,d=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",f=this.stats=t.stats;if("initSegment"===s)this.state=gt,f.tparsed=f.tbuffered=Zt.now(),r.initSegment.data=t.payload,this.hls.trigger(c.default.FRAG_BUFFERED,{stats:f,frag:e,id:"audio"}),this.tick();else{this.state=wt,this.appended=!1,this.demuxer||(this.demuxer=new J(this.hls,"audio"));var p=this.initPTS[l],h=r.initSegment?r.initSegment.data:[];void 0!==p?(this.pendingBuffering=!0,u.logger.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.demuxer.push(t.payload,h,d,null,e,a,!1,p)):(u.logger.log("Unknown video PTS for cc "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=t,this.waitingVideoCC=this.videoTrackCC,this.state=Et)}}this.fragLoadError=0},o.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===wt){var i,r=t.tracks;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(c.default.BUFFER_CODECS,r),u.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c.default.BUFFER_APPENDING,o))}this.tick()}}},o.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===wt){var r=this.trackId,a=this.tracks[r],o=this.hls;Object(l.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(m.AUDIO),u.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),et(a.details,n,t.startPTS,t.endPTS);var d=this.media,f=!1;if(this.audioSwitch)if(d&&d.readyState){var p=d.currentTime;u.logger.log("switching audio track : currentTime:"+p),p>=t.startPTS&&(u.logger.log("switching audio track : flushing all audio"),this.state=Tt,o.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),f=!0,this.audioSwitch=!1,o.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,o.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:r});var h=this.pendingData;if(!h)return u.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&h.push({type:t.type,data:e,parent:"audio",content:"data"})}),!f&&h.length&&(h.forEach(function(t){e.state===wt&&(e.pendingBuffering=!0,e.hls.trigger(c.default.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},o.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===wt&&(this.stats.tparsed=Zt.now(),this.state=xt,this._checkAppendedParsed())},o.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},o.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},o.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==wt&&e!==xt||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},o._checkAppendedParsed=function(){if(!(this.state!==xt||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=Zt.now(),n.trigger(c.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;i&&u.logger.log("audio buffered : "+at(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(c.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=gt}this.tick()}},o.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var r=this.config;if(i<=r.fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);u.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=Zt.now()+a,this.state=bt}else u.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ct}break;case s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==Ct&&(this.state=t.fatal?Ct:gt,u.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===wt||this.state===xt)){var o=this.mediaBuffer,l=this.media.currentTime;if(o&&H.isBuffered(o,l)&&H.isBuffered(o,l+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,u.logger.warn("AudioStreamController: reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=gt}else u.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Tt,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},o.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(u.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(c.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=xt):(this.state=gt,this.fragPrevious=null,this.tick())},r=i,(a=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u.logger.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}])&&Jt(r.prototype,a),i}(At),ee=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}function i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function r(e,r,a){var o=this,s={enumerable:!0};o.hasBeenReset=!1;var l="",c=!1,u=e,d=r,f=a,p=null,h="",m=!0,g="auto",v="start",y=50,b="middle",_=50,w="middle";Object.defineProperty(o,"id",i({},s,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(o,"pauseOnExit",i({},s,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(o,"startTime",i({},s,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},s,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},s,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},s,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},s,{get:function(){return h},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},s,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},s,{get:function(){return g},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},s,{get:function(){return v},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},s,{get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},s,{get:function(){return b},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},s,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},s,{get:function(){return w},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),o.displayState=void 0}return r.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},r}(),ne=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function ie(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new ne,this.regionList=[]}function re(){this.values=Object.create(null)}function ae(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(n);2===o.length&&e(o[0],o[1])}}re.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var oe=new ee(0,0,0),se="middle"===oe.align?"middle":"center";function le(t,e,n){var i=t;function r(){var e=function(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),function(t,e){var i=new re;ae(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start",se,"end"]);break;case"position":a=e.split(","),i.percent(t,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start",se,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",se,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var r=i.get("line","auto");"auto"===r&&-1===oe.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",se);var a=i.get("position","auto");"auto"===a&&50===oe.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function ce(t){return t.replace(/<br(?: \/)?>/gi,"\n")}ie.prototype={parse:function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=ce(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var r=(i=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:i=n(),e.state){case"HEADER":/:/.test(i)?ae(i,function(t,e){},/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new ee(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{le(i,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var o=-1!==i.indexOf("--\x3e");if(!i||o&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var ue=ie;function de(t,e,n,i){for(var r,a,o,s,l,c=[],u=window.VTTCue||TextTrackCue,d=0;d<i.rows.length;d++)if(o=!0,s=0,l="",!(r=i.rows[d]).isEmpty()){for(var f=0;f<r.chars.length;f++)r.chars[f].uchar.match(/\s/)&&o?s++:(l+=r.chars[f].uchar,o=!1);r.cueStartTime=e,e===n&&(n+=1e-4),a=new u(e,n,ce(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100)),c.push(a),t&&t.addCue(a)}return c}var fe,pe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},he=function(t){var e=t;return pe.hasOwnProperty(t)&&(e=pe[t]),String.fromCharCode(e)},me={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ge={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ve={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},ye={25:2,26:4,29:6,30:8,31:10,27:13,28:15},be=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(fe||(fe={}));var _e=function(){function t(){this.time=null,this.verboseLevel=fe.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&u.logger.log(this.time+" ["+t+"] "+e)},t}(),we=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},xe=function(){function t(t,e,n,i,r){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Te=function(){function t(t,e,n,i,r,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new xe(e,n,i,r,a)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),ke=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<100;e++)this.chars.push(new Te);this.logger=t,this.pos=0,this.currPenState=new xe}var e=t.prototype;return e.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(fe.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(fe.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=he(t);this.pos>=100?this.logger.log(fe.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),Ce=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<15;e++)this.rows.push(new ke(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(fe.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(fe.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[i].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[i+s])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var c=t.indent,u=Math.max(c-1,0);l.setCursor(t.indent),t.color=l.chars[u].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(fe.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(fe.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(fe.INFO,"Rolling up")}else this.logger.log(fe.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=-1,r=0;r<15;r++){var a=this.rows[r].getTextString();a&&(i=r+1,t?e.push("Row "+i+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},e.getTextAndFormat=function(){return this.rows},t}(),Ee=function(){function t(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ce(n),this.nonDisplayedMemory=new Ce(n),this.lastOutputScreen=new Ce(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(fe.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(fe.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(fe.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(fe.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(fe.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(fe.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(fe.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(fe.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(fe.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(fe.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(fe.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(fe.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(fe.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(fe.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(fe.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(fe.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(fe.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(fe.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}();function Se(t,e,n){n.a=t,n.b=e}function Ae(t,e,n){return n.a===t&&n.b===e}var Re=function(){function t(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new _e;this.channels=[null,new Ee(t,e,i),new Ee(t+1,n,i)],this.cmdHistory={a:null,b:null},this.logger=i}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var n,i,r,a=!1;this.logger.time=t;for(var o=0;o<e.length;o+=2)if(i=127&e[o],r=127&e[o+1],0!==i||0!==r){if(this.logger.log(fe.DATA,"["+we([e[o],e[o+1]])+"] -> ("+we([i,r])+")"),(n=this.parseCmd(i,r))||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n&&(a=this.parseChars(i,r))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(a):this.logger.log(fe.WARNING,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(fe.WARNING,"Couldn't parse cleaned data "+we([i,r])+" orig: "+we([e[o],e[o+1]]))}},e.parseCmd=function(t,e){var n=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(Ae(t,e,n))return Se(null,null,n),this.logger.log(fe.DEBUG,"Repeated command ("+we([t,e])+") is dropped"),!0;var i=20===t||21===t||23===t?1:2,r=this.channels[i];return 20===t||21===t||28===t||29===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),Se(t,e,n),this.currentChannel=i,!0},e.parseMidrow=function(t,e){var n=0;if((17===t||25===t)&&e>=32&&e<=47){if((n=17===t?1:2)!==this.currentChannel)return this.logger.log(fe.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(e),this.logger.log(fe.DEBUG,"MIDROW ("+we([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var n,i=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(Ae(t,e,i))return Se(null,null,i),!0;var r=t<=23?1:2;n=e>=64&&e<=95?1===r?me[t]:ve[t]:1===r?ge[t]:ye[t];var a=this.channels[r];return!!a&&(a.setPAC(this.interpretPAC(n,e)),Se(t,e,i),this.currentChannel=r,!0)},e.interpretPAC=function(t,e){var n,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},e.parseChars=function(t,e){var n,i=null,r=null;if(t>=25?(n=2,r=t-8):(n=1,r=t),r>=17&&r<=19){var a;a=17===r?e+80:18===r?e+112:e+144,this.logger.log(fe.INFO,"Special char '"+he(a)+"' in channel "+n),i=[a]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var o=we(i);this.logger.log(fe.DEBUG,"Char codes =  "+o.join(",")),Se(t,e,this.cmdHistory)}return i},e.parseBackgroundAttributes=function(t,e){var n;if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;var i={};16===t||24===t?(n=Math.floor((e-32)/2),i.background=be[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0));var r=t<=23?1:2;return this.channels[r].setBkgData(i),Se(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}},t}(),Le=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[]},t}(),De=function(t,e,n){return t.substr(n||0,e.length)===e},Oe=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},Ie=function(t,e,n,i,r,a){var o,s=Object(Pt.utf8ArrayToStr)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),c="00:00.000",u=0,d=0,f=0,p=[],h=!0,m=!1,g=new ue;g.oncue=function(t){var e=n[i],r=n.ccOffset;e&&e.new&&(void 0!==d?r=n.ccOffset=e.start:function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;r&&r.new;)t.ccOffset+=i.start-r.start,i.new=!1,r=t[(i=r).prevCC];t.presentationOffset=n}(n,i,f)),f&&(r=f-n.presentationOffset),m&&(t.startTime+=r-d,t.endTime+=r-d),t.id=Oe(t.startTime.toString())+Oe(t.endTime.toString())+Oe(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&p.push(t)},g.onparsingerror=function(t){o=t},g.onflush=function(){o&&a?a(o):r(p)},s.forEach(function(t){if(h){if(De(t,"X-TIMESTAMP-MAP=")){h=!1,m=!0,t.substr(16).split(",").forEach(function(t){De(t,"LOCAL:")?c=t.substr(6):De(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{e+(9e4*n[i].start||0)<0&&(e+=8589934592),u-=e,d=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!(Object(l.isFiniteNumber)(e)&&Object(l.isFiniteNumber)(n)&&Object(l.isFiniteNumber)(i)&&Object(l.isFiniteNumber)(r)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,(e+=6e4*i)+36e5*r}(c)/1e3,f=u/9e4}catch(t){m=!1,o=t}return}""===t&&(h=!1)}g.parse(t+"\n")}),g.flush()};function Pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ne(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var Me=function(t){var e,n;function i(e){var n;if((n=t.call(this,e,c.default.MEDIA_ATTACHING,c.default.MEDIA_DETACHING,c.default.FRAG_PARSING_USERDATA,c.default.FRAG_DECRYPTED,c.default.MANIFEST_LOADING,c.default.MANIFEST_LOADED,c.default.FRAG_LOADED,c.default.INIT_PTS_FOUND)||this).media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.captionsTracks={},n.nonNativeCaptionsTracks={},n.captionsProperties=void 0,n.cea608Parser1=void 0,n.cea608Parser2=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},n.hls=e,n.config=e.config,n.Cues=e.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode},textTrack3:{label:n.config.captionsTextTrack3Label,languageCode:n.config.captionsTextTrack3LanguageCode},textTrack4:{label:n.config.captionsTextTrack4Label,languageCode:n.config.captionsTextTrack4LanguageCode}},n.config.enableCEA708Captions){var i=new Le(Pe(n),"textTrack1"),r=new Le(Pe(n),"textTrack2"),a=new Le(Pe(n),"textTrack3"),o=new Le(Pe(n),"textTrack4");n.cea608Parser1=new Re(1,i,r),n.cea608Parser2=new Re(3,a,o)}return n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.addCues=function(t,e,n,i,r){for(var a,o,s,l,u=!1,d=r.length;d--;){var f=r[d],p=(a=f[0],o=f[1],s=e,l=n,Math.min(o,l)-Math.max(a,s));if(p>=0&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],n),u=!0,p/(n-e)>.5))return}if(u||r.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[t],e,n,i);else{var h=this.Cues.newCue(null,e,n,i);this.hls.trigger(c.default.CUES_PARSED,{type:"captions",cues:h,track:t})}},r.onInitPtsFound=function(t){var e=this,n=t.frag,i=t.id,r=t.initPTS,a=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]=r),a.length&&(this.unparsedVttFrags=[],a.forEach(function(t){e.onFragLoaded(t)}))},r.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(i[t])return i}return null},r.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},r.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,n=this.captionsTracks,i=this.media,r=e[t],a=r.label,o=r.languageCode,s=this.getExistingTrack(t);if(s)n[t]=s,Mt(n[t]),Nt(n[t],i);else{var l=this.createTextTrack("captions",a,o);l&&(l[t]=!0,n[t]=l)}}},r.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(c.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},r.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},r.destroy=function(){t.prototype.destroy.call(this)},r.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},r.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){Mt(t[e]),delete t[e]}),this.nonNativeCaptionsTracks={}},r.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},r._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)Mt(e[n])}},r.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var n=t.subtitles||[],i=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=t.subtitles||[],this.config.renderTextTracksNatively){var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var i;if(n<r.length){for(var a=null,o=0;o<r.length;o++)if(Ne(r[o],t)){a=r[o];break}a&&(i=a)}i||(i=e.createTextTrack("subtitles",t.name,t.lang)),t.default?i.mode=e.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",e.textTracks.push(i)})}else if(!i&&this.tracks&&this.tracks.length){var a=this.tracks.map(function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}});this.hls.trigger(c.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(t){var n=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(n){var i="textTrack"+n[1],r=e.captionsProperties[i];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}})},r.onFragLoaded=function(t){var e=t.frag,n=t.payload,i=this.cea608Parser1,r=this.cea608Parser2,a=this.initPTS,o=this.lastSn,s=this.unparsedVttFrags;if("main"===e.type){var u=e.sn;e.sn!==o+1&&i&&r&&(i.reset(),r.reset()),this.lastSn=u}else if("subtitle"===e.type)if(n.byteLength){if(!Object(l.isFiniteNumber)(a[e.cc]))return s.push(t),void(a.length&&this.hls.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var d=e.decryptdata;null!=d&&null!=d.key&&"AES-128"===d.method||this._parseVTTs(e,n)}else this.hls.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},r._parseVTTs=function(t,e){var n=this,i=this.hls,r=this.prevCC,a=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:r,new:!0},this.prevCC=t.cc),Ie(e,this.initPTS[t.cc],o,t.cc,function(e){if(n.config.renderTextTracksNatively){var r=a[t.level];if("disabled"===r.mode)return void i.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t});e.forEach(function(t){if(!r.cues.getCueById(t.id))try{if(r.addCue(t),!r.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){u.logger.debug("Failed occurred on adding cues: "+n);var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}})}else{var o=n.tracks[t.level].default?"default":"subtitles"+t.level;i.trigger(c.default.CUES_PARSED,{type:"subtitles",cues:e,track:o})}i.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){u.logger.log("Failed to parse VTT cue: "+e),i.trigger(c.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},r.onFragDecrypted=function(t){var e=t.frag,n=t.payload;if("subtitle"===e.type){if(!Object(l.isFiniteNumber)(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,n)}},r.onFragParsingUserdata=function(t){var e=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&e&&n)for(var i=0;i<t.samples.length;i++){var r=t.samples[i].bytes;if(r){var a=this.extractCea608Data(r);e.addData(t.samples[i].pts,a[0]),n.addData(t.samples[i].pts,a[1])}}},r.extractCea608Data=function(t){for(var e=31&t[0],n=2,i=[[],[]],r=0;r<e;r++){var a=t[n++],o=127&t[n++],s=127&t[n++],l=3&a;0===o&&0===s||0!=(4&a)&&(0!==l&&1!==l||(i[l].push(o),i[l].push(s)))}return i},i}(f);function Fe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function je(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];"subtitles"===i.kind&&i.label&&e.push(t[n])}return e}var Be,Ue=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADED,c.default.SUBTITLE_TRACK_LOADED)||this).tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o=i.prototype;return o.destroy=function(){f.prototype.destroy.call(this)},o.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(l.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},o.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(l.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),je(this.media.textTracks).forEach(function(t){Mt(t)}),this.subtitleTrack=-1,this.media=null)},o.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(c.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},o.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,i=t.details,r=this.trackId,a=this.tracks,o=a[r];if(n>=a.length||n!==r||!o||this.stopped)this._clearReloadTimer();else if(u.logger.log("subtitle track "+n+" loaded"),i.live){var s=rt(o.details,i,t.stats.trequest);u.logger.log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout(function(){e._loadCurrentTrack()},s)}else this._clearReloadTimer()},o.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},o.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},o._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},o._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,n=this.hls,i=e[t];t<0||!i||i.details&&!i.details.live||(u.logger.log("Loading subtitle track "+t),n.trigger(c.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))},o._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,i=this.trackId;if(e){var r=je(e.textTracks);if(-1===t)[].slice.call(r).forEach(function(t){t.mode="disabled"});else{var a=r[i];a&&(a.mode="disabled")}var o=r[t];o&&(o.mode=n?"showing":"hidden")}},o._setSubtitleTrackInternal=function(t){var e=this.hls,n=this.tracks;!Object(l.isFiniteNumber)(t)||t<-1||t>=n.length||(this.trackId=t,u.logger.log("Switching to subtitle track "+t),e.trigger(c.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},o._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=je(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},r=i,(a=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}])&&Fe(r.prototype,a),i}(f),$e=n("./src/crypt/decrypter.js"),qe=window.performance,He=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.ERROR,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.SUBTITLE_TRACKS_UPDATED,c.default.SUBTITLE_TRACK_SWITCH,c.default.SUBTITLE_TRACK_LOADED,c.default.SUBTITLE_FRAG_PROCESSED,c.default.LEVEL_UPDATED)||this).fragmentTracker=n,i.config=e.config,i.state=ht,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new $e.default(e,e.config),i.lastAVStart=0,i._onMediaSeeking=i.onMediaSeeking.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.startLoad=function(){this.stopLoad(),this.state=gt;var t=this.tracks[this.currentTrackId];t&&t.details&&(this.setInterval(500),this.tick())},r.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=gt,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var r,a=e.start,o=0;o<i.length;o++)if(a>=i[o].start&&a<=i[o].end){r=i[o];break}var s=e.start+e.duration;r?r.end=s:(r={start:a,end:s},i.push(r))}}},r.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=gt},r.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]}),this.media=null,this.state=ht)},r.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=gt)},r.onSubtitleTracksUpdated=function(t){var e=this;u.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]})},r.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,i=this.currentTrackId,r=this.tracks,a=r[i];e>=r.length||e!==i||!a||(n.live&&function(t,e,n){void 0===n&&(n=0);var i=-1;it(t,e,function(t,e,n){e.start=t.start,i=n});var r=e.fragments;if(i<0)r.forEach(function(t){t.start+=n});else for(var a=i+1;a<r.length;a++)r[a].start=r[a-1].start+r[a-1].duration}(a.details,n,this.lastAVStart),a.details=n,this.setInterval(500))},r.onKeyLoaded=function(){this.state===vt&&(this.state=gt)},r.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,i=t.frag,r=this.hls;if(this.state===yt&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=qe.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,function(t){var e=qe.now();r.trigger(c.default.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:a,tdecrypt:e}})})}},r.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},r.doTick=function(){if(this.media)switch(this.state){case gt:var t=this.config,e=this.currentTrackId,n=this.fragmentTracker,i=this.media,r=this.tracks;if(!r||!r[e]||!r[e].details)break;var a,o=t.maxBufferHole,s=t.maxFragLookUpTolerance,l=Math.min(t.maxBufferLength,t.maxMaxBufferLength),d=H.bufferedInfo(this._getBuffered(),i.currentTime,o),f=d.end,p=d.len,h=r[e].details,m=h.fragments,g=m.length,v=m[g-1].start+m[g-1].duration;if(p>l)return;var y=this.fragPrevious;f<v?(y&&h.hasProgramDateTime&&(a=lt(m,y.endProgramDateTime,s)),a||(a=ct(y,m,f,s))):a=m[g-1],a&&a.encrypted?(u.logger.log("Loading key for "+a.sn),this.state=vt,this.hls.trigger(c.default.KEY_LOADING,{frag:a})):a&&n.getState(a)===F&&(this.fragCurrent=a,this.state=yt,this.hls.trigger(c.default.FRAG_LOADING,{frag:a}))}else this.state=gt},r.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,t.prototype.stopLoad.call(this)},r._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},r.onMediaSeeking=function(){if(this.fragCurrent){var t=this.media?this.media.currentTime:0,e=this.config.maxFragLookUpTolerance,n=this.fragCurrent.start-e,i=this.fragCurrent.start+this.fragCurrent.duration+e;(t<n||t>i)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=gt,this.tick())}},i}(At);!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(Be||(Be={}));var ze="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;function Ge(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ke=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHED,c.default.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(t){if(u.logger.log('Media is encrypted using "'+t.initDataType+'" init data type'),!n.mediaKeysPromise)return u.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void n.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var e=function(e){n._media&&(n._attemptSetMediaKeys(e),n._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};n.mediaKeysPromise.then(e).catch(e)},n._config=e.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=e.config.drmSystemOptions,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a,o=i.prototype;return o.getLicenseServerUrl=function(t){switch(t){case Be.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},o._attemptKeySystemAccess=function(t,e,n){var i=this,r=function(t,e,n,i){switch(t){case Be.WIDEVINE:return function(t,e,n){var i={audioCapabilities:[],videoCapabilities:[]};return t.forEach(function(t){i.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:n.audioRobustness||""})}),e.forEach(function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:n.videoRobustness||""})}),[i]}(e,n,i);default:throw new Error("Unknown key-system: "+t)}}(t,e,n,this._drmSystemOptions);u.logger.log("Requesting encrypted media key-system access");var a=this.requestMediaKeySystemAccess(t,r);this.mediaKeysPromise=a.then(function(e){return i._onMediaKeySystemAccessObtained(t,e)}),a.catch(function(e){u.logger.error('Failed to obtain key-system "'+t+'" access:',e)})},o._onMediaKeySystemAccessObtained=function(t,e){var n=this;u.logger.log('Access for key-system "'+t+'" obtained');var i={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(i);var r=Promise.resolve().then(function(){return e.createMediaKeys()}).then(function(e){return i.mediaKeys=e,u.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated(),e});return r.catch(function(t){u.logger.error("Failed to create media-keys:",t)}),r},o._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},o._onNewMediaKeySession=function(t){var e=this;u.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",function(n){e._onKeySessionMessage(t,n.message)},!1)},o._onKeySessionMessage=function(t,e){u.logger.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){u.logger.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)})},o._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return u.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});u.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},o._generateRequestWithPreferredKeySession=function(t,e){var n=this,i=this._mediaKeysList[0];if(!i)return u.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(i.mediaKeysSessionInitialized)u.logger.warn("Key-Session already initialized but requested again");else{var r=i.mediaKeysSession;if(!r)return u.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return u.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});u.logger.log('Generating key-session request for "'+t+'" init data type'),i.mediaKeysSessionInitialized=!0,r.generateRequest(t,e).then(function(){u.logger.debug("Key-session generation succeeded")}).catch(function(t){u.logger.error("Error generating key-session request:",t),n.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},o._createLicenseXhr=function(t,e,n){var i=new XMLHttpRequest,r=this._licenseXhrSetup;try{if(r)try{r(i,t)}catch(e){i.open("POST",t,!0),r(i,t)}i.readyState||i.open("POST",t,!0)}catch(t){throw new Error("issue setting up KeySystem license XHR "+t)}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,t,e,n),i},o._onLicenseRequestReadyStageChange=function(t,e,n,i){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,u.logger.log("License request succeeded"),"arraybuffer"!==t.responseType&&u.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),i(t.response);else{if(u.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var r=3-this._requestLicenseFailureCount+1;u.logger.warn("Retrying license request, "+r+" attempts left"),this._requestLicense(n,i)}}},o._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case Be.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},o._requestLicense=function(t,e){u.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return u.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var i=this.getLicenseServerUrl(n.mediaKeySystemDomain),r=this._createLicenseXhr(i,t,e);u.logger.log("Sending license request to URL: "+i);var a=this._generateLicenseRequestChallenge(n,t);r.send(a)}catch(t){u.logger.error("Failure requesting DRM license: "+t),this.hls.trigger(c.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},o.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;this._media=e,e.addEventListener("encrypted",this._onMediaEncrypted)}},o.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map(function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch(function(){})})).then(function(){return t.setMediaKeys(null)}).catch(function(){}))},o.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),n=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(Be.WIDEVINE,e,n)}},r=i,(a=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&Ge(r.prototype,a),i}(f);function Ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach(function(e){Ye(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xe=We(We({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Yt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:qt,bufferController:zt,capLevelController:Kt,fpsController:Wt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:ze,testBandwidth:!0},{cueHandler:i,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:He,subtitleTrackController:Ue,timelineController:Me,audioStreamController:te,audioTrackController:Qt,emeController:Ke});function Qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(n),!0).forEach(function(e){Ze(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function en(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nn(t,e,n){return e&&en(t.prototype,e),n&&en(t,n),t}var rn=function(t){var e,n;function i(e){var n;void 0===e&&(e={}),(n=t.call(this)||this).config=void 0,n._autoLevelCapping=void 0,n.abrController=void 0,n.capLevelController=void 0,n.levelController=void 0,n.streamController=void 0,n.networkControllers=void 0,n.audioTrackController=void 0,n.subtitleTrackController=void 0,n.emeController=void 0,n.coreComponents=void 0,n.media=null,n.url=null;var r=i.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");n.config=Je(Je({},r),e);var a=tn(n).config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(u.enableLogs)(a.debug),n._autoLevelCapping=-1;var o=n.abrController=new a.abrController(tn(n)),s=new a.bufferController(tn(n)),l=n.capLevelController=new a.capLevelController(tn(n)),c=new a.fpsController(tn(n)),d=new P(tn(n)),f=new N(tn(n)),p=new M(tn(n)),h=new Ft(tn(n)),m=n.levelController=new It(tn(n)),g=new $(tn(n)),v=[m,n.streamController=new Dt(tn(n),g)],y=a.audioStreamController;y&&v.push(new y(tn(n),g)),n.networkControllers=v;var b=[d,f,p,o,s,l,c,h,g];if(y=a.audioTrackController){var _=new y(tn(n));n.audioTrackController=_,b.push(_)}if(y=a.subtitleTrackController){var w=new y(tn(n));n.subtitleTrackController=w,v.push(w)}if(y=a.emeController){var x=new y(tn(n));n.emeController=x,b.push(x)}return(y=a.subtitleStreamController)&&v.push(new y(tn(n),g)),(y=a.timelineController)&&b.push(new y(tn(n))),n.coreComponents=b,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.isSupported=function(){return function(){var t=V();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!i}()},nn(i,null,[{key:"version",get:function(){return"0.14.16"}},{key:"Events",get:function(){return c.default}},{key:"ErrorTypes",get:function(){return s.ErrorTypes}},{key:"ErrorDetails",get:function(){return s.ErrorDetails}},{key:"DefaultConfig",get:function(){return i.defaultConfig?i.defaultConfig:Xe},set:function(t){i.defaultConfig=t}}]);var r=i.prototype;return r.destroy=function(){u.logger.log("destroy"),this.trigger(c.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},r.attachMedia=function(t){u.logger.log("attachMedia"),this.media=t,this.trigger(c.default.MEDIA_ATTACHING,{media:t})},r.detachMedia=function(){u.logger.log("detachMedia"),this.trigger(c.default.MEDIA_DETACHING),this.media=null},r.loadSource=function(t){t=o.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),u.logger.log("loadSource:"+t),this.url=t,this.trigger(c.default.MANIFEST_LOADING,{url:t})},r.startLoad=function(t){void 0===t&&(t=-1),u.logger.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},r.stopLoad=function(){u.logger.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},r.swapAudioCodec=function(){u.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},r.recoverMediaError=function(){u.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},r.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},nn(i,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){u.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){u.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){u.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){u.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){u.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){u.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),i}(Y);rn.defaultConfig=void 0},"./src/polyfills/number.js":function(t,e,n){"use strict";n.r(e),n.d(e,"isFiniteNumber",function(){return i}),n.d(e,"MAX_SAFE_INTEGER",function(){return r});var i=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},r=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(t,e,n){"use strict";function i(){return"undefined"==typeof window?self:window}n.r(e),n.d(e,"getSelfScope",function(){return i})},"./src/utils/logger.js":function(t,e,n){"use strict";n.r(e),n.d(e,"enableLogs",function(){return l}),n.d(e,"logger",function(){return c});var i=n("./src/utils/get-self-scope.js");function r(){}var a={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=a;var s=Object(i.getSelfScope)();var l=function(t){if(s.console&&!0===t||"object"==typeof t){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){o[e]=t[e]?t[e].bind(t):function(t){var e=s.console[t];return e?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=function(t,e){return"["+t+"] > "+e}(t,i[0])),e.apply(s.console,i)}:r}(e)})}(t,"debug","log","info","warn","error");try{o.log()}catch(t){o=a}}else o=a},c=o}}).default},t.exports=i())},uqMP:function(t,e,n){"use strict";var i=n("L4wK");n.n(i).a},vAQA:function(t,e,n){var i=n("57ro");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},vDqi:function(t,e,n){t.exports=n("zuR4")},vFFC:function(t,e,n){"use strict";var i=n("Hye6");n.n(i).a},vJes:function(t,e,n){"use strict";var i=n("J5dD");n.n(i).a},vqHq:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".image-list-modal .modal-header[data-v-38cdd6a0]{max-height:300px;overflow:auto}.image-list-modal .modal-header .search_input[data-v-38cdd6a0]{margin-top:15px}.image-list-modal .modal-header .search_input .search_box[data-v-38cdd6a0]{position:relative}.image-list-modal .modal-header .search_input .search_box .icon-sousuo[data-v-38cdd6a0]{position:absolute;top:4px;right:10px;font-size:21px}.image-list-modal .modal-header .rotation[data-v-38cdd6a0]{float:right;position:absolute;top:25px;right:70px;color:#969696;font-size:14px}.image-list-modal .modal-header .rotation i[data-v-38cdd6a0]{font-size:14px;display:inline-block;vertical-align:middle;margin:-2px 5px 0 0}.image-list-modal .modal-header .rotation i.icon-shuaxin[data-v-38cdd6a0]{transform:rotate(1turn);transition:all .5s ease-out}.image-list-modal .modal-body[data-v-38cdd6a0]{max-height:460px;overflow:auto}",""])},w0Vi:function(t,e,n){"use strict";var i=n("xTJ+"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},w3GV:function(t,e,n){"use strict";n.r(e);var i={name:"SideTool",props:["id","isSelf","isLogin"],mounted:function(){this.isArticle="article"==location.pathname.slice(1,8),this.listen(),this.fetchData();var t=this;$(window).on("scroll",function(){t.listen()})},methods:{goTop:function(){$("body,html").animate({scrollTop:0},1e3)},listen:function(){$(window).scrollTop()>1e3?$("#goTop").fadeIn(300):$("#goTop").fadeOut(300)},api:function(){return window.tokenize("/api/favorite/"+this.id+"/articles")},toggle:function(){if(window.tokenize){var t=this;window.axios.post(this.api()).then(function(e){t.favorited=e.data})}},fetchData:function(){if(window.tokenize){var t=this;window.axios.get(this.api()).then(function(e){t.favorited=e.data})}}},data:function(){return{favorited:!1,isArticle:!1}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.id||t.isArticle?n("ul",[n("li",{attrs:{id:"goTop","data-placement":"left","data-toggle":"tooltip","data-container":"body","data-title":"回到頂部"}},[n("a",{staticClass:"function_button",on:{click:t.goTop}},[n("i",{staticClass:"iconfont icon-xiangshangjiantou"})])]),t._v(" "),t.id?[t.isLogin&&t.isSelf?n("li",{attrs:{"data-placement":"left","data-toggle":"tooltip","data-container":"body","data-title":"文章投稿"}},[t._m(0)]):t._e(),t._v(" "),t.isLogin&&!t.isSelf?n("li",{attrs:{"data-placement":"left","data-toggle":"tooltip","data-container":"body","data-title":"將文章加入專題"}},[t._m(1)]):t._e(),t._v(" "),t.isLogin?n("li",{attrs:{"data-placement":"left","data-toggle":"tooltip","data-container":"body","data-title":t.favorited?"取消收藏文章":"收藏该文章"},on:{click:t.toggle}},[n("a",{staticClass:"function_button"},[n("i",{class:["iconfont",t.favorited?"icon-shoucang1":"icon-shoucang"]})])]):t._e(),t._v(" "),n("li",[t._t("default")],2)]:t._e()],2):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"js-submit-button",attrs:{"data-target":".modal-category-contribute","data-toggle":"modal"}},[e("i",{staticClass:"iconfont icon-tougaoguanli"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"submit-button",attrs:{"data-target":".modal-add-category","data-toggle":"modal"}},[e("i",{staticClass:"iconfont icon-jia1"})])}],!1,null,"01f56932",null);e.default=a.exports},wyAJ:function(t,e,n){var i,r,a;a=this,i=[n("HSyT"),n("NRn6")],void 0===(r=function(t,e){return a.hotkeys=function(t,e){var n,i={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.count=0,n.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n.aliases={escape:"esc",delete:"del",return:"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"},n.normalize=function(t){var e,n,i,r,a,o;for(e=n=0,o=(a=t.toLowerCase().replace(/\s+/gi,"").split("+")).length;n<o;e=++n)i=a[e],a[e]=this.aliases[i]||i;return r=a.pop(),a.sort().push(r),a.join("_")},n.prototype.opts={el:document},n.prototype._init=function(){return this.id=++this.constructor.count,this._map={},this._delegate="string"==typeof this.opts.el?document:this.opts.el,t(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,(e=this,function(t){var n;return null!=(n=e._getHander(t))?n.call(e,t):void 0}));var e},n.prototype._getHander=function(t){var e,n;if(e=this.constructor.keyNameMap[t.which])return n="",t.altKey&&(n+="alt_"),t.ctrlKey&&(n+="control_"),t.metaKey&&(n+="meta_"),t.shiftKey&&(n+="shift_"),n+=e.toLowerCase(),this._map[n]},n.prototype.respondTo=function(t){return"string"==typeof t?null!=this._map[this.constructor.normalize(t)]:null!=this._getHander(t)},n.prototype.add=function(t,e){return this._map[this.constructor.normalize(t)]=e,this},n.prototype.remove=function(t){return delete this._map[this.constructor.normalize(t)],this},n.prototype.destroy=function(){return t(this._delegate).off(".simple-hotkeys-"+this.id),this._map={},this},n}(e),function(t){return new n(t)}}(t,e)}.apply(e,i))||(t.exports=r)},xAGQ:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},xSUi:function(t,e,n){"use strict";n.r(e);var i={name:"QuestionBottom",props:["questionId"],created:function(){var t=this;$bus.$on("clickAnswer",function(){t.answered_ids=$bus.state.answer.answerIds})},methods:{submit:function(){this.show=!1,$bus.$emit("questionAswered"),window.axios.post(tokenize("/api/question-"+this.questionId+"-answered"),{answered_ids:this.answered_ids}).then(function(t){window.location.reload()})}},data:function(){return{show:!0,answered_ids:[]}}},r=n("KHd+"),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"inquisitorial-bottom"},[e("div",{staticClass:"container"},[e("div",{staticClass:"inquisitorial-tool"},[e("a",{staticClass:"btn-base btn-theme",attrs:{href:"javascript:;"},on:{click:this.submit}},[this._v("这些回答对我有用 "+this._s(this.answered_ids.length+"/10"))])])])]):this._e()},[],!1,null,"173e38c6",null);e.default=a.exports},"xTJ+":function(t,e,n){"use strict";var i=n("HSsa"),r=Object.prototype.toString;function a(t){return"[object Array]"===r.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===r.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:o,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},xUkP:function(t,e,n){"use strict";n.r(e);var i={name:"ModalWithdraw",data:function(){return{}},methods:{withdraw:function(){window.axios.post(window.tokenize("/api/withdraw"),{toAccount:document.getElementById("account").value,realName:document.getElementById("realName").value,amount:document.getElementById("amount").value}).then(function(t){alert(11)}).catch(function(t){console.log(t)})}}},r=(n("6Pp1"),n("KHd+")),a=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade modal-withdraw"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn-base btn-handle btn-hg",on:{click:this.withdraw}},[this._v("确认提现")])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("提现")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-body"},[n("form",[n("div",{staticClass:"money-input"},[n("label",[t._v("提现金额:")]),t._v(" "),n("input",{staticClass:"input-style",attrs:{type:"text",placeholder:"0.00",id:"amount"}}),t._v(" "),n("span",{staticClass:"amount"},[t._v("元")])]),t._v(" "),n("div",{staticClass:"money-input"},[n("label",[t._v("支付宝账号:")]),t._v(" "),n("input",{staticClass:"input-style",attrs:{type:"text",id:"account",placeholder:"填入收款支付宝账号邮箱或手机号"}})]),t._v(" "),n("div",{staticClass:"money-input"},[n("label",[t._v("收款人真实姓名:")]),t._v(" "),n("input",{staticClass:"input-style",attrs:{type:"text",id:"realName",placeholder:"支付宝账户对应的真实姓名，如果错误无法提现"}})])]),t._v(" "),n("div",[t._v("* 暂时仅支持提现至支付宝账户。")]),t._v(" "),n("div",[n("strong",[t._v("* 提现申请提交后 3 个工作日内到账。")])]),t._v(" "),n("div",[t._v("* 提现申请提交后暂时无法撤销。")]),t._v(" "),n("div",[t._v("* 每次提现收取 5% 手续费。")])])}],!1,null,"58c866b5",null);e.default=a.exports},xfcH:function(t,e,n){"use strict";n.r(e);var i={name:"AddVideol",props:[],methods:{videlo_upload:function(t){this.videol=t.target.files[0],console.log(this.videol)}},data:function(){return{videols:[{name:"shipi.mp4",size:"1.65MB",path:"blob:https://blueimp.github.io/c2c35472-48aa-4e56-ab87-ddc5d85ceecf"},{name:"shipi.mp4",size:"1.65MB",path:"blob:https://blueimp.github.io/c2c35472-48aa-4e56-ab87-ddc5d85ceecf"},{name:"shipi.mp4",size:"1.65MB",path:"blob:https://blueimp.github.io/c2c35472-48aa-4e56-ab87-ddc5d85ceecf"}]}}},r=(n("d0jA"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"add-videol"},[n("i",{staticClass:"iconfont icon-icon20"}),t._v(" "),n("p",[t._v("点击此处上传视频")]),t._v(" "),n("div",{staticClass:"input_box"},[n("input",{attrs:{type:"file",multiple:"",accept:".mp4"},on:{change:t.videlo_upload}})])]),t._v(" "),n("table",{staticClass:"table table-striped",attrs:{role:"presentation"}},[n("tbody",{staticClass:"files"},t._l(t.videols,function(e){return n("tr",{staticClass:"template-upload fade in"},[n("td",[n("video",{attrs:{src:e.path,controls:""}})]),t._v(" "),n("td",[n("p",{staticClass:"name"},[t._v(t._s(e.name))])]),t._v(" "),n("td",[n("p",{staticClass:"size"},[t._v(t._s(e.size))]),t._v(" "),t._m(0,!0)]),t._v(" "),t._m(1,!0)])}),0)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress progress-striped active",attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"}},[e("div",{staticClass:"progress-bar progress-bar-success",staticStyle:{width:"0%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"delete"},[e("button",{staticClass:"btn btn-warning cancel"},[e("i",{staticClass:"glyphicon glyphicon-ban-circle"}),this._v(" "),e("span",[this._v("Cancel")])])])}],!1,null,null,null);e.default=a.exports},xicS:function(t,e,n){"use strict";n.r(e);var i={name:"ModalAdmire",props:["articleId"],methods:{customMoney:function(){this.money="",this.custom=!0;var t=this;setTimeout(function(){t.$refs.customInput.focus()},100)},selectMoney:function(){this.custom=null},payNow:function(){if(this.money>=1)if("wx-pay"==this.payMethod)this.wexinPay=!0;else if(this.money>=1){var t=this.payUrl.replace("amount=2","amount="+this.money);t=t+"&article_id="+this.articleId,this.message&&(t=t+"&message="+encodeURIComponent(this.message)),window.location.href=t}},rollBack:function(){this.wexinPay=null}},data:function(){return{money:2,custom:null,payMethod:"wx-pay",wexinPay:null,message:null,payUrl:"/pay?amount=2&type=tip"}}},r=(n("SQQX"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-admire"},[n("div",{class:["modal-dialog",t.wexinPay?"weixin-pay":""]},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.rollBack}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[t.wexinPay?t._e():n("form",{staticClass:"new-reward"},[t._m(0),t._v(" "),n("div",{staticClass:"main-inputs"},[n("div",{staticClass:"amount-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option1",type:"radio",value:"2"},domProps:{checked:t._q(t.money,"2")},on:{change:function(e){t.money="2"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option1"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("2")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option2",type:"radio",value:"5"},domProps:{checked:t._q(t.money,"5")},on:{change:function(e){t.money="5"}}}),t._v(" "),n("label",{staticClass:"option hidden-xs",attrs:{for:"option2"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("5")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option3",type:"radio",value:"10"},domProps:{checked:t._q(t.money,"10")},on:{change:function(e){t.money="10"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option3"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("10")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option4",type:"radio",value:"20"},domProps:{checked:t._q(t.money,"20")},on:{change:function(e){t.money="20"}}}),t._v(" "),n("label",{staticClass:"option hidden-xs",attrs:{for:"option4"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("20")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{id:"option5",type:"radio",value:"50"},domProps:{checked:t._q(t.money,"50")},on:{change:function(e){t.money="50"}}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"option5"},on:{click:t.selectMoney}},[n("i",{staticClass:"iconfont icon-jinqian1"}),t._v(" "),n("span",{staticClass:"amount"},[t._v("50")]),t._v(" "),n("span",{staticClass:"piece"},[t._v("元")])]),t._v(" "),n("input",{ref:"custom",staticClass:"custom-amount",attrs:{id:"custom-option",type:"radio"},domProps:{checked:t.custom}}),t._v(" "),n("label",{staticClass:"option",attrs:{for:"custom-option"},on:{click:t.customMoney}},[n("span",{staticClass:"custom-text"},[t._v("自定义")]),t._v(" "),n("div",{staticClass:"custom-amount-input"},[n("i",{staticClass:"iconfont icon-jinqian1 hidden-xs"}),t._v(" "),t.custom?n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],ref:"customInput",attrs:{type:"number",oninput:"value = parseInt(Math.min(Math.max(value, 0), 10000), 10)"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}}):t._e(),t._v(" "),n("span",{staticClass:"piece hidden-xs"},[t._v("元")])])])]),t._v(" "),n("div",{staticClass:"message"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{placeholder:"给Ta留言…"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"reward-info"},[n("span",{staticClass:"amount"},[t._v("￥"+t._s(t.money))])]),t._v(" "),n("div",{staticClass:"choose-pay"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.payMethod,expression:"payMethod"}],attrs:{id:"method1",type:"radio",name:"pay-method",value:"wx-pay"},domProps:{checked:t._q(t.payMethod,"wx-pay")},on:{change:function(e){t.payMethod="wx-pay"}}}),t._v(" "),t._m(1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payMethod,expression:"payMethod"}],attrs:{id:"method2",type:"radio",name:"pay-method",value:"alipay"},domProps:{checked:t._q(t.payMethod,"alipay")},on:{change:function(e){t.payMethod="alipay"}}}),t._v(" "),t._m(2)])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.wexinPay,expression:"wexinPay"}],staticClass:"wx-qr-code"},[n("h3",[t._v("微信扫码支付")]),t._v(" "),t._m(3),t._v(" "),n("div",{staticClass:"pay-amount"},[t._v("\n                        赞赏金额:"),n("span",[t._v("￥"+t._s(t.money))])])])]),t._v(" "),t.wexinPay?t._e():n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"action"},[n("div",{staticClass:"btn-base btn-theme btn-lg",on:{click:t.payNow}},[t._v("立即支付")])])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reward-intro"},[e("a",{staticClass:"avatar"},[e("img",{attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/xbx.jpg"}})]),this._v(" "),e("span",{staticClass:"intro"},[this._v("支持作者")]),this._v(" "),e("i",{staticClass:"iconfont icon-jinqian1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"option",attrs:{for:"method1"}},[e("img",{staticClass:"wechat",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/wechat-pay.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"option",attrs:{for:"method2"}},[e("img",{staticClass:"alipay",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/alipay.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"qr-code",attrs:{title:""}},[e("img",{attrs:{alt:"Scan me!",src:"/qrcode/tip.jpg"}})])}],!1,null,"bda0fe94",null);e.default=a.exports},xlpJ:function(t,e,n){"use strict";var i=n("R5DQ");n.n(i).a},xmgQ:function(t,e,n){"use strict";n.r(e);var i=n("KHd+"),r={name:"ActionList",props:["api","startPage","notEmpty","appName"],components:{"action-article-item":Object(i.a)({name:"ActionArticleItem",props:["item","appName"]},function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.actionable?n("li",{class:t.item.actionable.has_image?"content-item have-img":"content-item"},[t.item.actionable.has_image?n("a",{staticClass:"wrap-img",attrs:{href:t.item.actionable.url}},[n("img",{attrs:{src:t.item.actionable.primary_image,alt:t.item.actionable.title}}),t._v(" "),"video"==t.item.actionable.type?n("span",{staticClass:"rotate-play"},[n("i",{staticClass:"iconfont icon-shipin"})]):t._e(),t._v(" "),"video"==t.item.actionable.type?n("i",{staticClass:"duration"},[t._v(t._s(t.item.actionable.duration))]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"author"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+t.item.user.id}},[n("img",{attrs:{src:t.item.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+t.item.user.id}},[t._v(t._s(t.item.user.name))]),t._v(" "),t.item.user.is_signed?n("img",{staticClass:"badge-icon",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/signed.png","data-toggle":"tooltip","data-placement":"top",title:"签约作者",alt:"签约作者"}}):t._e(),t._v(" "),t.item.user.is_editor?n("img",{staticClass:"badge-icon",attrs:{src:"https://diudie-1251052432.cos.ap-guangzhou.myqcloud.com/images/editor.png","data-toggle":"tooltip","data-placement":"top",title:"小编",alt:"小编"}}):t._e(),t._v(" "),n("span",{staticClass:"time",attrs:{"data-shared-at":"2017-11-06T09:20:28+08:00"}},[t._v("发表了作品 "+t._s(t.item.time))])])]),t._v(" "),n("a",{staticClass:"title",attrs:{href:"/article/"+t.item.actionable.id}},[n("span",[t._v(t._s(t.item.actionable.title))])]),t._v(" "),n("p",{staticClass:"abstract"},[t._v("\n      "+t._s(t.item.actionable.description)+"\n    ")]),t._v(" "),n("div",{staticClass:"meta"},[n("a",{attrs:{href:"/article/"+t.item.actionable.id}},[n("i",{staticClass:"iconfont icon-liulan"}),t._v(" "+t._s(t.item.actionable.hits)+"\n      ")]),t._v(" "),n("a",{attrs:{href:"/article/"+t.item.actionable.id+"/#comments"}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(" "+t._s(t.item.actionable.count_replies)+"\n      ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-03xihuan"}),t._v(" "+t._s(t.item.actionable.count_likes))])])])]):t._e()},[],!1,null,"5907f6f7",null).exports,"action-comment-item":Object(i.a)({name:"ActionCommentItem",props:["item","appName"],computed:{is_comment:function(){return null!=this.item.actionable&&this.item.actionable.hasOwnProperty("commentable")}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.is_comment?n("li",{staticClass:"article-item have-img"},[n("a",{staticClass:"wrap-img",attrs:{href:t.item.actionable.commentable.contentUrl}},[n("img",{attrs:{src:t.item.actionable.commentable.image_url,alt:""}})]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"author"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+t.item.user.id}},[n("img",{attrs:{src:t.item.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+t.item.user.id}},[t._v(t._s(t.item.user.name))]),t._v(" "),n("span",{staticClass:"time"},[t._v(" 发表了评论 · "+t._s(t.item.time))])])]),t._v(" "),n("div",{staticClass:"comment"},[n("p",{domProps:{innerHTML:t._s(t.item.actionable.body)}})]),t._v(" "),n("blockquote",[n("a",{staticClass:"title",attrs:{href:t.item.actionable.commentable.contentUrl}},[n("span",[t._v(t._s(t.item.actionable.commentable.title))])]),t._v(" "),n("p",{staticClass:"abstract"},[t._v("\n            "+t._s(t.item.actionable.commentable.description)+"\n        ")]),t._v(" "),n("div",{staticClass:"meta"},[n("div",{staticClass:"origin-author"},[n("a",{attrs:{href:"/user/"+t.item.user.id}},[t._v(t._s(t.item.user.name))])]),t._v(" "),n("a",{attrs:{href:"/article/"+t.item.actionable.commentable.id}},[n("i",{staticClass:"iconfont icon-liulan"}),t._v(" "+t._s(t.item.actionable.commentable.hits)+"\n            ")]),t._v(" "),n("a",{attrs:{href:"/article/"+t.item.actionable.commentable.id+"/#comments"}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(" "+t._s(t.item.actionable.commentable.count_replies)+"\n            ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-03xihuan"}),t._v(" "+t._s(t.item.actionable.commentable.count_likes))])])])])]):t._e()},[],!1,null,"592d608c",null).exports,"action-like-item":Object(i.a)({name:"ActionLikeItem",props:["item","appName"],computed:{is_like:function(){return null!=this.item.actionable&&this.item.actionable.hasOwnProperty("liked")},actionTargetId:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable_id:this.item.actionable.liked.id},actionTargetImage:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.image_url:this.item.actionable.liked.image_url},actionTargetTitle:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.title:this.item.actionable.liked.title},actionTargetBody:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.body:this.item.actionable.liked.description},actionTargetHits:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.hits:this.item.actionable.liked.hits},actionTargetReplise:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.count_replies:this.item.actionable.liked.count_replies},actionTargetLikes:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.count_likes:this.item.actionable.liked.count_likes},actionTargetUserId:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.user_id:this.item.user.id},actionTargetUserName:function(){return"comments"==this.item.actionable.liked_type?this.item.actionable.liked.commentable.user_name:this.item.user.name}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.is_like?n("li",{staticClass:"article-item have-img"},[n("a",{staticClass:"wrap-img",attrs:{href:"/article/"+t.actionTargetId}},[n("img",{attrs:{src:t.actionTargetImage,alt:""}})]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"author"},[n("a",{staticClass:"avatar",attrs:{href:"/user/"+t.item.user.id}},[n("img",{attrs:{src:t.item.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"nickname",attrs:{href:"/user/"+t.item.user.id}},[t._v(t._s(t.item.user.name))]),t._v(" "),"articles"==t.item.actionable.liked_type?n("span",{staticClass:"time"},[t._v(" 喜欢了作品 · "+t._s(t.item.time))]):n("span",{staticClass:"time"},[t._v(" 喜欢了作品的评论 · "+t._s(t.item.time))])])]),t._v(" "),n("a",{staticClass:"title",attrs:{href:"/article/"+t.actionTargetId}},[n("span",[t._v(t._s(t.actionTargetTitle))])]),t._v(" "),n("p",{staticClass:"abstract"},[t._v("\n                "+t._s(t.actionTargetBody)+"\n            ")]),t._v(" "),n("div",{staticClass:"meta"},[n("div",{staticClass:"origin-author"},[n("a",{attrs:{href:"/user/"+t.actionTargetUserId}},[t._v(t._s(t.actionTargetUserName))])]),t._v(" "),n("a",{attrs:{href:"/article/"+t.actionTargetId}},[n("i",{staticClass:"iconfont icon-liulan"}),t._v(" "+t._s(t.actionTargetHits)+"\n                ")]),t._v(" "),n("a",{attrs:{href:"/article/"+t.actionTargetId+"/#comments"}},[n("i",{staticClass:"iconfont icon-svg37"}),t._v(" "+t._s(t.actionTargetReplise)+"\n                ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-03xihuan"}),t._v(" "+t._s(t.actionTargetLikes))])])])]):t._e()},[],!1,null,"6186767a",null).exports,"action-follow-item":Object(i.a)({name:"ActionFollowItem",props:["item","appName"],computed:{is_follow:function(){return null!=this.item.actionable&&this.item.actionable.hasOwnProperty("followed")},actionTargetImage:function(){return"categories"==this.item.actionable.followed_type?this.item.actionable.followed.logo:this.item.actionable.followed.avatar},actionTargetFollowUrl:function(){return"categories"==this.item.actionable.followed_type?"/"+this.item.actionable.followed.name_en:"/user/"+this.item.actionable.followed.id},actionTargetFollowType:function(){return this.item.actionable.followed_type}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.is_follow?n("li",{staticClass:"feed-info"},[n("div",{staticClass:"content"},[n("div",{staticClass:"author"},[n("a",{staticClass:"avatar",attrs:{href:"javascript:;"}},[n("img",{attrs:{src:t.item.user.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"nickname",attrs:{href:/user/+t.item.user.id}},[t._v(t._s(t.item.user.name))]),t._v(" "),"users"==t.item.actionable.followed_type?n("span",{staticClass:"time"},[t._v(" 关注了作者 · "+t._s(t.item.time))]):n("span",{staticClass:"time"},[t._v(" 关注了专题 · "+t._s(t.item.time))])])]),t._v(" "),n("div",{staticClass:"follow-card"},[n("div",{staticClass:"note-info"},[n("a",{staticClass:"avatar",attrs:{href:"javascript:;"}},[n("img",{attrs:{src:t.actionTargetImage,alt:""}})]),t._v(" "),n("follow",{attrs:{type:t.item.actionable.followed_type,id:t.item.actionable.followed.id,"user-id":t.item.user.id,followed:t.item.actionable.is_follow}}),t._v(" "),n("div",{staticClass:"title"},[n("a",{staticClass:"name",attrs:{href:t.actionTargetFollowUrl}},[t._v(t._s(t.item.actionable.followed.name))])]),t._v(" "),n("div",{staticClass:"info"},["users"==t.actionTargetFollowType?n("p",[t._v("写了 "+t._s(t.item.actionable.followed.count_words)+" 字，被 "+t._s(t.item.actionable.followed.count_follows)+" 人关注，获得了 "+t._s(t.item.actionable.followed.count_likes)+" 个喜欢")]):n("p",[n("a",{attrs:{href:t.actionTargetFollowUrl}},[t._v(t._s(t.item.actionable.followed.user.name))]),t._v(" 编辑，"+t._s(t.item.actionable.followed.count)+" 篇作品，"+t._s(t.item.actionable.followed.count_follows)+" 人关注")])])],1),t._v(" "),n("p",{staticClass:"signature"},[t._v("\n                    "+t._s(t.item.actionable.followed.introduction)+"\n                ")])])])]):t._e()},[],!1,null,"4e4130d3",null).exports},watch:{api:function(t){this.clear(),this.fetchData()}},computed:{apiUrl:function(){var t=this.page,e=this.api?this.api:this.apiDefault;return-1!==e.indexOf("?")?e+"&page="+t:e+"?page="+t}},mounted:function(){this.listenScrollBottom(),this.fetchData()},methods:{clear:function(){this.actions=[]},listenScrollBottom:function(){var t=this;$(window).on("scroll",function(){$(this).scrollTop()>=$("body").height()-$(window).height()-5&&t.fetchMore()})},fetchMore:function(){++this.page,this.lastPage>0&&this.page>this.lastPage||this.fetchData()},fetchData:function(){var t=this;window.axios.get(this.apiUrl).then(function(e){t.actions=t.actions.concat(e.data.data),t.lastPage=e.data.last_page,$('[data-toggle="tooltip"]').tooltip(),t.page>=t.lastPage&&(t.end=!0)})}},data:function(){return{apiDefault:"",page:this.startPage?this.startPage:1,lastPage:-1,actions:[],end:!1}}},a=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.actions,function(e){return n("div",["articles"==e.actionable_type?n("action-article-item",{attrs:{item:"articles"==e.actionable_type?e:"","app-name":t.appName}}):t._e(),t._v(" "),"comments"==e.actionable_type?n("action-comment-item",{attrs:{item:"comments"==e.actionable_type?e:"","app-name":t.appName}}):t._e(),t._v(" "),"likes"==e.actionable_type?n("action-like-item",{attrs:{item:"likes"==e.actionable_type?e:"","app-name":t.appName}}):t._e(),t._v(" "),"follows"==e.actionable_type?n("action-follow-item",{attrs:{item:"follows"==e.actionable_type?e:"","app-name":t.appName}}):t._e()],1)}),t._v(" "),t.actions.length||t.notEmpty?n("loading-more",{attrs:{end:t.end}}):n("div",{staticClass:"unMessage"},[n("blank-content")],1)],2)},[],!1,null,"31c88de2",null);e.default=a.exports},xziv:function(t,e,n){var i=n("DwMr");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},yHs3:function(t,e,n){"use strict";var i=n("dUOy");n.n(i).a},yK9s:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},yTzj:function(t,e,n){var i=n("JzTI");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},yYat:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".multiselect--active{z-index:2}.multiselect__tag{background-color:#fff;border:1px solid #42c02e;color:#42c02e}.multiselect__tag .multiselect__tag-icon:hover{background-color:#42c02e}.multiselect__option--highlight,.multiselect__option--highlight:after{background-color:rgba(66,192,46,.5)}.multiselect__option--selected.multiselect__option--highlight,.multiselect__option--selected.multiselect__option--highlight:after{background-color:#f99}",""])},yadY:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".end{padding:30px 0;background-color:#f0f0f0;font-size:16px;color:#aaa;text-align:center}.note-placeholder{margin:15px 0 30px;width:100%;position:relative}.note-placeholder .image{position:absolute;top:0;right:0;width:22%;height:100%;border-radius:5px;background-color:#eaeaea}.note-placeholder .content{width:100%;padding-right:25%}.note-placeholder .content .animation-delay,.note-placeholder .content .text,.note-placeholder .content .title{background-color:#eaeaea}.note-placeholder .content .title{width:50%;height:20px;margin-bottom:12px}.note-placeholder .content .text{width:100%;height:16px;margin-bottom:8px;-webkit-animation:loading .5s ease-in-out infinite alternate;animation:loading .5s ease-in-out infinite alternate}.note-placeholder .content .animation-delay{-webkit-animation:loading .5s ease-in-out -.5s infinite alternate;animation:loading .5s ease-in-out -.5s infinite alternate}.note-placeholder .content .meta{height:16px}.note-placeholder .content .meta div{display:inline-block;height:100%;background-color:#eaeaea}.note-placeholder .content .meta i{font-size:16px;color:#eaeaea;margin-right:4px}.note-placeholder .content .meta .read{width:15%;margin-right:4px}.note-placeholder .content .meta .small{width:10%;margin-right:4px}@-webkit-keyframes loading{0%{width:100%}to{width:50%}}@keyframes loading{0%{width:100%}to{width:50%}}",""])},ydL7:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".simple[data-v-475913a4]{width:450px!important}.simple .modal-body span[data-v-475913a4]{margin-right:10px}.simple .modal-body textarea[data-v-475913a4]{margin-top:20px;height:auto;font-size:14px}",""])},ypAw:function(t,e,n){"use strict";n.r(e);var i={name:"Recently",props:["hideTitle"],mounted:function(){this.fetchData()},methods:{empty:function(){var t=this;axios.delete(tokenize("/api/search/clear-querylogs")).then(function(e){t.histories=[]},function(e){t.histories=[]})},fetchData:function(){var t=this;axios.get(tokenize("/api/search/latest-querylogs")).then(function(e){t.histories=e.data})},deleteHistory:function(t){t.preventDefault();var e=parseInt($(t.target).attr("data-id")),n=this;axios.delete(tokenize("/api/search/remove-querylog-"+e)).then(function(t){n.histories=n.histories.filter(function(t){return t.id!==e})},function(t){n.histories=n.histories.filter(function(t){return t.id!==e})})}},data:function(){return{histories:[]}}},r=(n("Jwjb"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.histories.length>0,expression:"histories.length>0"}],staticClass:"search-recent"},[t.hideTitle?t._e():n("div",{staticClass:"plate-title"},[t._v("\n\t  最近搜索\n\t  "),n("a",{staticClass:"right",attrs:{href:"javascript:;"},on:{click:t.empty}},[t._v("清空")])]),t._v(" "),t.histories.length?n("ul",{staticClass:"search-recent-item-wrap"},t._l(t.histories,function(e){return n("li",[n("a",{attrs:{href:"/search?q="+e.query}},[n("i",{staticClass:"iconfont icon-unie646"}),t._v(" "),n("span",[t._v(t._s(e.query))]),t._v(" "),n("i",{staticClass:"iconfont icon-cha",attrs:{"data-id":e.id},on:{click:t.deleteHistory}})])])}),0):t._e()])},[],!1,null,null,null);e.default=a.exports},ywjp:function(t,e,n){var i=n("FBYH");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},"zn+r":function(t,e,n){"use strict";n.r(e);var i=(n("zuI7"),n("KHd+")),r=Object(i.a)({name:"ModalReport",data:function(){return{}}},function(){this.$createElement;return this._self._c,this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade modal-report"},[n("div",{staticClass:"modal-dialog simple"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[t._v("×")]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v("\n                举报用户\n                ")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("input",{attrs:{type:"radio",name:"report",value:"ad",checked:"checked"}}),t._v(" "),n("span",[t._v("广告及垃圾信息")]),t._v(" "),n("input",{attrs:{type:"radio",name:"report",value:"plagiarism"}}),t._v(" "),n("span",[t._v("抄袭或未授权转载")]),t._v(" "),n("input",{attrs:{type:"radio",name:"report",value:"other"}}),t._v(" "),n("span",[t._v("其它")]),t._v(" "),n("textarea",{attrs:{placeholder:"写下举报的详情情况"}})]),t._v(" "),n("footer",{staticClass:"clearfix"},[n("button",{staticClass:"submit btn-base btn-hollow btn-sm"},[t._v("确认")]),t._v(" "),n("a",{staticClass:"cancel",attrs:{"data-dismiss":"modal","aria-label":"Close",href:"javascript:;"}},[t._v("取消")])])])])])}],!1,null,"475913a4",null);e.default=r.exports},zuI7:function(t,e,n){"use strict";var i=n("mANv");n.n(i).a},zuR4:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("HSsa"),a=n("CgaS"),o=n("SntB");function s(t){var e=new a(t),n=r(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var l=s(n("JEQr"));l.Axios=a,l.create=function(t){return s(o(l.defaults,t))},l.Cancel=n("endd"),l.CancelToken=n("jfS+"),l.isCancel=n("Lmem"),l.all=function(t){return Promise.all(t)},l.spread=n("DfZB"),t.exports=l,t.exports.default=l},zuv3:function(t,e,n){var i=n("yadY");"string"==typeof i&&(i=[[t.i,i,""]]);n("aET+")(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)}}),function(t){var e=function(){function t(e){_classCallCheck(this,t),this.container=e.container,this.data=e.data,this.speed=e.speed,this.auto=e.auto,this.flag=!0}return _createClass(t,[{key:"init",value:function(){this.createDom(this.container,this.data),this.active(),this.directiveHandler(),this.auto&&this.autoPlay(this.speed),this.hover()}},{key:"createDom",value:function(t,e){$("#poster").html('<div class="poster-inner">\n\t\t\t    \t    </div>\n\t\t\t    \t    <a href="javascript:;" class="left banner-btn">\n\t\t\t    \t        <i class="iconfont icon-zuobian"></i>\n\t\t\t    \t    </a>\n\t\t\t    \t    <a href="javascript:;" class="right banner-btn">\n\t\t\t    \t        <i class="iconfont icon-youbian"></i>\n\t\t\t    \t    </a>'),e.forEach(function(t,e,n){var i='<div class="item">\n\t\t    \t            \t<div class="banner">\n\t\t    \t            \t\t<a target="_blank" href="'.concat(n[e][0],'" alt="">\n\t\t    \t            \t\t\t<img src="').concat(n[e][1],'" alt="">\n\t\t    \t            \t\t\t<div class="title">\n\t\t    \t            \t\t\t\t<p>').concat(n[e][2],"</p>\n\t\t    \t            \t\t\t</div>\n\t\t    \t            \t\t</a>\n\t\t    \t            \t</div> \n\t\t    \t            </div>\n\t\t    \t            ");$("#poster .poster-inner").append(i)})}},{key:"active",value:function(){$("#poster .poster-inner").find(".item").first().addClass("active")}},{key:"directiveHandler",value:function(){var t=this;$("#poster .banner-btn").filter(".left").on("click",function(){t.roll("prev")}),$("#poster .banner-btn").filter(".right").on("click",function(){t.roll("next")})}},{key:"roll",value:function(t){var e=this;if(e.flag){e.flag=!1;var n=$(".poster-inner .item.active").index();"next"==t?(n==$(".poster-inner .item").length-1?n=0:n++,i(t,n)):(0==n?n=$(".poster-inner .item").length-1:n--,i(t,n))}function i(t,n){var i="next"==t?"left":"right";$(".poster-inner .item").eq(n).addClass(t).delay(50).queue(function(){$(".poster-inner .item.active").addClass(i).parent().children(".item").eq(n).addClass(i).dequeue()}).delay(600).queue(function(){$(".poster-inner .item.active").removeClass("active "+i).dequeue(),$(".poster-inner .item").filter("."+t).removeClass(t+" "+i).addClass("active").dequeue(),e.flag=!0})}}},{key:"autoPlay",value:function(t){var e=this;t=t<1e3?1e3:t,this.timer=setInterval(function(){e.roll("next")},t)}},{key:"hover",value:function(){var t=this;$("#poster").hover(function(){clearInterval(t.timer)},function(){t.auto&&(t.timer=setInterval(function(){t.roll("next")},t.speed))})}}]),t}();t.Poster=e}(window),function(t){"use strict";var e={tagClass:function(t){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,32,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};function n(e,n){this.isInit=!0,this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(n),this.isInit=!1}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function r(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}n.prototype={constructor:n,add:function(e,n,i){var r=this;if(!(r.options.maxTags&&r.itemsArray.length>=r.options.maxTags)&&(!1===e||e)){if("string"==typeof e&&r.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!r.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(r.isSelect&&!r.multiple&&r.itemsArray.length>0&&r.remove(r.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var a=r.options.delimiterRegex?r.options.delimiterRegex:r.options.delimiter,s=e.split(a);if(s.length>1){for(var l=0;l<s.length;l++)this.add(s[l],!0);return void(n||r.pushVal())}}var c=r.options.itemValue(e),u=r.options.itemText(e),d=r.options.tagClass(e),f=r.options.itemTitle(e),p=t.grep(r.itemsArray,function(t){return r.options.itemValue(t)===c})[0];if(!p||r.options.allowDuplicates){if(!(r.items().toString().length+e.length+1>r.options.maxInputLength)){var h=t.Event("beforeItemAdd",{item:e,cancel:!1,options:i});if(r.$element.trigger(h),!h.cancel){r.itemsArray.push(e);var m=t('<span class="tag '+o(d)+(null!==f?'" title="'+f:"")+'">'+o(u)+'<span data-role="remove"></span></span>');m.data("item",e),r.findInputWrapper().before(m),m.after(" ");var g=t('option[value="'+encodeURIComponent(c)+'"]',r.$element).length||t('option[value="'+o(c)+'"]',r.$element).length;if(r.isSelect&&!g){var v=t("<option selected>"+o(u)+"</option>");v.data("item",e),v.attr("value",c),r.$element.append(v)}n||r.pushVal(),r.options.maxTags!==r.itemsArray.length&&r.items().toString().length!==r.options.maxInputLength||r.$container.addClass("bootstrap-tagsinput-max"),t(".typeahead, .twitter-typeahead",r.$container).length&&r.$input.typeahead("val",""),this.isInit?r.$element.trigger(t.Event("itemAddedOnInit",{item:e,options:i})):r.$element.trigger(t.Event("itemAdded",{item:e,options:i}))}}}else if(r.options.onTagExists){var y=t(".tag",r.$container).filter(function(){return t(this).data("item")===p});r.options.onTagExists(e,y)}}}},remove:function(e,n,i){var r=this;if(r.objectItems&&(e=(e="object"==typeof e?t.grep(r.itemsArray,function(t){return r.options.itemValue(t)==r.options.itemValue(e)}):t.grep(r.itemsArray,function(t){return r.options.itemValue(t)==e}))[e.length-1]),e){var a=t.Event("beforeItemRemove",{item:e,cancel:!1,options:i});if(r.$element.trigger(a),a.cancel)return;t(".tag",r.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",r.$element).filter(function(){return t(this).data("item")===e}).remove(),-1!==t.inArray(e,r.itemsArray)&&r.itemsArray.splice(t.inArray(e,r.itemsArray),1)}n||r.pushVal(),r.options.maxTags>r.itemsArray.length&&r.$container.removeClass("bootstrap-tagsinput-max"),r.$element.trigger(t.Event("itemRemoved",{item:e,options:i}))},removeAll:function(){for(t(".tag",this.$container).remove(),t("option",this.$element).remove();this.itemsArray.length>0;)this.itemsArray.pop();this.pushVal()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var n=t(this),i=n.data("item"),r=e.options.itemValue(i),a=e.options.itemText(i),s=e.options.tagClass(i);(n.attr("class",null),n.addClass("tag "+o(s)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=o(a),e.isSelect)&&t("option",e.$element).filter(function(){return t(this).data("item")===i}).attr("value",r)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(n,!0).trigger("change")},build:function(n){var a=this;if(a.options=t.extend({},e,n),a.objectItems&&(a.options.freeInput=!1),i(a.options,"itemValue"),i(a.options,"itemText"),r(a.options,"tagClass"),a.options.typeahead){var o=a.options.typeahead||{};r(o,"source"),a.$input.typeahead(t.extend({},o,{source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var o=a.options.itemText(t[i]);r[o]=t[i],e.push(o)}n(e)}this.map={};var r=this.map,s=o.source(e);t.isFunction(s.success)?s.success(i):t.isFunction(s.then)?s.then(i):t.when(s).then(i)},updater:function(t){return a.add(this.map[t]),this.map[t]},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(a.options.typeaheadjs){var l=null,c={},u=a.options.typeaheadjs;t.isArray(u)?(l=u[0],c=u[1]):c=u,a.$input.typeahead(l,c).on("typeahead:selected",t.proxy(function(t,e){c.valueKey?a.add(e[c.valueKey]):a.add(e),a.$input.typeahead("val","")},a))}a.$container.on("click",t.proxy(function(t){a.$element.attr("disabled")||a.$input.removeAttr("disabled"),a.$input.focus()},a)),a.options.addOnBlur&&a.options.freeInput&&a.$input.on("focusout",t.proxy(function(e){0===t(".typeahead, .twitter-typeahead",a.$container).length&&(a.add(a.$input.val()),a.$input.val(""))},a)),a.$container.on("keydown","input",t.proxy(function(e){var n=t(e.target),i=a.findInputWrapper();if(a.$element.attr("disabled"))a.$input.attr("disabled","disabled");else{switch(e.which){case 8:if(0===s(n[0])){var r=i.prev();r.length&&a.remove(r.data("item"))}break;case 46:if(0===s(n[0])){var o=i.next();o.length&&a.remove(o.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var c=i.next();0===n.val().length&&c[0]&&(c.after(i),n.focus())}var u=n.val().length;Math.ceil(u/5);n.attr("size",Math.max(this.inputSize,n.val().length))}},a)),a.$container.on("keypress","input",t.proxy(function(e){var n=t(e.target);if(a.$element.attr("disabled"))a.$input.attr("disabled","disabled");else{var i,r,o,s=n.val(),l=a.options.maxChars&&s.length>=a.options.maxChars;a.options.freeInput&&(i=e,r=a.options.confirmKeys,o=!1,t.each(r,function(t,e){if("number"==typeof e&&i.which===e)return o=!0,!1;if(i.which===e.which){var n=!e.hasOwnProperty("altKey")||i.altKey===e.altKey,r=!e.hasOwnProperty("shiftKey")||i.shiftKey===e.shiftKey,a=!e.hasOwnProperty("ctrlKey")||i.ctrlKey===e.ctrlKey;if(n&&r&&a)return o=!0,!1}}),o||l)&&(0!==s.length&&(a.add(l?s.substr(0,a.options.maxChars):s),n.val("")),!1===a.options.cancelConfirmKeysOnEmpty&&e.preventDefault());var c=n.val().length;Math.ceil(c/5);n.attr("size",Math.max(this.inputSize,n.val().length))}},a)),a.$container.on("click","[data-role=remove]",t.proxy(function(e){a.$element.attr("disabled")||a.remove(t(e.target).closest(".tag").data("item"))},a)),a.options.itemValue===e.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):t("option",a.$element).each(function(){a.add(t(this).attr("value"),!0)}))},destroy:function(){this.$container.off("keypress","input"),this.$container.off("click","[role=remove]"),this.$container.remove(),this.$element.removeData("tagsinput"),this.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(e,i,r){var a=[];return this.each(function(){var o=t(this).data("tagsinput");if(o)if(e||i){if(void 0!==o[e]){if(3===o[e].length&&void 0!==r)var s=o[e](i,null,r);else s=o[e](i);void 0!==s&&a.push(s)}}else a.push(o);else o=new n(this,e),t(this).data("tagsinput",o),a.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof e?a.length>1?a:a[0]:a},t.fn.tagsinput.Constructor=n;var a=t("<div />");function o(t){return t?a.text(t).html():""}function s(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e,n,i;n={ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},e={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,n,i){var r,a,o;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),a=decodeURI("%C3%BF"),(o=new RegExp(t+"([A-Za-z"+r+"-"+a+"0-9_"+(i?" ":"")+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi").exec(e))?o[2]||o[1]:null},filter:function(t,e,n){var i,r,a,o;for(i=[],r=0,o=e.length;r<o;r++)a=e[r],~new String(a[n]).toLowerCase().indexOf(t.toLowerCase())&&i.push(a);return i},remoteFilter:null,sorter:function(t,e,n){var i,r,a,o;if(!t)return e;for(i=[],r=0,o=e.length;r<o;r++)(a=e[r]).atwho_order=new String(a[n]).toLowerCase().indexOf(t.toLowerCase()),a.atwho_order>-1&&i.push(a);return i.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var n,i;i=t;try{return"string"!=typeof t&&(i=t(e)),i.replace(/\$\{([^\}]*)\}/g,function(t,n,i){return e[n]})}catch(n){return n,""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*([^<]*?)("+e.replace("+","\\+")+")([^<]*)\\s*<","ig"),t.replace(n,function(t,e,n,i){return"> "+e+"<strong>"+n+"</strong>"+i+" <"})):t},beforeInsert:function(t,e,n){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},i=function(){function e(e){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=t(e),this.setupRootElement(),this.listen()}return e.prototype.createContainer=function(e){var n;return null!=(n=this.$el)&&n.remove(),t(e.body).append(this.$el=t("<div class='atwho-container'></div>"))},e.prototype.setupRootElement=function(e,n){var i,r;if(null==n&&(n=!1),e)this.window=e.contentWindow,this.document=e.contentDocument||this.window.document,this.iframe=e;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(r){if(i=r,this.iframe=null,t.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+i)}}return this.createContainer((this.iframeAsRoot=n)?this.document:document)},e.prototype.controller=function(t){var e,n,i,r;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else for(i in r=this.controllers)if(e=r[i],i===t){n=e;break}return n||this.controllers[this.currentFlag]},e.prototype.setContextFor=function(t){return this.currentFlag=t,this},e.prototype.reg=function(t,e){var n,i;return i=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new c(this,t):new o(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),i.init(e),this},e.prototype.listen=function(){return this.$inputor.on("compositionstart",(t=this,function(e){var n;return null!=(n=t.controller())&&n.view.hide(),t.isComposing=!0,null})).on("compositionend",function(t){return function(e){return t.isComposing=!1,setTimeout(function(e){return t.dispatch(e)}),null}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;if(n=t.controller())return n.expectedQueryCBId=null,n.view.hide(e,n.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(n){var i,r;return i=n.target.scrollTop,e!==i&&null!=(r=t.controller())&&r.view.hide(n),e=i,!0}}}(this)());var t},e.prototype.shutdown=function(){var t,e;for(t in e=this.controllers)e[t].destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},e.prototype.dispatch=function(t){var e,n,i,r;if(void 0!==t){for(e in r=[],i=this.controllers)n=i[e],r.push(n.lookUp(t));return r}},e.prototype.onKeyup=function(e){var i;switch(e.keyCode){case n.ESC:e.preventDefault(),null!=(i=this.controller())&&i.view.hide();break;case n.DOWN:case n.UP:case n.CTRL:case n.ENTER:t.noop();break;case n.P:case n.N:e.ctrlKey||this.dispatch(e);break;default:this.dispatch(e)}},e.prototype.onKeydown=function(e){var i,r;if((r=null!=(i=this.controller())?i.view:void 0)&&r.visible())switch(e.keyCode){case n.ESC:e.preventDefault(),r.hide(e);break;case n.UP:e.preventDefault(),r.prev();break;case n.DOWN:e.preventDefault(),r.next();break;case n.P:if(!e.ctrlKey)return;e.preventDefault(),r.prev();break;case n.N:if(!e.ctrlKey)return;e.preventDefault(),r.next();break;case n.TAB:case n.ENTER:case n.SPACE:if(!r.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&e.keyCode===n.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&e.keyCode===n.TAB)return;r.highlighted()?(e.preventDefault(),r.choose(e)):r.hide(e);break;default:t.noop()}},e}();var r,a=[].slice;r=function(){function n(e,n){this.app=e,this.at=n,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=t("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=t("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new u(this),this.view=new d(this)}return n.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},n.prototype.init=function(e){return this.setting=t.extend({},this.setting||t.fn.atwho.default,e),this.view.init(),this.model.reload(this.setting.data)},n.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},n.prototype.callDefault=function(){var n,i,r,o;o=arguments[0],n=2<=arguments.length?a.call(arguments,1):[];try{return e[o].apply(this,n)}catch(r){return i=r,t.error(i+" Or maybe At.js doesn't have function "+o)}},n.prototype.trigger=function(t,e){var n,i;return null==e&&(e=[]),e.push(this),i=(n=this.getOpt("alias"))?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(i,e)},n.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||e[t]},n.prototype.getOpt=function(t,e){var n;try{return this.setting[t]}catch(n){return n,null}},n.prototype.insertContentFor=function(e){var n,i;return i=this.getOpt("insertTpl"),n=t.extend({},e.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,i,n,"onInsert")},n.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},n.arrayToDefaultHash=function(e){var n,i,r,a;if(!t.isArray(e))return e;for(a=[],n=0,r=e.length;n<r;n++)i=e[n],t.isPlainObject(i)?a.push(i):a.push({name:i});return a},n.prototype.lookUp=function(t){var e,n;if((!t||"click"!==t.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},n.prototype._delayLookUp=function(t,e){var n,i,r;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),0<(i=e-(n-this.previousCallTime))&&i<e?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout((r=this,function(){return r.previousCallTime=0,r.delayedCallTimeout=null,r._lookUp(t)}),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},n.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},n.prototype._generateQueryCBId=function(){return{}},n.prototype._lookUp=function(e){var n;return n=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(e.text,t.proxy(n,this,this.expectedQueryCBId))},n}();var o,s=function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,r),n.prototype.catchQuery=function(){var t,e,n,i,r,a,o;if(e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),o=e.slice(0,t),!((i="string"==typeof(r=this.callbacks("matcher").call(this,this.at,o,this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))))&&r.length<this.getOpt("minLen",0)))return i&&r.length<=this.getOpt("maxLen",20)?(n=(a=t-r.length)+r.length,this.pos=a,r={text:r,headPos:a,endPos:n},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},n.prototype.rect=function(){var e,n,i;if(e=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(n=t(this.app.iframe).offset(),e.left+=n.left,e.top+=n.top),i=this.app.document.selection?0:2,{left:e.left,top:e.top,bottom:e.top+e.height+i}},n.prototype.insert=function(t,e){var n,i,r,a,o;return o=""+(r=(i=(n=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(t+=a=""===(a=this.getOpt("suffix"))?a:a||" ")+i.slice(this.query.endPos||0),n.val(o),n.caret("pos",r.length+t.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},n}();var c,u,d,f;s=function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;c=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,r),i.prototype._getRange=function(){var t;if((t=this.app.window.getSelection()).rangeCount>0)return t.getRangeAt(0)},i.prototype._setRange=function(e,n,i){if(null==i&&(i=this._getRange()),i&&n)return n=t(n)[0],"after"===e?(i.setEndAfter(n),i.setStartAfter(n)):(i.setEndBefore(n),i.setStartBefore(n)),i.collapse(!1),this._clearRange(i)},i.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},i.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===n.RIGHT||e===n.LEFT||e===n.UP||e===n.DOWN},i.prototype._unwrap=function(e){var n;return(n=(e=t(e).unwrap().get(0)).nextSibling)&&n.nodeValue&&(e.nodeValue+=n.nodeValue,t(n).remove()),e},i.prototype.catchQuery=function(e){var i,r,a,o,s,l,c,u,d,f,p,h;if((h=this._getRange())&&h.collapsed){if(e.which===n.ENTER)return(r=t(h.startContainer).closest(".atwho-query")).contents().unwrap(),r.is(":empty")&&r.remove(),(r=t(".atwho-query",this.app.document)).text(r.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(t(h.startContainer).is(this.$inputor))return void this._clearRange();e.which===n.BACKSPACE&&h.startContainer.nodeType===document.ELEMENT_NODE&&(d=h.startOffset-1)>=0?((a=h.cloneRange()).setStart(h.startContainer,d),t(a.cloneContents()).contents().last().is(".atwho-inserted")&&(s=t(h.startContainer).contents().get(d),this._setRange("after",t(s).contents().last()))):e.which===n.LEFT&&h.startContainer.nodeType===document.TEXT_NODE&&(i=t(h.startContainer.previousSibling)).is(".atwho-inserted")&&0===h.startOffset&&this._setRange("after",i.contents().last())}if(t(h.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(r=t(".atwho-query",this.app.document)).length>0&&r.is(":empty")&&0===r.text().length&&r.remove(),this._movingEvent(e)||r.removeClass("atwho-inserted"),r.length>0)switch(e.which){case n.LEFT:return this._setRange("before",r.get(0),h),void r.removeClass("atwho-query");case n.RIGHT:return this._setRange("after",r.get(0).nextSibling,h),void r.removeClass("atwho-query")}if(r.length>0&&(p=r.attr("data-atwho-at-query"))&&(r.empty().html(p).attr("data-atwho-at-query",null),this._setRange("after",r.get(0),h)),(a=h.cloneRange()).setStart(h.startContainer,0),l="string"==typeof(u=this.callbacks("matcher").call(this,this.at,a.toString(),this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))),0===r.length&&l&&(o=h.startOffset-this.at.length-u.length)>=0&&(h.setStart(h.startContainer,o),r=t("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),h.surroundContents(r.get(0)),(c=r.contents().last().get(0))&&(/firefox/i.test(navigator.userAgent)?(h.setStart(c,c.length),h.setEnd(c,c.length),this._clearRange(h)):this._setRange("after",c,h))),!(l&&u.length<this.getOpt("minLen",0)))return l&&u.length<=this.getOpt("maxLen",20)?(f={text:u,el:r},this.trigger("matched",[this.at,f.text]),this.query=f):(this.view.hide(),this.query={el:r},r.text().indexOf(this.at)>=0&&(this._movingEvent(e)&&r.hasClass("atwho-inserted")?r.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,r)&&this._setRange("after",this._unwrap(r.text(r.text()).contents().first()))),null)}},i.prototype.rect=function(){var e,n;if((n=this.query.el.offset())&&this.query.el[0].getClientRects().length)return this.app.iframe&&!this.app.iframeAsRoot&&(e=t(this.app.iframe).offset(),n.left+=e.left-this.$inputor.scrollLeft(),n.top+=e.top-this.$inputor.scrollTop()),n.bottom=n.top+this.query.el.height(),n},i.prototype.insert=function(t,e){var n,i,r,a,o;return this.$inputor.is(":focus")||this.$inputor.focus(),(i=this.getOpt("functionOverrides")).insert?i.insert.call(this,t,e):(a=""===(a=this.getOpt("suffix"))?a:a||" ",n=e.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t).attr("data-atwho-at-query",""+n["atwho-at"]+this.query.text).attr("contenteditable","false"),(r=this._getRange())&&(this.query.el.length&&r.setEndAfter(this.query.el[0]),r.collapse(!1),r.insertNode(o=this.app.document.createTextNode(""+a)),this._setRange("after",o,r)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change())},i}(),u=function(){function e(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return e.prototype.destroy=function(){return this.storage.data(this.at,null)},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(t,e){var n,i,r;return i=this.fetch(),r=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,t,i,r)||[],n=this.context.callbacks("remoteFilter"),i.length>0||!n&&0===i.length?e(i):n.call(this.context,t,e)},e.prototype.fetch=function(){return this.storage.data(this.at)||[]},e.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},e.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},e.prototype.reload=function(t){return this._load(t)},e.prototype._load=function(e){return"string"==typeof e?t.ajax(e,{dataType:"json"}).done((n=this,function(t){return n.save(t)})):this.save(e);var n},e}(),d=function(){function e(e){this.context=e,this.$el=t("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return e.prototype.init=function(){var t,e;return e=this.context.getOpt("alias")||this.context.at.charCodeAt(0),(t=this.context.getOpt("headerTpl"))&&1===this.$el.children().length&&this.$el.prepend(t),this.$el.attr({id:"at-view-"+e})},e.prototype.destroy=function(){return this.$el.remove()},e.prototype.bindEvent=function(){var e,n,i,r;return e=this.$el.find("ul"),n=0,i=0,e.on("mousemove.atwho-view","li",function(r){var a;if((n!==r.clientX||i!==r.clientY)&&(n=r.clientX,i=r.clientY,!(a=t(r.currentTarget)).hasClass("cur")))return e.find(".cur").removeClass("cur"),a.addClass("cur")}).on("click.atwho-view","li",(r=this,function(n){return e.find(".cur").removeClass("cur"),t(n.currentTarget).addClass("cur"),r.choose(n),n.preventDefault()}))},e.prototype.visible=function(){return t.expr.filters.visible(this.$el[0])},e.prototype.highlighted=function(){return this.$el.find(".cur").length>0},e.prototype.choose=function(t){var e,n;if((e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e,t),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},e.prototype.reposition=function(e){var n,i,r,a;return n=this.context.app.iframeAsRoot?this.context.app.window:window,e.bottom+this.$el.height()-t(n).scrollTop()>t(n).height()&&(e.bottom=e.top-this.$el.height()),e.left>(r=t(n).width()-this.$el.width()-5)&&(e.left=r),i={left:e.left,top:e.bottom},null!=(a=this.context.callbacks("beforeReposition"))&&a.call(this.context,i),this.$el.offset(i),this.context.trigger("reposition",[i])},e.prototype.next=function(){var t,e,n;return(t=this.$el.find(".cur").removeClass("cur").next()).length||(t=this.$el.find("li:first")),t.addClass("cur"),n=(e=t[0]).offsetTop+e.offsetHeight+(e.nextSibling?e.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,n-this.$el.height()))},e.prototype.prev=function(){var t,e,n;return(e=this.$el.find(".cur").removeClass("cur").prev()).length||(e=this.$el.find("li:last")),e.addClass("cur"),t=(n=e[0]).offsetTop+n.offsetHeight+(n.nextSibling?n.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,t-this.$el.height()))},e.prototype.scrollTop=function(t){var e;return(e=this.context.getOpt("scrollDuration"))?this.$elUl.animate({scrollTop:t},e):this.$elUl.scrollTop(t)},e.prototype.show=function(){var t;if(!this.stopShowing)return this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0;this.stopShowing=!1},e.prototype.hide=function(t,e){var n,i;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(i=this,n=function(){return i.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},e.prototype.render=function(e){var n,i,r,a,o,s,l;if(t.isArray(e)&&e.length>0){for(this.$el.find("ul").empty(),i=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),r=0,o=e.length;r<o;r++)a=e[r],a=t.extend({},a,{"atwho-at":this.context.at}),s=this.context.callbacks("tplEval").call(this.context,l,a,"onDisplay"),(n=t(this.context.callbacks("highlighter").call(this.context,s,this.context.query.text))).data("item-data",a),i.append(n);return this.show(),this.context.getOpt("highlightFirst")?i.find("li:first").addClass("cur"):void 0}this.hide()},e}(),f={load:function(t,e){var n;if(n=this.controller(t))return n.model.load(e)},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},t.fn.atwho=function(e){var n,r;return n=arguments,r=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var a,o;return(o=(a=t(this)).data("atwho"))||a.data("atwho",o=new i(this)),"object"!=typeof e&&e?f[e]&&o?r=f[e].apply(o,Array.prototype.slice.call(n,1)):t.error("Method "+e+" does not exist on jQuery.atwho"):o.reg(e.at,e)}),null!=r?r:this},t.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:e,functionOverrides:{},searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,acceptSpaceBar:!1,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},t.fn.atwho.debug=!1}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){"use strict";var e=/\r?\n/g,n={};n.fileapi=void 0!==t('<input type="file">').get(0).files,n.formdata=void 0!==window.FormData;var i=!!t.fn.prop;function r(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).closest("form").ajaxSubmit(n))}function a(e){var n=e.target,i=t(n);if(!i.is("[type=submit],[type=image]")){var r=i.closest("[type=submit]");if(0===r.length)return;n=r[0]}var a=n.form;if(a.clk=n,"image"===n.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=i.offset();a.clk_x=e.pageX-o.left,a.clk_y=e.pageY-o.top}else a.clk_x=e.pageX-n.offsetLeft,a.clk_y=e.pageY-n.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function o(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e,r,a,s){if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof e?e={success:e}:"string"==typeof e||!1===e&&arguments.length>0?(e={url:e,data:r,dataType:a},"function"==typeof s&&(e.success=s)):void 0===e&&(e={}),l=e.method||e.type||this.attr2("method"),(u=(u="string"==typeof(c=e.url||this.attr2("action"))?t.trim(c):"")||window.location.href||"")&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var f={};if(this.trigger("form-pre-serialize",[this,e,f]),f.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var h,m=[],g=this.formToArray(e.semantic,m,e.filtering);if(e.data){var v=t.isFunction(e.data)?e.data(g):e.data;e.extraData=v,h=t.param(v,p)}if(e.beforeSubmit&&!1===e.beforeSubmit(g,this,e))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,f]),f.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var y=t.param(g,p);h&&(y=y?y+"&"+h:h),"GET"===e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+y,e.data=null):e.data=y;var b=[];if(e.resetForm&&b.push(function(){d.resetForm()}),e.clearForm&&b.push(function(){d.clearForm(e.includeHidden)}),!e.dataType&&e.target){var _=e.success||function(){};b.push(function(n,i,r){var a=arguments,o=e.replaceTarget?"replaceWith":"html";t(e.target)[o](n).each(function(){_.apply(this,a)})})}else e.success&&(t.isArray(e.success)?t.merge(b,e.success):b.push(e.success));if(e.success=function(t,n,i){for(var r=e.context||this,a=0,o=b.length;a<o;a++)b[a].apply(r,[t,n,i||d,d])},e.error){var w=e.error;e.error=function(t,n,i){var r=e.context||this;w.apply(r,[t,n,i,d])}}if(e.complete){var x=e.complete;e.complete=function(t,n){var i=e.context||this;x.apply(i,[t,n,d])}}var T=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}).length>0,k="multipart/form-data",C=d.attr("enctype")===k||d.attr("encoding")===k,E=n.fileapi&&n.formdata;o("fileAPI :"+E);var S,A=(T||C)&&!E;!1!==e.iframe&&(e.iframe||A)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){S=L(g)}):S=L(g):S=(T||C)&&E?function(n){for(var i=new FormData,r=0;r<n.length;r++)i.append(n[r].name,n[r].value);if(e.extraData){var a=function(n){var i,r,a=t.param(n,e.traditional).split("&"),o=a.length,s=[];for(i=0;i<o;i++)a[i]=a[i].replace(/\+/g," "),r=a[i].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}(e.extraData);for(r=0;r<a.length;r++)a[r]&&i.append(a[r][0],a[r][1])}e.data=null;var o=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(o.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){var n=0,i=t.loaded||t.position,r=t.total;t.lengthComputable&&(n=Math.ceil(i/r*100)),e.uploadProgress(t,i,r,n)},!1),n});o.data=null;var s=o.beforeSend;return o.beforeSend=function(t,n){e.formData?n.data=e.formData:n.data=i,s&&s.call(this,t,n)},t.ajax(o)}(g):t.ajax(e),d.removeData("jqxhr").data("jqxhr",S);for(var R=0;R<m.length;R++)m[R]=null;return this.trigger("form-submit-notify",[this,e]),this;function L(n){var r,a,s,c,u,f,p,h,g,v,y,b,_=d[0],w=t.Deferred();if(w.abort=function(t){h.abort(t)},n)for(a=0;a<m.length;a++)r=t(m[a]),i?r.prop("disabled",!1):r.removeAttr("disabled");(s=t.extend(!0,{},t.ajaxSettings,e)).context=s.context||s,u="jqFormIO"+(new Date).getTime();var x=_.ownerDocument,T=d.closest("body");if(s.iframeTarget?(v=(f=t(s.iframeTarget,x)).attr2("name"))?u=v:f.attr2("name",u):(f=t('<iframe name="'+u+'" src="'+s.iframeSrc+'" />',x)).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=f[0],h={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";o("aborting upload... "+n),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(t){}f.attr("src",s.iframeSrc),h.error=n,s.error&&s.error.call(s.context,h,n,e),c&&t.event.trigger("ajaxError",[h,s,n]),s.complete&&s.complete.call(s.context,h,n)}},(c=s.global)&&0==t.active++&&t.event.trigger("ajaxStart"),c&&t.event.trigger("ajaxSend",[h,s]),s.beforeSend&&!1===s.beforeSend.call(s.context,h,s))return s.global&&t.active--,w.reject(),w;if(h.aborted)return w.reject(),w;(g=_.clk)&&(v=g.name)&&!g.disabled&&(s.extraData=s.extraData||{},s.extraData[v]=g.value,"image"===g.type&&(s.extraData[v+".x"]=_.clk_x,s.extraData[v+".y"]=_.clk_y));var k=1,C=2;function E(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){o("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){o("cannot get iframe.contentDocument: "+n),e=t.document}return e}var S=t("meta[name=csrf-token]").attr("content"),A=t("meta[name=csrf-param]").attr("content");function R(){var e=d.attr2("target"),n=d.attr2("action"),i=d.attr("enctype")||d.attr("encoding")||"multipart/form-data";_.setAttribute("target",u),l&&!/post/i.test(l)||_.setAttribute("method","POST"),n!==s.url&&_.setAttribute("action",s.url),s.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),s.timeout&&(b=setTimeout(function(){y=!0,P(k)},s.timeout));var r=[];try{if(s.extraData)for(var a in s.extraData)s.extraData.hasOwnProperty(a)&&(t.isPlainObject(s.extraData[a])&&s.extraData[a].hasOwnProperty("name")&&s.extraData[a].hasOwnProperty("value")?r.push(t('<input type="hidden" name="'+s.extraData[a].name+'">',x).val(s.extraData[a].value).appendTo(_)[0]):r.push(t('<input type="hidden" name="'+a+'">',x).val(s.extraData[a]).appendTo(_)[0]));s.iframeTarget||f.appendTo(T),p.attachEvent?p.attachEvent("onload",P):p.addEventListener("load",P,!1),setTimeout(function t(){try{var e=E(p).readyState;o("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(t){o("Server abort: ",t," (",t.name,")"),P(C),b&&clearTimeout(b),b=void 0}},15);try{_.submit()}catch(t){document.createElement("form").submit.apply(_)}}finally{_.setAttribute("action",n),_.setAttribute("enctype",i),e?_.setAttribute("target",e):d.removeAttr("target"),t(r).remove()}}A&&S&&(s.extraData=s.extraData||{},s.extraData[A]=S),s.forceSync?R():setTimeout(R,10);var L,D,O,I=50;function P(e){if(!h.aborted&&!O){if((D=E(p))||(o("cannot access response document"),e=C),e===k&&h)return h.abort("timeout"),void w.reject(h,"timeout");if(e===C&&h)return h.abort("server abort"),void w.reject(h,"error","server abort");if(D&&D.location.href!==s.iframeSrc||y){p.detachEvent?p.detachEvent("onload",P):p.removeEventListener("load",P,!1);var n,i="success";try{if(y)throw"timeout";var r="xml"===s.dataType||D.XMLDocument||t.isXMLDoc(D);if(o("isXml="+r),!r&&window.opera&&(null===D.body||!D.body.innerHTML)&&--I)return o("requeing onLoad callback, DOM not available"),void setTimeout(P,250);var a=D.body?D.body:D.documentElement;h.responseText=a?a.innerHTML:null,h.responseXML=D.XMLDocument?D.XMLDocument:D,r&&(s.dataType="xml"),h.getResponseHeader=function(t){return{"content-type":s.dataType}[t.toLowerCase()]},a&&(h.status=Number(a.getAttribute("status"))||h.status,h.statusText=a.getAttribute("statusText")||h.statusText);var l=(s.dataType||"").toLowerCase(),u=/(json|script|text)/.test(l);if(u||s.textarea){var d=D.getElementsByTagName("textarea")[0];if(d)h.responseText=d.value,h.status=Number(d.getAttribute("status"))||h.status,h.statusText=d.getAttribute("statusText")||h.statusText;else if(u){var m=D.getElementsByTagName("pre")[0],g=D.getElementsByTagName("body")[0];m?h.responseText=m.textContent?m.textContent:m.innerText:g&&(h.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"===l&&!h.responseXML&&h.responseText&&(h.responseXML=N(h.responseText));try{L=F(h,l,s)}catch(t){i="parsererror",h.error=n=t||i}}catch(t){o("error caught: ",t),i="error",h.error=n=t||i}h.aborted&&(o("upload aborted"),i=null),h.status&&(i=h.status>=200&&h.status<300||304===h.status?"success":"error"),"success"===i?(s.success&&s.success.call(s.context,L,"success",h),w.resolve(h.responseText,"success",h),c&&t.event.trigger("ajaxSuccess",[h,s])):i&&(void 0===n&&(n=h.statusText),s.error&&s.error.call(s.context,h,i,n),w.reject(h,"error",n),c&&t.event.trigger("ajaxError",[h,s,n])),c&&t.event.trigger("ajaxComplete",[h,s]),c&&!--t.active&&t.event.trigger("ajaxStop"),s.complete&&s.complete.call(s.context,h,i),O=!0,s.timeout&&clearTimeout(b),setTimeout(function(){s.iframeTarget?f.attr("src",s.iframeSrc):f.remove(),h.responseXML=null},100)}}}var N=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!==e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},F=function(e,n,i){var r=e.getResponseHeader("content-type")||"",a=("xml"===n||!n)&&r.indexOf("xml")>=0,o=a?e.responseXML:e.responseText;return a&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,n)),"string"==typeof o&&(("json"===n||!n)&&r.indexOf("json")>=0?o=M(o):("script"===n||!n)&&r.indexOf("javascript")>=0&&t.globalEval(o)),o};return w}},t.fn.ajaxForm=function(e,n,i,s){if(("string"==typeof e||!1===e&&arguments.length>0)&&(e={url:e,data:n,dataType:i},"function"==typeof s&&(e.success=s)),(e=e||{}).delegation=e.delegation&&t.isFunction(t.fn.on),!e.delegation&&0===this.length){var l={s:this.selector,c:this.context};return!t.isReady&&l.s?(o("DOM not ready, queuing ajaxForm"),t(function(){t(l.s,l.c).ajaxForm(e)}),this):(o("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return e.delegation?(t(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,r).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().on("submit.form-plugin",e,r).on("click.form-plugin",e,a)},t.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i,r){var a=[];if(0===this.length)return a;var o,s,l,c,u,d,f,p,h=this[0],m=this.attr("id"),g=e||void 0===h.elements?h.getElementsByTagName("*"):h.elements;if(g&&(g=t.makeArray(g)),m&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(o=t(':input[form="'+m+'"]').get()).length&&(g=(g||[]).concat(o)),!g||!g.length)return a;for(t.isFunction(r)&&(g=t.map(g,r)),s=0,f=g.length;s<f;s++)if((c=(d=g[s]).name)&&!d.disabled)if(e&&h.clk&&"image"===d.type)h.clk===d&&(a.push({name:c,value:t(d).val(),type:d.type}),a.push({name:c+".x",value:h.clk_x},{name:c+".y",value:h.clk_y}));else if((u=t.fieldValue(d,!0))&&u.constructor===Array)for(i&&i.push(d),l=0,p=u.length;l<p;l++)a.push({name:c,value:u[l]});else if(n.fileapi&&"file"===d.type){i&&i.push(d);var v=d.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:c,value:v[l],type:d.type});else a.push({name:c,value:"",type:d.type})}else null!=u&&(i&&i.push(d),a.push({name:c,value:u,type:d.type,required:d.required}));if(!e&&h.clk){var y=t(h.clk),b=y[0];(c=b.name)&&!b.disabled&&"image"===b.type&&(a.push({name:c,value:y.val()}),a.push({name:c+".x",value:h.clk_x},{name:c+".y",value:h.clk_y}))}return a},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var i=this.name;if(i){var r=t.fieldValue(this,e);if(r&&r.constructor===Array)for(var a=0,o=r.length;a<o;a++)n.push({name:i,value:r[a]});else null!=r&&n.push({name:this.name,value:r})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,r=this.length;i<r;i++){var a=this[i],o=t.fieldValue(a,e);null==o||o.constructor===Array&&!o.length||(o.constructor===Array?t.merge(n,o):n.push(o))}return n},t.fieldValue=function(n,i){var r=n.name,a=n.type,o=n.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!r||n.disabled||"reset"===a||"button"===a||("checkbox"===a||"radio"===a)&&!n.checked||("submit"===a||"image"===a)&&n.form&&n.form.clk!==n||"select"===o&&-1===n.selectedIndex))return null;if("select"===o){var s=n.selectedIndex;if(s<0)return null;for(var l=[],c=n.options,u="select-one"===a,d=u?s+1:c.length,f=u?s:0;f<d;f++){var p=c[f];if(p.selected&&!p.disabled){var h=p.value;if(h||(h=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),u)return h;l.push(h)}}return l}return t(n).val().replace(e,"\r\n")},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();n.test(i)||"textarea"===r?this.value="":"checkbox"===i||"radio"===i?this.checked=!1:"select"===r?this.selectedIndex=-1:"file"===i?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(i)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){var e=t(this),n=this.tagName.toLowerCase();switch(n){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var i=e.parents("select");return i.length&&i[0].multiple?"option"===n?this.selected=this.defaultSelected:e.find("option").resetForm():i.resetForm(),!0;case"select":return e.find("option").each(function(t){if(this.selected=this.defaultSelected,this.defaultSelected&&!e[0].multiple)return e[0].selectedIndex=t,!1}),!0;case"label":var r=t(e.attr("for")),a=e.find("input,select,textarea");return r[0]&&a.unshift(r[0]),a.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return e.find("form,input,label,select,textarea").resetForm(),!0}})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"===n||"radio"===n)this.checked=e;else if("option"===this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"===i[0].type&&i.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.returnExportsGlobal=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,n,i,r,a,o,s,l;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){var e,n,i,r;return(r=s.getSelection())&&(i=0,n=!1,(e=function(t,a){var s,l,c,u,d,f;for(f=[],c=0,u=(d=a.childNodes).length;c<u&&(s=d[c],!n);c++)if(3===s.nodeType){if(i+s.length>=t){n=!0,(l=o.createRange()).setStart(s,t-i),r.removeAllRanges(),r.addRange(l);break}f.push(i+=s.length)}else f.push(e(t,s));return f})(t,this.domInputor)),this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=o.selection.createRange(),(t=o.body.createTextRange()).moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?((t=n.cloneRange()).selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):o.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return(t=o.selection.createRange().duplicate()).moveStart("character",-1),{height:(e=t.getBoundingClientRect()).bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var n,i,r,a,l;return s.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer!==this.domInputor&&((n=r.cloneRange()).setStart(r.endContainer,r.endOffset-1),n.setEnd(r.endContainer,r.endOffset),i={height:(a=n.getBoundingClientRect()).height,left:a.left+a.width,top:a.top},n.detach()),i&&0!==(null!=i?i.height:void 0)||(n=r.cloneRange(),l=t(o.createTextNode("|")),n.insertNode(l[0]),n.selectNode(l[0]),i={height:(a=n.getBoundingClientRect()).height,left:a.left,top:a.top},l.remove(),n.detach())):o.selection&&(i=this.getOldIEOffset()),i&&(i.top+=t(s).scrollTop(),i.left+=t(s).scrollLeft()),i},e.prototype.range=function(){var t;if(s.getSelection)return(t=s.getSelection()).rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,i,r,a;return e=this.domInputor,i=0,(r=o.selection.createRange())&&r.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n").length,(a=e.createTextRange()).moveToBookmark(r.getBookmark()),(t=e.createTextRange()).collapse(!1),i=a.compareEndPoints("StartToEnd",t)>-1?n:-a.moveStart("character",-n)),i},e.prototype.getPos=function(){return o.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,o.selection?((n=e.createTextRange()).move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e;return e=this.domInputor.createTextRange(),t||(t=this.getPos()),e.move("character",t),{left:e.boundingLeft,top:e.boundingTop,height:e.boundingHeight}},e.prototype.getOffset=function(e){var n,i,r;return n=this.$inputor,o.selection?((i=this.getIEOffset(e)).top+=t(s).scrollTop()+n.scrollTop(),i.left+=t(s).scrollLeft()+n.scrollLeft(),i):(i=n.offset(),r=this.getPosition(e),{left:i.left+r.left-n.scrollLeft(),top:i.top+r.top-n.scrollTop(),height:r.height})},e.prototype.getPosition=function(t){var e,n,r,a,o;return e=this.$inputor,r=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),o=e.val().slice(0,t),n=e.val().slice(t),a="<span style='position: relative; display: inline;'>"+r(o)+"</span>",a+="<span id='caret' style='position: relative; display: inline;'>|</span>",a+="<span style='position: relative; display: inline;'>"+r(n)+"</span>",new i(e).create(a).rect()},e.prototype.getIEPosition=function(t){var e,n;return n=this.getIEOffset(t),e=this.$inputor.offset(),{left:n.left-e.left,top:n.top-e.top,height:n.height}},e}(),i=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,i){return e[i]=n.$inputor.css(i)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return n={left:(e=(t=this.$mirror.find("#caret")).position()).left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),r={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},a={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return o.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},o=null,s=null,l=function(t){var e;return(e=null!=t?t.iframe:void 0)?(e,s=e.contentWindow,o=e.contentDocument||s.document):(void 0,s=window,o=document)},t.fn.caret=function(i,o,s){var c;return a[i]?(t.isPlainObject(o)?(l(o),o=void 0):l(s),c=r.contentEditable(this)?new e(this):new n(this),a[i].apply(c,[o])):t.error("Method "+i+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=r,t.fn.caret.apis=a});
